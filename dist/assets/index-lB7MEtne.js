(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))a(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function p(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(f){if(f.ep)return;f.ep=!0;const d=p(f);fetch(f.href,d)}})();/**
* @vue/shared v3.4.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function lo(n,s){const p=new Set(n.split(","));return s?a=>p.has(a.toLowerCase()):a=>p.has(a)}const Fe={},Tn=[],Qe=()=>{},wl=()=>!1,Ai=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Rs=n=>n.startsWith("onUpdate:"),ke=Object.assign,Is=(n,s)=>{const p=n.indexOf(s);p>-1&&n.splice(p,1)},El=Object.prototype.hasOwnProperty,ve=(n,s)=>El.call(n,s),Vt=Array.isArray,Rn=n=>Kn(n)==="[object Map]",Fn=n=>Kn(n)==="[object Set]",ha=n=>Kn(n)==="[object Date]",Fl=n=>Kn(n)==="[object RegExp]",te=n=>typeof n=="function",Ce=n=>typeof n=="string",Xr=n=>typeof n=="symbol",xe=n=>n!==null&&typeof n=="object",Os=n=>(xe(n)||te(n))&&te(n.then)&&te(n.catch),mu=Object.prototype.toString,Kn=n=>mu.call(n),xl=n=>Kn(n).slice(8,-1),yu=n=>Kn(n)==="[object Object]",Ls=n=>Ce(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,ai=lo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fo=n=>{const s=Object.create(null);return p=>s[p]||(s[p]=n(p))},Al=/-(\w)/g,Ge=fo(n=>n.replace(Al,(s,p)=>p?p.toUpperCase():"")),Pl=/\B([A-Z])/g,sr=fo(n=>n.replace(Pl,"-$1").toLowerCase()),Pi=fo(n=>n.charAt(0).toUpperCase()+n.slice(1)),ui=fo(n=>n?`on${Pi(n)}`:""),Sr=(n,s)=>!Object.is(n,s),In=(n,s)=>{for(let p=0;p<n.length;p++)n[p](s)},Xi=(n,s,p)=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!1,value:p})},Qi=n=>{const s=parseFloat(n);return isNaN(s)?n:s},Zi=n=>{const s=Ce(n)?Number(n):NaN;return isNaN(s)?n:s};let da;const _u=()=>da||(da=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),kl="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",Cl=lo(kl);function ki(n){if(Vt(n)){const s={};for(let p=0;p<n.length;p++){const a=n[p],f=Ce(a)?Ol(a):ki(a);if(f)for(const d in f)s[d]=f[d]}return s}else if(Ce(n)||xe(n))return n}const Tl=/;(?![^(]*\))/g,Rl=/:([^]+)/,Il=/\/\*[^]*?\*\//g;function Ol(n){const s={};return n.replace(Il,"").split(Tl).forEach(p=>{if(p){const a=p.split(Rl);a.length>1&&(s[a[0].trim()]=a[1].trim())}}),s}function Ci(n){let s="";if(Ce(n))s=n;else if(Vt(n))for(let p=0;p<n.length;p++){const a=Ci(n[p]);a&&(s+=a+" ")}else if(xe(n))for(const p in n)n[p]&&(s+=p+" ");return s.trim()}function Ll(n){if(!n)return null;let{class:s,style:p}=n;return s&&!Ce(s)&&(n.class=Ci(s)),p&&(n.style=ki(p)),n}const Nl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dl=lo(Nl);function bu(n){return!!n||n===""}function Ul(n,s){if(n.length!==s.length)return!1;let p=!0;for(let a=0;p&&a<n.length;a++)p=Qr(n[a],s[a]);return p}function Qr(n,s){if(n===s)return!0;let p=ha(n),a=ha(s);if(p||a)return p&&a?n.getTime()===s.getTime():!1;if(p=Xr(n),a=Xr(s),p||a)return n===s;if(p=Vt(n),a=Vt(s),p||a)return p&&a?Ul(n,s):!1;if(p=xe(n),a=xe(s),p||a){if(!p||!a)return!1;const f=Object.keys(n).length,d=Object.keys(s).length;if(f!==d)return!1;for(const i in n){const v=n.hasOwnProperty(i),g=s.hasOwnProperty(i);if(v&&!g||!v&&g||!Qr(n[i],s[i]))return!1}}return String(n)===String(s)}function ho(n,s){return n.findIndex(p=>Qr(p,s))}const Su=n=>Ce(n)?n:n==null?"":Vt(n)||xe(n)&&(n.toString===mu||!te(n.toString))?JSON.stringify(n,wu,2):String(n),wu=(n,s)=>s&&s.__v_isRef?wu(n,s.value):Rn(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((p,[a,f],d)=>(p[Wo(a,d)+" =>"]=f,p),{})}:Fn(s)?{[`Set(${s.size})`]:[...s.values()].map(p=>Wo(p))}:Xr(s)?Wo(s):xe(s)&&!Vt(s)&&!yu(s)?String(s):s,Wo=(n,s="")=>{var p;return Xr(n)?`Symbol(${(p=n.description)!=null?p:s})`:n};/**
* @vue/reactivity v3.4.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ir;class Ns{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ir,!s&&ir&&(this.index=(ir.scopes||(ir.scopes=[])).push(this)-1)}get active(){return this._active}run(s){if(this._active){const p=ir;try{return ir=this,s()}finally{ir=p}}}on(){ir=this}off(){ir=this.parent}stop(s){if(this._active){let p,a;for(p=0,a=this.effects.length;p<a;p++)this.effects[p].stop();for(p=0,a=this.cleanups.length;p<a;p++)this.cleanups[p]();if(this.scopes)for(p=0,a=this.scopes.length;p<a;p++)this.scopes[p].stop(!0);if(!this.detached&&this.parent&&!s){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function jl(n){return new Ns(n)}function Eu(n,s=ir){s&&s.active&&s.effects.push(n)}function Fu(){return ir}function Ml(n){ir&&ir.cleanups.push(n)}let gn;class Un{constructor(s,p,a,f){this.fn=s,this.trigger=p,this.scheduler=a,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,Eu(this,f)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,xn();for(const s of this.deps)if(s.computed&&(Bl(s.computed),this._dirtyLevel>=2))break;An(),this._queryings--}return this._dirtyLevel>=2}set dirty(s){this._dirtyLevel=s?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let s=Yr,p=gn;try{return Yr=!0,gn=this,this._runnings++,ga(this),this.fn()}finally{pa(this),this._runnings--,gn=p,Yr=s}}stop(){var s;this.active&&(ga(this),pa(this),(s=this.onStop)==null||s.call(this),this.active=!1)}}function Bl(n){return n.value}function ga(n){n._trackId++,n._depsLength=0}function pa(n){if(n.deps&&n.deps.length>n._depsLength){for(let s=n._depsLength;s<n.deps.length;s++)xu(n.deps[s],n);n.deps.length=n._depsLength}}function xu(n,s){const p=n.get(s);p!==void 0&&s._trackId!==p&&(n.delete(s),n.size===0&&n.cleanup())}function Hl(n,s){n.effect instanceof Un&&(n=n.effect.fn);const p=new Un(n,Qe,()=>{p.dirty&&p.run()});s&&(ke(p,s),s.scope&&Eu(p,s.scope)),(!s||!s.lazy)&&p.run();const a=p.run.bind(p);return a.effect=p,a}function Vl(n){n.effect.stop()}let Yr=!0,ss=0;const Au=[];function xn(){Au.push(Yr),Yr=!1}function An(){const n=Au.pop();Yr=n===void 0?!0:n}function Ds(){ss++}function Us(){for(ss--;!ss&&as.length;)as.shift()()}function Pu(n,s,p){if(s.get(n)!==n._trackId){s.set(n,n._trackId);const a=n.deps[n._depsLength];a!==s?(a&&xu(a,n),n.deps[n._depsLength++]=s):n._depsLength++}}const as=[];function ku(n,s,p){Ds();for(const a of n.keys())if(!(!a.allowRecurse&&a._runnings)&&a._dirtyLevel<s&&(!a._runnings||s!==2)){const f=a._dirtyLevel;a._dirtyLevel=s,f===0&&(!a._queryings||s!==2)&&(a.trigger(),a.scheduler&&as.push(a.scheduler))}Us()}const Cu=(n,s)=>{const p=new Map;return p.cleanup=n,p.computed=s,p},to=new WeakMap,pn=Symbol(""),us=Symbol("");function tr(n,s,p){if(Yr&&gn){let a=to.get(n);a||to.set(n,a=new Map);let f=a.get(p);f||a.set(p,f=Cu(()=>a.delete(p))),Pu(gn,f)}}function Nr(n,s,p,a,f,d){const i=to.get(n);if(!i)return;let v=[];if(s==="clear")v=[...i.values()];else if(p==="length"&&Vt(n)){const g=Number(a);i.forEach((u,l)=>{(l==="length"||!Xr(l)&&l>=g)&&v.push(u)})}else switch(p!==void 0&&v.push(i.get(p)),s){case"add":Vt(n)?Ls(p)&&v.push(i.get("length")):(v.push(i.get(pn)),Rn(n)&&v.push(i.get(us)));break;case"delete":Vt(n)||(v.push(i.get(pn)),Rn(n)&&v.push(i.get(us)));break;case"set":Rn(n)&&v.push(i.get(pn));break}Ds();for(const g of v)g&&ku(g,3);Us()}function Kl(n,s){var p;return(p=to.get(n))==null?void 0:p.get(s)}const ql=lo("__proto__,__v_isRef,__isVue"),Tu=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Xr)),va=Wl();function Wl(){const n={};return["includes","indexOf","lastIndexOf"].forEach(s=>{n[s]=function(...p){const a=de(this);for(let d=0,i=this.length;d<i;d++)tr(a,"get",d+"");const f=a[s](...p);return f===-1||f===!1?a[s](...p.map(de)):f}}),["push","pop","shift","unshift","splice"].forEach(s=>{n[s]=function(...p){xn(),Ds();const a=de(this)[s].apply(this,p);return Us(),An(),a}}),n}function Jl(n){const s=de(this);return tr(s,"has",n),s.hasOwnProperty(n)}class Ru{constructor(s=!1,p=!1){this._isReadonly=s,this._shallow=p}get(s,p,a){const f=this._isReadonly,d=this._shallow;if(p==="__v_isReactive")return!f;if(p==="__v_isReadonly")return f;if(p==="__v_isShallow")return d;if(p==="__v_raw")return a===(f?d?Uu:Du:d?Nu:Lu).get(s)||Object.getPrototypeOf(s)===Object.getPrototypeOf(a)?s:void 0;const i=Vt(s);if(!f){if(i&&ve(va,p))return Reflect.get(va,p,a);if(p==="hasOwnProperty")return Jl}const v=Reflect.get(s,p,a);return(Xr(p)?Tu.has(p):ql(p))||(f||tr(s,"get",p),d)?v:He(v)?i&&Ls(p)?v:v.value:xe(v)?f?Bs(v):Ti(v):v}}class Iu extends Ru{constructor(s=!1){super(!1,s)}set(s,p,a,f){let d=s[p];if(!this._shallow){const g=_n(d);if(!vi(a)&&!_n(a)&&(d=de(d),a=de(a)),!Vt(s)&&He(d)&&!He(a))return g?!1:(d.value=a,!0)}const i=Vt(s)&&Ls(p)?Number(p)<s.length:ve(s,p),v=Reflect.set(s,p,a,f);return s===de(f)&&(i?Sr(a,d)&&Nr(s,"set",p,a):Nr(s,"add",p,a)),v}deleteProperty(s,p){const a=ve(s,p);s[p];const f=Reflect.deleteProperty(s,p);return f&&a&&Nr(s,"delete",p,void 0),f}has(s,p){const a=Reflect.has(s,p);return(!Xr(p)||!Tu.has(p))&&tr(s,"has",p),a}ownKeys(s){return tr(s,"iterate",Vt(s)?"length":pn),Reflect.ownKeys(s)}}class Ou extends Ru{constructor(s=!1){super(!0,s)}set(s,p){return!0}deleteProperty(s,p){return!0}}const zl=new Iu,$l=new Ou,Gl=new Iu(!0),Yl=new Ou(!0),js=n=>n,go=n=>Reflect.getPrototypeOf(n);function Ni(n,s,p=!1,a=!1){n=n.__v_raw;const f=de(n),d=de(s);p||(Sr(s,d)&&tr(f,"get",s),tr(f,"get",d));const{has:i}=go(f),v=a?js:p?Ks:mi;if(i.call(f,s))return v(n.get(s));if(i.call(f,d))return v(n.get(d));n!==f&&n.get(s)}function Di(n,s=!1){const p=this.__v_raw,a=de(p),f=de(n);return s||(Sr(n,f)&&tr(a,"has",n),tr(a,"has",f)),n===f?p.has(n):p.has(n)||p.has(f)}function Ui(n,s=!1){return n=n.__v_raw,!s&&tr(de(n),"iterate",pn),Reflect.get(n,"size",n)}function ma(n){n=de(n);const s=de(this);return go(s).has.call(s,n)||(s.add(n),Nr(s,"add",n,n)),this}function ya(n,s){s=de(s);const p=de(this),{has:a,get:f}=go(p);let d=a.call(p,n);d||(n=de(n),d=a.call(p,n));const i=f.call(p,n);return p.set(n,s),d?Sr(s,i)&&Nr(p,"set",n,s):Nr(p,"add",n,s),this}function _a(n){const s=de(this),{has:p,get:a}=go(s);let f=p.call(s,n);f||(n=de(n),f=p.call(s,n)),a&&a.call(s,n);const d=s.delete(n);return f&&Nr(s,"delete",n,void 0),d}function ba(){const n=de(this),s=n.size!==0,p=n.clear();return s&&Nr(n,"clear",void 0,void 0),p}function ji(n,s){return function(a,f){const d=this,i=d.__v_raw,v=de(i),g=s?js:n?Ks:mi;return!n&&tr(v,"iterate",pn),i.forEach((u,l)=>a.call(f,g(u),g(l),d))}}function Mi(n,s,p){return function(...a){const f=this.__v_raw,d=de(f),i=Rn(d),v=n==="entries"||n===Symbol.iterator&&i,g=n==="keys"&&i,u=f[n](...a),l=p?js:s?Ks:mi;return!s&&tr(d,"iterate",g?us:pn),{next(){const{value:c,done:y}=u.next();return y?{value:c,done:y}:{value:v?[l(c[0]),l(c[1])]:l(c),done:y}},[Symbol.iterator](){return this}}}}function Br(n){return function(...s){return n==="delete"?!1:n==="clear"?void 0:this}}function Xl(){const n={get(d){return Ni(this,d)},get size(){return Ui(this)},has:Di,add:ma,set:ya,delete:_a,clear:ba,forEach:ji(!1,!1)},s={get(d){return Ni(this,d,!1,!0)},get size(){return Ui(this)},has:Di,add:ma,set:ya,delete:_a,clear:ba,forEach:ji(!1,!0)},p={get(d){return Ni(this,d,!0)},get size(){return Ui(this,!0)},has(d){return Di.call(this,d,!0)},add:Br("add"),set:Br("set"),delete:Br("delete"),clear:Br("clear"),forEach:ji(!0,!1)},a={get(d){return Ni(this,d,!0,!0)},get size(){return Ui(this,!0)},has(d){return Di.call(this,d,!0)},add:Br("add"),set:Br("set"),delete:Br("delete"),clear:Br("clear"),forEach:ji(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{n[d]=Mi(d,!1,!1),p[d]=Mi(d,!0,!1),s[d]=Mi(d,!1,!0),a[d]=Mi(d,!0,!0)}),[n,p,s,a]}const[Ql,Zl,tf,ef]=Xl();function po(n,s){const p=s?n?ef:tf:n?Zl:Ql;return(a,f,d)=>f==="__v_isReactive"?!n:f==="__v_isReadonly"?n:f==="__v_raw"?a:Reflect.get(ve(p,f)&&f in a?p:a,f,d)}const rf={get:po(!1,!1)},nf={get:po(!1,!0)},of={get:po(!0,!1)},sf={get:po(!0,!0)},Lu=new WeakMap,Nu=new WeakMap,Du=new WeakMap,Uu=new WeakMap;function af(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uf(n){return n.__v_skip||!Object.isExtensible(n)?0:af(xl(n))}function Ti(n){return _n(n)?n:vo(n,!1,zl,rf,Lu)}function Ms(n){return vo(n,!1,Gl,nf,Nu)}function Bs(n){return vo(n,!0,$l,of,Du)}function cf(n){return vo(n,!0,Yl,sf,Uu)}function vo(n,s,p,a,f){if(!xe(n)||n.__v_raw&&!(s&&n.__v_isReactive))return n;const d=f.get(n);if(d)return d;const i=uf(n);if(i===0)return n;const v=new Proxy(n,i===2?a:p);return f.set(n,v),v}function vn(n){return _n(n)?vn(n.__v_raw):!!(n&&n.__v_isReactive)}function _n(n){return!!(n&&n.__v_isReadonly)}function vi(n){return!!(n&&n.__v_isShallow)}function Hs(n){return vn(n)||_n(n)}function de(n){const s=n&&n.__v_raw;return s?de(s):n}function Vs(n){return Xi(n,"__v_skip",!0),n}const mi=n=>xe(n)?Ti(n):n,Ks=n=>xe(n)?Bs(n):n;class ju{constructor(s,p,a,f){this._setter=p,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Un(()=>s(this._value),()=>yi(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=a}get value(){const s=de(this);return qs(s),(!s._cacheable||s.effect.dirty)&&Sr(s._value,s._value=s.effect.run())&&yi(s,2),s._value}set value(s){this._setter(s)}get _dirty(){return this.effect.dirty}set _dirty(s){this.effect.dirty=s}}function lf(n,s,p=!1){let a,f;const d=te(n);return d?(a=n,f=Qe):(a=n.get,f=n.set),new ju(a,f,d||!f,p)}function qs(n){Yr&&gn&&(n=de(n),Pu(gn,n.dep||(n.dep=Cu(()=>n.dep=void 0,n instanceof ju?n:void 0))))}function yi(n,s=3,p){n=de(n);const a=n.dep;a&&ku(a,s)}function He(n){return!!(n&&n.__v_isRef===!0)}function On(n){return Bu(n,!1)}function Mu(n){return Bu(n,!0)}function Bu(n,s){return He(n)?n:new ff(n,s)}class ff{constructor(s,p){this.__v_isShallow=p,this.dep=void 0,this.__v_isRef=!0,this._rawValue=p?s:de(s),this._value=p?s:mi(s)}get value(){return qs(this),this._value}set value(s){const p=this.__v_isShallow||vi(s)||_n(s);s=p?s:de(s),Sr(s,this._rawValue)&&(this._rawValue=s,this._value=p?s:mi(s),yi(this,3))}}function hf(n){yi(n,3)}function ar(n){return He(n)?n.value:n}function df(n){return te(n)?n():ar(n)}const gf={get:(n,s,p)=>ar(Reflect.get(n,s,p)),set:(n,s,p,a)=>{const f=n[s];return He(f)&&!He(p)?(f.value=p,!0):Reflect.set(n,s,p,a)}};function Ws(n){return vn(n)?n:new Proxy(n,gf)}class pf{constructor(s){this.dep=void 0,this.__v_isRef=!0;const{get:p,set:a}=s(()=>qs(this),()=>yi(this));this._get=p,this._set=a}get value(){return this._get()}set value(s){this._set(s)}}function Hu(n){return new pf(n)}function vf(n){const s=Vt(n)?new Array(n.length):{};for(const p in n)s[p]=Vu(n,p);return s}class mf{constructor(s,p,a){this._object=s,this._key=p,this._defaultValue=a,this.__v_isRef=!0}get value(){const s=this._object[this._key];return s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return Kl(de(this._object),this._key)}}class yf{constructor(s){this._getter=s,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function _f(n,s,p){return He(n)?n:te(n)?new yf(n):xe(n)&&arguments.length>1?Vu(n,s,p):On(n)}function Vu(n,s,p){const a=n[s];return He(a)?a:new mf(n,s,p)}const bf={GET:"get",HAS:"has",ITERATE:"iterate"},Sf={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function wf(n,s){}const Ef={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},Ff={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Dr(n,s,p,a){let f;try{f=a?n(...a):n()}catch(d){Pn(d,s,p)}return f}function ur(n,s,p,a){if(te(n)){const d=Dr(n,s,p,a);return d&&Os(d)&&d.catch(i=>{Pn(i,s,p)}),d}const f=[];for(let d=0;d<n.length;d++)f.push(ur(n[d],s,p,a));return f}function Pn(n,s,p,a=!0){const f=s?s.vnode:null;if(s){let d=s.parent;const i=s.proxy,v=`https://vuejs.org/errors/#runtime-${p}`;for(;d;){const u=d.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](n,i,v)===!1)return}d=d.parent}const g=s.appContext.config.errorHandler;if(g){Dr(g,null,10,[n,i,v]);return}}xf(n,p,f,a)}function xf(n,s,p,a=!0){console.error(n)}let _i=!1,cs=!1;const Ve=[];let Fr=0;const Ln=[];let Wr=null,hn=0;const Ku=Promise.resolve();let Js=null;function mo(n){const s=Js||Ku;return n?s.then(this?n.bind(this):n):s}function Af(n){let s=Fr+1,p=Ve.length;for(;s<p;){const a=s+p>>>1,f=Ve[a],d=bi(f);d<n||d===n&&f.pre?s=a+1:p=a}return s}function yo(n){(!Ve.length||!Ve.includes(n,_i&&n.allowRecurse?Fr+1:Fr))&&(n.id==null?Ve.push(n):Ve.splice(Af(n.id),0,n),qu())}function qu(){!_i&&!cs&&(cs=!0,Js=Ku.then(Wu))}function Pf(n){const s=Ve.indexOf(n);s>Fr&&Ve.splice(s,1)}function eo(n){Vt(n)?Ln.push(...n):(!Wr||!Wr.includes(n,n.allowRecurse?hn+1:hn))&&Ln.push(n),qu()}function Sa(n,s,p=_i?Fr+1:0){for(;p<Ve.length;p++){const a=Ve[p];if(a&&a.pre){if(n&&a.id!==n.uid)continue;Ve.splice(p,1),p--,a()}}}function ro(n){if(Ln.length){const s=[...new Set(Ln)].sort((p,a)=>bi(p)-bi(a));if(Ln.length=0,Wr){Wr.push(...s);return}for(Wr=s,hn=0;hn<Wr.length;hn++)Wr[hn]();Wr=null,hn=0}}const bi=n=>n.id==null?1/0:n.id,kf=(n,s)=>{const p=bi(n)-bi(s);if(p===0){if(n.pre&&!s.pre)return-1;if(s.pre&&!n.pre)return 1}return p};function Wu(n){cs=!1,_i=!0,Ve.sort(kf);try{for(Fr=0;Fr<Ve.length;Fr++){const s=Ve[Fr];s&&s.active!==!1&&Dr(s,null,14)}}finally{Fr=0,Ve.length=0,ro(),_i=!1,Js=null,(Ve.length||Ln.length)&&Wu()}}let kn,Bi=[];function Ju(n,s){var p,a;kn=n,kn?(kn.enabled=!0,Bi.forEach(({event:f,args:d})=>kn.emit(f,...d)),Bi=[]):typeof window<"u"&&window.HTMLElement&&!((a=(p=window.navigator)==null?void 0:p.userAgent)!=null&&a.includes("jsdom"))?((s.__VUE_DEVTOOLS_HOOK_REPLAY__=s.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{Ju(d,s)}),setTimeout(()=>{kn||(s.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Bi=[])},3e3)):Bi=[]}function Cf(n,s,...p){if(n.isUnmounted)return;const a=n.vnode.props||Fe;let f=p;const d=s.startsWith("update:"),i=d&&s.slice(7);if(i&&i in a){const l=`${i==="modelValue"?"model":i}Modifiers`,{number:c,trim:y}=a[l]||Fe;y&&(f=p.map(S=>Ce(S)?S.trim():S)),c&&(f=p.map(Qi))}let v,g=a[v=ui(s)]||a[v=ui(Ge(s))];!g&&d&&(g=a[v=ui(sr(s))]),g&&ur(g,n,6,f);const u=a[v+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[v])return;n.emitted[v]=!0,ur(u,n,6,f)}}function zu(n,s,p=!1){const a=s.emitsCache,f=a.get(n);if(f!==void 0)return f;const d=n.emits;let i={},v=!1;if(!te(n)){const g=u=>{const l=zu(u,s,!0);l&&(v=!0,ke(i,l))};!p&&s.mixins.length&&s.mixins.forEach(g),n.extends&&g(n.extends),n.mixins&&n.mixins.forEach(g)}return!d&&!v?(xe(n)&&a.set(n,null),null):(Vt(d)?d.forEach(g=>i[g]=null):ke(i,d),xe(n)&&a.set(n,i),i)}function _o(n,s){return!n||!Ai(s)?!1:(s=s.slice(2).replace(/Once$/,""),ve(n,s[0].toLowerCase()+s.slice(1))||ve(n,sr(s))||ve(n,s))}let Ne=null,bo=null;function Si(n){const s=Ne;return Ne=n,bo=n&&n.type.__scopeId||null,s}function zs(n){bo=n}function $s(){bo=null}const Tf=n=>Ie;function Ie(n,s=Ne,p){if(!s||n._n)return n;const a=(...f)=>{a._d&&ms(-1);const d=Si(s);let i;try{i=n(...f)}finally{Si(d),a._d&&ms(1)}return i};return a._n=!0,a._c=!0,a._d=!0,a}function $i(n){const{type:s,vnode:p,proxy:a,withProxy:f,props:d,propsOptions:[i],slots:v,attrs:g,emit:u,render:l,renderCache:c,data:y,setupState:S,ctx:w,inheritAttrs:R}=n;let P,C;const E=Si(n);try{if(p.shapeFlag&4){const H=f||a,T=H;P=or(l.call(T,H,c,d,S,y,w)),C=g}else{const H=s;P=or(H.length>1?H(d,{attrs:g,slots:v,emit:u}):H(d,null)),C=s.props?g:If(g)}}catch(H){hi.length=0,Pn(H,n,1),P=se(Ke)}let k=P;if(C&&R!==!1){const H=Object.keys(C),{shapeFlag:T}=k;H.length&&T&7&&(i&&H.some(Rs)&&(C=Of(C,i)),k=Ar(k,C))}return p.dirs&&(k=Ar(k),k.dirs=k.dirs?k.dirs.concat(p.dirs):p.dirs),p.transition&&(k.transition=p.transition),P=k,Si(E),P}function Rf(n){let s;for(let p=0;p<n.length;p++){const a=n[p];if(Zr(a)){if(a.type!==Ke||a.children==="v-if"){if(s)return;s=a}}else return}return s}const If=n=>{let s;for(const p in n)(p==="class"||p==="style"||Ai(p))&&((s||(s={}))[p]=n[p]);return s},Of=(n,s)=>{const p={};for(const a in n)(!Rs(a)||!(a.slice(9)in s))&&(p[a]=n[a]);return p};function Lf(n,s,p){const{props:a,children:f,component:d}=n,{props:i,children:v,patchFlag:g}=s,u=d.emitsOptions;if(s.dirs||s.transition)return!0;if(p&&g>=0){if(g&1024)return!0;if(g&16)return a?wa(a,i,u):!!i;if(g&8){const l=s.dynamicProps;for(let c=0;c<l.length;c++){const y=l[c];if(i[y]!==a[y]&&!_o(u,y))return!0}}}else return(f||v)&&(!v||!v.$stable)?!0:a===i?!1:a?i?wa(a,i,u):!0:!!i;return!1}function wa(n,s,p){const a=Object.keys(s);if(a.length!==Object.keys(n).length)return!0;for(let f=0;f<a.length;f++){const d=a[f];if(s[d]!==n[d]&&!_o(p,d))return!0}return!1}function Gs({vnode:n,parent:s},p){for(;s;){const a=s.subTree;if(a.suspense&&a.suspense.activeBranch===n&&(a.el=n.el),a===n)(n=s.vnode).el=p,s=s.parent;else break}}const Ys="components",Nf="directives";function Df(n,s){return Xs(Ys,n,!0,s)||n}const $u=Symbol.for("v-ndc");function Uf(n){return Ce(n)?Xs(Ys,n,!1)||n:n||$u}function jf(n){return Xs(Nf,n)}function Xs(n,s,p=!0,a=!1){const f=Ne||Me;if(f){const d=f.type;if(n===Ys){const v=Es(d,!1);if(v&&(v===s||v===Ge(s)||v===Pi(Ge(s))))return d}const i=Ea(f[n]||d[n],s)||Ea(f.appContext[n],s);return!i&&a?d:i}}function Ea(n,s){return n&&(n[s]||n[Ge(s)]||n[Pi(Ge(s))])}const Gu=n=>n.__isSuspense;let ls=0;const Mf={name:"Suspense",__isSuspense:!0,process(n,s,p,a,f,d,i,v,g,u){if(n==null)Hf(s,p,a,f,d,i,v,g,u);else{if(d&&d.deps>0){s.suspense=n.suspense;return}Vf(n,s,p,a,f,i,v,g,u)}},hydrate:Kf,create:Qs,normalize:qf},Bf=Mf;function wi(n,s){const p=n.props&&n.props[s];te(p)&&p()}function Hf(n,s,p,a,f,d,i,v,g){const{p:u,o:{createElement:l}}=g,c=l("div"),y=n.suspense=Qs(n,f,a,s,c,p,d,i,v,g);u(null,y.pendingBranch=n.ssContent,c,null,a,y,d,i),y.deps>0?(wi(n,"onPending"),wi(n,"onFallback"),u(null,n.ssFallback,s,p,a,null,d,i),Nn(y,n.ssFallback)):y.resolve(!1,!0)}function Vf(n,s,p,a,f,d,i,v,{p:g,um:u,o:{createElement:l}}){const c=s.suspense=n.suspense;c.vnode=s,s.el=n.el;const y=s.ssContent,S=s.ssFallback,{activeBranch:w,pendingBranch:R,isInFallback:P,isHydrating:C}=c;if(R)c.pendingBranch=y,br(y,R)?(g(R,y,c.hiddenContainer,null,f,c,d,i,v),c.deps<=0?c.resolve():P&&(C||(g(w,S,p,a,f,null,d,i,v),Nn(c,S)))):(c.pendingId=ls++,C?(c.isHydrating=!1,c.activeBranch=R):u(R,f,c),c.deps=0,c.effects.length=0,c.hiddenContainer=l("div"),P?(g(null,y,c.hiddenContainer,null,f,c,d,i,v),c.deps<=0?c.resolve():(g(w,S,p,a,f,null,d,i,v),Nn(c,S))):w&&br(y,w)?(g(w,y,p,a,f,c,d,i,v),c.resolve(!0)):(g(null,y,c.hiddenContainer,null,f,c,d,i,v),c.deps<=0&&c.resolve()));else if(w&&br(y,w))g(w,y,p,a,f,c,d,i,v),Nn(c,y);else if(wi(s,"onPending"),c.pendingBranch=y,y.shapeFlag&512?c.pendingId=y.component.suspenseId:c.pendingId=ls++,g(null,y,c.hiddenContainer,null,f,c,d,i,v),c.deps<=0)c.resolve();else{const{timeout:E,pendingId:k}=c;E>0?setTimeout(()=>{c.pendingId===k&&c.fallback(S)},E):E===0&&c.fallback(S)}}function Qs(n,s,p,a,f,d,i,v,g,u,l=!1){const{p:c,m:y,um:S,n:w,o:{parentNode:R,remove:P}}=u;let C;const E=Wf(n);E&&s!=null&&s.pendingBranch&&(C=s.pendingId,s.deps++);const k=n.props?Zi(n.props.timeout):void 0,H=d,T={vnode:n,parent:s,parentComponent:p,namespace:i,container:a,hiddenContainer:f,deps:0,pendingId:ls++,timeout:typeof k=="number"?k:-1,activeBranch:null,pendingBranch:null,isInFallback:!l,isHydrating:l,isUnmounted:!1,effects:[],resolve(I=!1,L=!1){const{vnode:X,activeBranch:Q,pendingBranch:rt,pendingId:M,effects:ot,parentComponent:ct,container:bt}=T;let kt=!1;T.isHydrating?T.isHydrating=!1:I||(kt=Q&&rt.transition&&rt.transition.mode==="out-in",kt&&(Q.transition.afterLeave=()=>{M===T.pendingId&&(y(rt,bt,d===H?w(Q):d,0),eo(ot))}),Q&&(R(Q.el)!==T.hiddenContainer&&(d=w(Q)),S(Q,ct,T,!0)),kt||y(rt,bt,d,0)),Nn(T,rt),T.pendingBranch=null,T.isInFallback=!1;let pt=T.parent,wt=!1;for(;pt;){if(pt.pendingBranch){pt.effects.push(...ot),wt=!0;break}pt=pt.parent}!wt&&!kt&&eo(ot),T.effects=[],E&&s&&s.pendingBranch&&C===s.pendingId&&(s.deps--,s.deps===0&&!L&&s.resolve()),wi(X,"onResolve")},fallback(I){if(!T.pendingBranch)return;const{vnode:L,activeBranch:X,parentComponent:Q,container:rt,namespace:M}=T;wi(L,"onFallback");const ot=w(X),ct=()=>{T.isInFallback&&(c(null,I,rt,ot,Q,null,M,v,g),Nn(T,I))},bt=I.transition&&I.transition.mode==="out-in";bt&&(X.transition.afterLeave=ct),T.isInFallback=!0,S(X,Q,null,!0),bt||ct()},move(I,L,X){T.activeBranch&&y(T.activeBranch,I,L,X),T.container=I},next(){return T.activeBranch&&w(T.activeBranch)},registerDep(I,L){const X=!!T.pendingBranch;X&&T.deps++;const Q=I.vnode.el;I.asyncDep.catch(rt=>{Pn(rt,I,0)}).then(rt=>{if(I.isUnmounted||T.isUnmounted||T.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:M}=I;Ss(I,rt,!1),Q&&(M.el=Q);const ot=!Q&&I.subTree.el;L(I,M,R(Q||I.subTree.el),Q?null:w(I.subTree),T,i,g),ot&&P(ot),Gs(I,M.el),X&&--T.deps===0&&T.resolve()})},unmount(I,L){T.isUnmounted=!0,T.activeBranch&&S(T.activeBranch,p,I,L),T.pendingBranch&&S(T.pendingBranch,p,I,L)}};return T}function Kf(n,s,p,a,f,d,i,v,g){const u=s.suspense=Qs(s,a,p,n.parentNode,document.createElement("div"),null,f,d,i,v,!0),l=g(n,u.pendingBranch=s.ssContent,p,u,d,i);return u.deps===0&&u.resolve(!1,!0),l}function qf(n){const{shapeFlag:s,children:p}=n,a=s&32;n.ssContent=Fa(a?p.default:p),n.ssFallback=a?Fa(p.fallback):se(Ke)}function Fa(n){let s;if(te(n)){const p=wn&&n._c;p&&(n._d=!1,qe()),n=n(),p&&(n._d=!0,s=Ze,kc())}return Vt(n)&&(n=Rf(n)),n=or(n),s&&!n.dynamicChildren&&(n.dynamicChildren=s.filter(p=>p!==n)),n}function Yu(n,s){s&&s.pendingBranch?Vt(n)?s.effects.push(...n):s.effects.push(n):eo(n)}function Nn(n,s){n.activeBranch=s;const{vnode:p,parentComponent:a}=n;let f=s.el;for(;!f&&s.component;)s=s.component.subTree,f=s.el;p.el=f,a&&a.subTree===p&&(a.vnode.el=f,Gs(a,f))}function Wf(n){var s;return((s=n.props)==null?void 0:s.suspensible)!=null&&n.props.suspensible!==!1}const Xu=Symbol.for("v-scx"),Qu=()=>xr(Xu);function Jf(n,s){return Ri(n,null,s)}function Zu(n,s){return Ri(n,null,{flush:"post"})}function tc(n,s){return Ri(n,null,{flush:"sync"})}const Hi={};function Dn(n,s,p){return Ri(n,s,p)}function Ri(n,s,{immediate:p,deep:a,flush:f,once:d,onTrack:i,onTrigger:v}=Fe){if(s&&d){const I=s;s=(...L)=>{I(...L),T()}}const g=Me,u=I=>a===!0?I:dn(I,a===!1?1:void 0);let l,c=!1,y=!1;if(He(n)?(l=()=>n.value,c=vi(n)):vn(n)?(l=()=>u(n),c=!0):Vt(n)?(y=!0,c=n.some(I=>vn(I)||vi(I)),l=()=>n.map(I=>{if(He(I))return I.value;if(vn(I))return u(I);if(te(I))return Dr(I,g,2)})):te(n)?s?l=()=>Dr(n,g,2):l=()=>(S&&S(),ur(n,g,3,[w])):l=Qe,s&&a){const I=l;l=()=>dn(I())}let S,w=I=>{S=k.onStop=()=>{Dr(I,g,4),S=k.onStop=void 0}},R;if(Li)if(w=Qe,s?p&&ur(s,g,3,[l(),y?[]:void 0,w]):l(),f==="sync"){const I=Qu();R=I.__watcherHandles||(I.__watcherHandles=[])}else return Qe;let P=y?new Array(n.length).fill(Hi):Hi;const C=()=>{if(!(!k.active||!k.dirty))if(s){const I=k.run();(a||c||(y?I.some((L,X)=>Sr(L,P[X])):Sr(I,P)))&&(S&&S(),ur(s,g,3,[I,P===Hi?void 0:y&&P[0]===Hi?[]:P,w]),P=I)}else k.run()};C.allowRecurse=!!s;let E;f==="sync"?E=C:f==="post"?E=()=>Be(C,g&&g.suspense):(C.pre=!0,g&&(C.id=g.uid),E=()=>yo(C));const k=new Un(l,Qe,E),H=Fu(),T=()=>{k.stop(),H&&Is(H.effects,k)};return s?p?C():P=k.run():f==="post"?Be(k.run.bind(k),g&&g.suspense):k.run(),R&&R.push(T),T}function zf(n,s,p){const a=this.proxy,f=Ce(n)?n.includes(".")?ec(a,n):()=>a[n]:n.bind(a,a);let d;te(s)?d=s:(d=s.handler,p=s);const i=En(this),v=Ri(f,d.bind(a),p);return i(),v}function ec(n,s){const p=s.split(".");return()=>{let a=n;for(let f=0;f<p.length&&a;f++)a=a[p[f]];return a}}function dn(n,s,p=0,a){if(!xe(n)||n.__v_skip)return n;if(s&&s>0){if(p>=s)return n;p++}if(a=a||new Set,a.has(n))return n;if(a.add(n),He(n))dn(n.value,s,p,a);else if(Vt(n))for(let f=0;f<n.length;f++)dn(n[f],s,p,a);else if(Fn(n)||Rn(n))n.forEach(f=>{dn(f,s,p,a)});else if(yu(n))for(const f in n)dn(n[f],s,p,a);return n}function $f(n,s){if(Ne===null)return n;const p=ko(Ne)||Ne.proxy,a=n.dirs||(n.dirs=[]);for(let f=0;f<s.length;f++){let[d,i,v,g=Fe]=s[f];d&&(te(d)&&(d={mounted:d,updated:d}),d.deep&&dn(i),a.push({dir:d,instance:p,value:i,oldValue:void 0,arg:v,modifiers:g}))}return n}function Er(n,s,p,a){const f=n.dirs,d=s&&s.dirs;for(let i=0;i<f.length;i++){const v=f[i];d&&(v.oldValue=d[i].value);let g=v.dir[a];g&&(xn(),ur(g,p,8,[n.el,v,n,s]),An())}}const Jr=Symbol("_leaveCb"),Vi=Symbol("_enterCb");function Zs(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Oi(()=>{n.isMounted=!0}),Fo(()=>{n.isUnmounting=!0}),n}const cr=[Function,Array],ta={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cr,onEnter:cr,onAfterEnter:cr,onEnterCancelled:cr,onBeforeLeave:cr,onLeave:cr,onAfterLeave:cr,onLeaveCancelled:cr,onBeforeAppear:cr,onAppear:cr,onAfterAppear:cr,onAppearCancelled:cr},Gf={name:"BaseTransition",props:ta,setup(n,{slots:s}){const p=Mr(),a=Zs();let f;return()=>{const d=s.default&&So(s.default(),!0);if(!d||!d.length)return;let i=d[0];if(d.length>1){for(const R of d)if(R.type!==Ke){i=R;break}}const v=de(n),{mode:g}=v;if(a.isLeaving)return Jo(i);const u=xa(i);if(!u)return Jo(i);const l=jn(u,v,a,p);bn(u,l);const c=p.subTree,y=c&&xa(c);let S=!1;const{getTransitionKey:w}=u.type;if(w){const R=w();f===void 0?f=R:R!==f&&(f=R,S=!0)}if(y&&y.type!==Ke&&(!br(u,y)||S)){const R=jn(y,v,a,p);if(bn(y,R),g==="out-in")return a.isLeaving=!0,R.afterLeave=()=>{a.isLeaving=!1,p.update.active!==!1&&(p.effect.dirty=!0,p.update())},Jo(i);g==="in-out"&&u.type!==Ke&&(R.delayLeave=(P,C,E)=>{const k=nc(a,y);k[String(y.key)]=y,P[Jr]=()=>{C(),P[Jr]=void 0,delete l.delayedLeave},l.delayedLeave=E})}return i}}},rc=Gf;function nc(n,s){const{leavingVNodes:p}=n;let a=p.get(s.type);return a||(a=Object.create(null),p.set(s.type,a)),a}function jn(n,s,p,a){const{appear:f,mode:d,persisted:i=!1,onBeforeEnter:v,onEnter:g,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:c,onLeave:y,onAfterLeave:S,onLeaveCancelled:w,onBeforeAppear:R,onAppear:P,onAfterAppear:C,onAppearCancelled:E}=s,k=String(n.key),H=nc(p,n),T=(X,Q)=>{X&&ur(X,a,9,Q)},I=(X,Q)=>{const rt=Q[1];T(X,Q),Vt(X)?X.every(M=>M.length<=1)&&rt():X.length<=1&&rt()},L={mode:d,persisted:i,beforeEnter(X){let Q=v;if(!p.isMounted)if(f)Q=R||v;else return;X[Jr]&&X[Jr](!0);const rt=H[k];rt&&br(n,rt)&&rt.el[Jr]&&rt.el[Jr](),T(Q,[X])},enter(X){let Q=g,rt=u,M=l;if(!p.isMounted)if(f)Q=P||g,rt=C||u,M=E||l;else return;let ot=!1;const ct=X[Vi]=bt=>{ot||(ot=!0,bt?T(M,[X]):T(rt,[X]),L.delayedLeave&&L.delayedLeave(),X[Vi]=void 0)};Q?I(Q,[X,ct]):ct()},leave(X,Q){const rt=String(n.key);if(X[Vi]&&X[Vi](!0),p.isUnmounting)return Q();T(c,[X]);let M=!1;const ot=X[Jr]=ct=>{M||(M=!0,Q(),ct?T(w,[X]):T(S,[X]),X[Jr]=void 0,H[rt]===n&&delete H[rt])};H[rt]=n,y?I(y,[X,ot]):ot()},clone(X){return jn(X,s,p,a)}};return L}function Jo(n){if(Ii(n))return n=Ar(n),n.children=null,n}function xa(n){return Ii(n)?n.children?n.children[0]:void 0:n}function bn(n,s){n.shapeFlag&6&&n.component?bn(n.component.subTree,s):n.shapeFlag&128?(n.ssContent.transition=s.clone(n.ssContent),n.ssFallback.transition=s.clone(n.ssFallback)):n.transition=s}function So(n,s=!1,p){let a=[],f=0;for(let d=0;d<n.length;d++){let i=n[d];const v=p==null?i.key:String(p)+String(i.key!=null?i.key:d);i.type===je?(i.patchFlag&128&&f++,a=a.concat(So(i.children,s,v))):(s||i.type!==Ke)&&a.push(v!=null?Ar(i,{key:v}):i)}if(f>1)for(let d=0;d<a.length;d++)a[d].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function Ur(n,s){return te(n)?ke({name:n.name},s,{setup:n}):n}const mn=n=>!!n.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Yf(n){te(n)&&(n={loader:n});const{loader:s,loadingComponent:p,errorComponent:a,delay:f=200,timeout:d,suspensible:i=!0,onError:v}=n;let g=null,u,l=0;const c=()=>(l++,g=null,y()),y=()=>{let S;return g||(S=g=s().catch(w=>{if(w=w instanceof Error?w:new Error(String(w)),v)return new Promise((R,P)=>{v(w,()=>R(c()),()=>P(w),l+1)});throw w}).then(w=>S!==g&&g?g:(w&&(w.__esModule||w[Symbol.toStringTag]==="Module")&&(w=w.default),u=w,w)))};return Ur({name:"AsyncComponentWrapper",__asyncLoader:y,get __asyncResolved(){return u},setup(){const S=Me;if(u)return()=>zo(u,S);const w=E=>{g=null,Pn(E,S,13,!a)};if(i&&S.suspense||Li)return y().then(E=>()=>zo(E,S)).catch(E=>(w(E),()=>a?se(a,{error:E}):null));const R=On(!1),P=On(),C=On(!!f);return f&&setTimeout(()=>{C.value=!1},f),d!=null&&setTimeout(()=>{if(!R.value&&!P.value){const E=new Error(`Async component timed out after ${d}ms.`);w(E),P.value=E}},d),y().then(()=>{R.value=!0,S.parent&&Ii(S.parent.vnode)&&(S.parent.effect.dirty=!0,yo(S.parent.update))}).catch(E=>{w(E),P.value=E}),()=>{if(R.value&&u)return zo(u,S);if(P.value&&a)return se(a,{error:P.value});if(p&&!C.value)return se(p)}}})}function zo(n,s){const{ref:p,props:a,children:f,ce:d}=s.vnode,i=se(n,a,f);return i.ref=p,i.ce=d,delete s.vnode.ce,i}const Ii=n=>n.type.__isKeepAlive,Xf={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:s}){const p=Mr(),a=p.ctx;if(!a.renderer)return()=>{const E=s.default&&s.default();return E&&E.length===1?E[0]:E};const f=new Map,d=new Set;let i=null;const v=p.suspense,{renderer:{p:g,m:u,um:l,o:{createElement:c}}}=a,y=c("div");a.activate=(E,k,H,T,I)=>{const L=E.component;u(E,k,H,0,v),g(L.vnode,E,k,H,L,v,T,E.slotScopeIds,I),Be(()=>{L.isDeactivated=!1,L.a&&In(L.a);const X=E.props&&E.props.onVnodeMounted;X&&Xe(X,L.parent,E)},v)},a.deactivate=E=>{const k=E.component;u(E,y,null,1,v),Be(()=>{k.da&&In(k.da);const H=E.props&&E.props.onVnodeUnmounted;H&&Xe(H,k.parent,E),k.isDeactivated=!0},v)};function S(E){$o(E),l(E,p,v,!0)}function w(E){f.forEach((k,H)=>{const T=Es(k.type);T&&(!E||!E(T))&&R(H)})}function R(E){const k=f.get(E);!i||!br(k,i)?S(k):i&&$o(i),f.delete(E),d.delete(E)}Dn(()=>[n.include,n.exclude],([E,k])=>{E&&w(H=>ii(E,H)),k&&w(H=>!ii(k,H))},{flush:"post",deep:!0});let P=null;const C=()=>{P!=null&&f.set(P,Go(p.subTree))};return Oi(C),Eo(C),Fo(()=>{f.forEach(E=>{const{subTree:k,suspense:H}=p,T=Go(k);if(E.type===T.type&&E.key===T.key){$o(T);const I=T.component.da;I&&Be(I,H);return}S(E)})}),()=>{if(P=null,!s.default)return null;const E=s.default(),k=E[0];if(E.length>1)return i=null,E;if(!Zr(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return i=null,k;let H=Go(k);const T=H.type,I=Es(mn(H)?H.type.__asyncResolved||{}:T),{include:L,exclude:X,max:Q}=n;if(L&&(!I||!ii(L,I))||X&&I&&ii(X,I))return i=H,k;const rt=H.key==null?T:H.key,M=f.get(rt);return H.el&&(H=Ar(H),k.shapeFlag&128&&(k.ssContent=H)),P=rt,M?(H.el=M.el,H.component=M.component,H.transition&&bn(H,H.transition),H.shapeFlag|=512,d.delete(rt),d.add(rt)):(d.add(rt),Q&&d.size>parseInt(Q,10)&&R(d.values().next().value)),H.shapeFlag|=256,i=H,Gu(k.type)?k:H}}},Qf=Xf;function ii(n,s){return Vt(n)?n.some(p=>ii(p,s)):Ce(n)?n.split(",").includes(s):Fl(n)?n.test(s):!1}function ic(n,s){sc(n,"a",s)}function oc(n,s){sc(n,"da",s)}function sc(n,s,p=Me){const a=n.__wdc||(n.__wdc=()=>{let f=p;for(;f;){if(f.isDeactivated)return;f=f.parent}return n()});if(wo(s,a,p),p){let f=p.parent;for(;f&&f.parent;)Ii(f.parent.vnode)&&Zf(a,s,p,f),f=f.parent}}function Zf(n,s,p,a){const f=wo(s,n,a,!0);xo(()=>{Is(a[s],f)},p)}function $o(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function Go(n){return n.shapeFlag&128?n.ssContent:n}function wo(n,s,p=Me,a=!1){if(p){const f=p[n]||(p[n]=[]),d=s.__weh||(s.__weh=(...i)=>{if(p.isUnmounted)return;xn();const v=En(p),g=ur(s,p,n,i);return v(),An(),g});return a?f.unshift(d):f.push(d),d}}const jr=n=>(s,p=Me)=>(!Li||n==="sp")&&wo(n,(...a)=>s(...a),p),ac=jr("bm"),Oi=jr("m"),uc=jr("bu"),Eo=jr("u"),Fo=jr("bum"),xo=jr("um"),cc=jr("sp"),lc=jr("rtg"),fc=jr("rtc");function hc(n,s=Me){wo("ec",n,s)}function th(n,s,p,a){let f;const d=p&&p[a];if(Vt(n)||Ce(n)){f=new Array(n.length);for(let i=0,v=n.length;i<v;i++)f[i]=s(n[i],i,void 0,d&&d[i])}else if(typeof n=="number"){f=new Array(n);for(let i=0;i<n;i++)f[i]=s(i+1,i,void 0,d&&d[i])}else if(xe(n))if(n[Symbol.iterator])f=Array.from(n,(i,v)=>s(i,v,void 0,d&&d[v]));else{const i=Object.keys(n);f=new Array(i.length);for(let v=0,g=i.length;v<g;v++){const u=i[v];f[v]=s(n[u],u,v,d&&d[v])}}else f=[];return p&&(p[a]=f),f}function eh(n,s){for(let p=0;p<s.length;p++){const a=s[p];if(Vt(a))for(let f=0;f<a.length;f++)n[a[f].name]=a[f].fn;else a&&(n[a.name]=a.key?(...f)=>{const d=a.fn(...f);return d&&(d.key=a.key),d}:a.fn)}return n}function Gi(n,s,p={},a,f){if(Ne.isCE||Ne.parent&&mn(Ne.parent)&&Ne.parent.isCE)return s!=="default"&&(p.name=s),se("slot",p,a&&a());let d=n[s];d&&d._c&&(d._d=!1),qe();const i=d&&dc(d(p)),v=Ao(je,{key:p.key||i&&i.key||`_${s}`},i||(a?a():[]),i&&n._===1?64:-2);return!f&&v.scopeId&&(v.slotScopeIds=[v.scopeId+"-s"]),d&&d._c&&(d._d=!0),v}function dc(n){return n.some(s=>Zr(s)?!(s.type===Ke||s.type===je&&!dc(s.children)):!0)?n:null}function rh(n,s){const p={};for(const a in n)p[s&&/[A-Z]/.test(a)?`on:${a}`:ui(a)]=n[a];return p}const fs=n=>n?Lc(n)?ko(n)||n.proxy:fs(n.parent):null,ci=ke(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>fs(n.parent),$root:n=>fs(n.root),$emit:n=>n.emit,$options:n=>ea(n),$forceUpdate:n=>n.f||(n.f=()=>{n.effect.dirty=!0,yo(n.update)}),$nextTick:n=>n.n||(n.n=mo.bind(n.proxy)),$watch:n=>zf.bind(n)}),Yo=(n,s)=>n!==Fe&&!n.__isScriptSetup&&ve(n,s),hs={get({_:n},s){const{ctx:p,setupState:a,data:f,props:d,accessCache:i,type:v,appContext:g}=n;let u;if(s[0]!=="$"){const S=i[s];if(S!==void 0)switch(S){case 1:return a[s];case 2:return f[s];case 4:return p[s];case 3:return d[s]}else{if(Yo(a,s))return i[s]=1,a[s];if(f!==Fe&&ve(f,s))return i[s]=2,f[s];if((u=n.propsOptions[0])&&ve(u,s))return i[s]=3,d[s];if(p!==Fe&&ve(p,s))return i[s]=4,p[s];ds&&(i[s]=0)}}const l=ci[s];let c,y;if(l)return s==="$attrs"&&tr(n,"get",s),l(n);if((c=v.__cssModules)&&(c=c[s]))return c;if(p!==Fe&&ve(p,s))return i[s]=4,p[s];if(y=g.config.globalProperties,ve(y,s))return y[s]},set({_:n},s,p){const{data:a,setupState:f,ctx:d}=n;return Yo(f,s)?(f[s]=p,!0):a!==Fe&&ve(a,s)?(a[s]=p,!0):ve(n.props,s)||s[0]==="$"&&s.slice(1)in n?!1:(d[s]=p,!0)},has({_:{data:n,setupState:s,accessCache:p,ctx:a,appContext:f,propsOptions:d}},i){let v;return!!p[i]||n!==Fe&&ve(n,i)||Yo(s,i)||(v=d[0])&&ve(v,i)||ve(a,i)||ve(ci,i)||ve(f.config.globalProperties,i)},defineProperty(n,s,p){return p.get!=null?n._.accessCache[s]=0:ve(p,"value")&&this.set(n,s,p.value,null),Reflect.defineProperty(n,s,p)}},nh=ke({},hs,{get(n,s){if(s!==Symbol.unscopables)return hs.get(n,s,n)},has(n,s){return s[0]!=="_"&&!Cl(s)}});function ih(){return null}function oh(){return null}function sh(n){}function ah(n){}function uh(){return null}function ch(){}function lh(n,s){return null}function fh(){return gc().slots}function hh(){return gc().attrs}function gc(){const n=Mr();return n.setupContext||(n.setupContext=Uc(n))}function Ei(n){return Vt(n)?n.reduce((s,p)=>(s[p]=null,s),{}):n}function dh(n,s){const p=Ei(n);for(const a in s){if(a.startsWith("__skip"))continue;let f=p[a];f?Vt(f)||te(f)?f=p[a]={type:f,default:s[a]}:f.default=s[a]:f===null&&(f=p[a]={default:s[a]}),f&&s[`__skip_${a}`]&&(f.skipFactory=!0)}return p}function gh(n,s){return!n||!s?n||s:Vt(n)&&Vt(s)?n.concat(s):ke({},Ei(n),Ei(s))}function ph(n,s){const p={};for(const a in n)s.includes(a)||Object.defineProperty(p,a,{enumerable:!0,get:()=>n[a]});return p}function vh(n){const s=Mr();let p=n();return bs(),Os(p)&&(p=p.catch(a=>{throw En(s),a})),[p,()=>En(s)]}let ds=!0;function mh(n){const s=ea(n),p=n.proxy,a=n.ctx;ds=!1,s.beforeCreate&&Aa(s.beforeCreate,n,"bc");const{data:f,computed:d,methods:i,watch:v,provide:g,inject:u,created:l,beforeMount:c,mounted:y,beforeUpdate:S,updated:w,activated:R,deactivated:P,beforeDestroy:C,beforeUnmount:E,destroyed:k,unmounted:H,render:T,renderTracked:I,renderTriggered:L,errorCaptured:X,serverPrefetch:Q,expose:rt,inheritAttrs:M,components:ot,directives:ct,filters:bt}=s;if(u&&yh(u,a,null),i)for(const wt in i){const yt=i[wt];te(yt)&&(a[wt]=yt.bind(p))}if(f){const wt=f.call(p,p);xe(wt)&&(n.data=Ti(wt))}if(ds=!0,d)for(const wt in d){const yt=d[wt],Ct=te(yt)?yt.bind(p,p):te(yt.get)?yt.get.bind(p,p):Qe,Tt=!te(yt)&&te(yt.set)?yt.set.bind(p):Qe,jt=lr({get:Ct,set:Tt});Object.defineProperty(a,wt,{enumerable:!0,configurable:!0,get:()=>jt.value,set:Ot=>jt.value=Ot})}if(v)for(const wt in v)pc(v[wt],a,p,wt);if(g){const wt=te(g)?g.call(p):g;Reflect.ownKeys(wt).forEach(yt=>{li(yt,wt[yt])})}l&&Aa(l,n,"c");function pt(wt,yt){Vt(yt)?yt.forEach(Ct=>wt(Ct.bind(p))):yt&&wt(yt.bind(p))}if(pt(ac,c),pt(Oi,y),pt(uc,S),pt(Eo,w),pt(ic,R),pt(oc,P),pt(hc,X),pt(fc,I),pt(lc,L),pt(Fo,E),pt(xo,H),pt(cc,Q),Vt(rt))if(rt.length){const wt=n.exposed||(n.exposed={});rt.forEach(yt=>{Object.defineProperty(wt,yt,{get:()=>p[yt],set:Ct=>p[yt]=Ct})})}else n.exposed||(n.exposed={});T&&n.render===Qe&&(n.render=T),M!=null&&(n.inheritAttrs=M),ot&&(n.components=ot),ct&&(n.directives=ct)}function yh(n,s,p=Qe){Vt(n)&&(n=gs(n));for(const a in n){const f=n[a];let d;xe(f)?"default"in f?d=xr(f.from||a,f.default,!0):d=xr(f.from||a):d=xr(f),He(d)?Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>d.value,set:i=>d.value=i}):s[a]=d}}function Aa(n,s,p){ur(Vt(n)?n.map(a=>a.bind(s.proxy)):n.bind(s.proxy),s,p)}function pc(n,s,p,a){const f=a.includes(".")?ec(p,a):()=>p[a];if(Ce(n)){const d=s[n];te(d)&&Dn(f,d)}else if(te(n))Dn(f,n.bind(p));else if(xe(n))if(Vt(n))n.forEach(d=>pc(d,s,p,a));else{const d=te(n.handler)?n.handler.bind(p):s[n.handler];te(d)&&Dn(f,d,n)}}function ea(n){const s=n.type,{mixins:p,extends:a}=s,{mixins:f,optionsCache:d,config:{optionMergeStrategies:i}}=n.appContext,v=d.get(s);let g;return v?g=v:!f.length&&!p&&!a?g=s:(g={},f.length&&f.forEach(u=>no(g,u,i,!0)),no(g,s,i)),xe(s)&&d.set(s,g),g}function no(n,s,p,a=!1){const{mixins:f,extends:d}=s;d&&no(n,d,p,!0),f&&f.forEach(i=>no(n,i,p,!0));for(const i in s)if(!(a&&i==="expose")){const v=_h[i]||p&&p[i];n[i]=v?v(n[i],s[i]):s[i]}return n}const _h={data:Pa,props:ka,emits:ka,methods:oi,computed:oi,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:oi,directives:oi,watch:Sh,provide:Pa,inject:bh};function Pa(n,s){return s?n?function(){return ke(te(n)?n.call(this,this):n,te(s)?s.call(this,this):s)}:s:n}function bh(n,s){return oi(gs(n),gs(s))}function gs(n){if(Vt(n)){const s={};for(let p=0;p<n.length;p++)s[n[p]]=n[p];return s}return n}function $e(n,s){return n?[...new Set([].concat(n,s))]:s}function oi(n,s){return n?ke(Object.create(null),n,s):s}function ka(n,s){return n?Vt(n)&&Vt(s)?[...new Set([...n,...s])]:ke(Object.create(null),Ei(n),Ei(s??{})):s}function Sh(n,s){if(!n)return s;if(!s)return n;const p=ke(Object.create(null),n);for(const a in s)p[a]=$e(n[a],s[a]);return p}function vc(){return{app:null,config:{isNativeTag:wl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wh=0;function Eh(n,s){return function(a,f=null){te(a)||(a=ke({},a)),f!=null&&!xe(f)&&(f=null);const d=vc(),i=new WeakSet;let v=!1;const g=d.app={_uid:wh++,_component:a,_props:f,_container:null,_context:d,_instance:null,version:Mc,get config(){return d.config},set config(u){},use(u,...l){return i.has(u)||(u&&te(u.install)?(i.add(u),u.install(g,...l)):te(u)&&(i.add(u),u(g,...l))),g},mixin(u){return d.mixins.includes(u)||d.mixins.push(u),g},component(u,l){return l?(d.components[u]=l,g):d.components[u]},directive(u,l){return l?(d.directives[u]=l,g):d.directives[u]},mount(u,l,c){if(!v){const y=se(a,f);return y.appContext=d,c===!0?c="svg":c===!1&&(c=void 0),l&&s?s(y,u):n(y,u,c),v=!0,g._container=u,u.__vue_app__=g,ko(y.component)||y.component.proxy}},unmount(){v&&(n(null,g._container),delete g._container.__vue_app__)},provide(u,l){return d.provides[u]=l,g},runWithContext(u){Fi=g;try{return u()}finally{Fi=null}}};return g}}let Fi=null;function li(n,s){if(Me){let p=Me.provides;const a=Me.parent&&Me.parent.provides;a===p&&(p=Me.provides=Object.create(a)),p[n]=s}}function xr(n,s,p=!1){const a=Me||Ne;if(a||Fi){const f=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:Fi._context.provides;if(f&&n in f)return f[n];if(arguments.length>1)return p&&te(s)?s.call(a&&a.proxy):s}}function Fh(){return!!(Me||Ne||Fi)}function xh(n,s,p,a=!1){const f={},d={};Xi(d,Po,1),n.propsDefaults=Object.create(null),mc(n,s,f,d);for(const i in n.propsOptions[0])i in f||(f[i]=void 0);p?n.props=a?f:Ms(f):n.type.props?n.props=f:n.props=d,n.attrs=d}function Ah(n,s,p,a){const{props:f,attrs:d,vnode:{patchFlag:i}}=n,v=de(f),[g]=n.propsOptions;let u=!1;if((a||i>0)&&!(i&16)){if(i&8){const l=n.vnode.dynamicProps;for(let c=0;c<l.length;c++){let y=l[c];if(_o(n.emitsOptions,y))continue;const S=s[y];if(g)if(ve(d,y))S!==d[y]&&(d[y]=S,u=!0);else{const w=Ge(y);f[w]=ps(g,v,w,S,n,!1)}else S!==d[y]&&(d[y]=S,u=!0)}}}else{mc(n,s,f,d)&&(u=!0);let l;for(const c in v)(!s||!ve(s,c)&&((l=sr(c))===c||!ve(s,l)))&&(g?p&&(p[c]!==void 0||p[l]!==void 0)&&(f[c]=ps(g,v,c,void 0,n,!0)):delete f[c]);if(d!==v)for(const c in d)(!s||!ve(s,c))&&(delete d[c],u=!0)}u&&Nr(n,"set","$attrs")}function mc(n,s,p,a){const[f,d]=n.propsOptions;let i=!1,v;if(s)for(let g in s){if(ai(g))continue;const u=s[g];let l;f&&ve(f,l=Ge(g))?!d||!d.includes(l)?p[l]=u:(v||(v={}))[l]=u:_o(n.emitsOptions,g)||(!(g in a)||u!==a[g])&&(a[g]=u,i=!0)}if(d){const g=de(p),u=v||Fe;for(let l=0;l<d.length;l++){const c=d[l];p[c]=ps(f,g,c,u[c],n,!ve(u,c))}}return i}function ps(n,s,p,a,f,d){const i=n[p];if(i!=null){const v=ve(i,"default");if(v&&a===void 0){const g=i.default;if(i.type!==Function&&!i.skipFactory&&te(g)){const{propsDefaults:u}=f;if(p in u)a=u[p];else{const l=En(f);a=u[p]=g.call(null,s),l()}}else a=g}i[0]&&(d&&!v?a=!1:i[1]&&(a===""||a===sr(p))&&(a=!0))}return a}function yc(n,s,p=!1){const a=s.propsCache,f=a.get(n);if(f)return f;const d=n.props,i={},v=[];let g=!1;if(!te(n)){const l=c=>{g=!0;const[y,S]=yc(c,s,!0);ke(i,y),S&&v.push(...S)};!p&&s.mixins.length&&s.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}if(!d&&!g)return xe(n)&&a.set(n,Tn),Tn;if(Vt(d))for(let l=0;l<d.length;l++){const c=Ge(d[l]);Ca(c)&&(i[c]=Fe)}else if(d)for(const l in d){const c=Ge(l);if(Ca(c)){const y=d[l],S=i[c]=Vt(y)||te(y)?{type:y}:ke({},y);if(S){const w=Ia(Boolean,S.type),R=Ia(String,S.type);S[0]=w>-1,S[1]=R<0||w<R,(w>-1||ve(S,"default"))&&v.push(c)}}}const u=[i,v];return xe(n)&&a.set(n,u),u}function Ca(n){return n[0]!=="$"}function Ta(n){const s=n&&n.toString().match(/^\s*(function|class) (\w+)/);return s?s[2]:n===null?"null":""}function Ra(n,s){return Ta(n)===Ta(s)}function Ia(n,s){return Vt(s)?s.findIndex(p=>Ra(p,n)):te(s)&&Ra(s,n)?0:-1}const _c=n=>n[0]==="_"||n==="$stable",ra=n=>Vt(n)?n.map(or):[or(n)],Ph=(n,s,p)=>{if(s._n)return s;const a=Ie((...f)=>ra(s(...f)),p);return a._c=!1,a},bc=(n,s,p)=>{const a=n._ctx;for(const f in n){if(_c(f))continue;const d=n[f];if(te(d))s[f]=Ph(f,d,a);else if(d!=null){const i=ra(d);s[f]=()=>i}}},Sc=(n,s)=>{const p=ra(s);n.slots.default=()=>p},kh=(n,s)=>{if(n.vnode.shapeFlag&32){const p=s._;p?(n.slots=de(s),Xi(s,"_",p)):bc(s,n.slots={})}else n.slots={},s&&Sc(n,s);Xi(n.slots,Po,1)},Ch=(n,s,p)=>{const{vnode:a,slots:f}=n;let d=!0,i=Fe;if(a.shapeFlag&32){const v=s._;v?p&&v===1?d=!1:(ke(f,s),!p&&v===1&&delete f._):(d=!s.$stable,bc(s,f)),i=s}else s&&(Sc(n,s),i={default:1});if(d)for(const v in f)!_c(v)&&i[v]==null&&delete f[v]};function io(n,s,p,a,f=!1){if(Vt(n)){n.forEach((y,S)=>io(y,s&&(Vt(s)?s[S]:s),p,a,f));return}if(mn(a)&&!f)return;const d=a.shapeFlag&4?ko(a.component)||a.component.proxy:a.el,i=f?null:d,{i:v,r:g}=n,u=s&&s.r,l=v.refs===Fe?v.refs={}:v.refs,c=v.setupState;if(u!=null&&u!==g&&(Ce(u)?(l[u]=null,ve(c,u)&&(c[u]=null)):He(u)&&(u.value=null)),te(g))Dr(g,v,12,[i,l]);else{const y=Ce(g),S=He(g);if(y||S){const w=()=>{if(n.f){const R=y?ve(c,g)?c[g]:l[g]:g.value;f?Vt(R)&&Is(R,d):Vt(R)?R.includes(d)||R.push(d):y?(l[g]=[d],ve(c,g)&&(c[g]=l[g])):(g.value=[d],n.k&&(l[n.k]=g.value))}else y?(l[g]=i,ve(c,g)&&(c[g]=i)):S&&(g.value=i,n.k&&(l[n.k]=i))};i?(w.id=-1,Be(w,p)):w()}}}let Hr=!1;const Th=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",Rh=n=>n.namespaceURI.includes("MathML"),Ki=n=>{if(Th(n))return"svg";if(Rh(n))return"mathml"},qi=n=>n.nodeType===8;function Ih(n){const{mt:s,p,o:{patchProp:a,createText:f,nextSibling:d,parentNode:i,remove:v,insert:g,createComment:u}}=n,l=(k,H)=>{if(!H.hasChildNodes()){p(null,k,H),ro(),H._vnode=k;return}Hr=!1,c(H.firstChild,k,null,null,null),ro(),H._vnode=k,Hr&&console.error("Hydration completed but contains mismatches.")},c=(k,H,T,I,L,X=!1)=>{const Q=qi(k)&&k.data==="[",rt=()=>R(k,H,T,I,L,Q),{type:M,ref:ot,shapeFlag:ct,patchFlag:bt}=H;let kt=k.nodeType;H.el=k,bt===-2&&(X=!1,H.dynamicChildren=null);let pt=null;switch(M){case Sn:kt!==3?H.children===""?(g(H.el=f(""),i(k),k),pt=k):pt=rt():(k.data!==H.children&&(Hr=!0,k.data=H.children),pt=d(k));break;case Ke:E(k)?(pt=d(k),C(H.el=k.content.firstChild,k,T)):kt!==8||Q?pt=rt():pt=d(k);break;case yn:if(Q&&(k=d(k),kt=k.nodeType),kt===1||kt===3){pt=k;const wt=!H.children.length;for(let yt=0;yt<H.staticCount;yt++)wt&&(H.children+=pt.nodeType===1?pt.outerHTML:pt.data),yt===H.staticCount-1&&(H.anchor=pt),pt=d(pt);return Q?d(pt):pt}else rt();break;case je:Q?pt=w(k,H,T,I,L,X):pt=rt();break;default:if(ct&1)(kt!==1||H.type.toLowerCase()!==k.tagName.toLowerCase())&&!E(k)?pt=rt():pt=y(k,H,T,I,L,X);else if(ct&6){H.slotScopeIds=L;const wt=i(k);if(Q?pt=P(k):qi(k)&&k.data==="teleport start"?pt=P(k,k.data,"teleport end"):pt=d(k),s(H,wt,null,T,I,Ki(wt),X),mn(H)){let yt;Q?(yt=se(je),yt.anchor=pt?pt.previousSibling:wt.lastChild):yt=k.nodeType===3?ce(""):se("div"),yt.el=k,H.component.subTree=yt}}else ct&64?kt!==8?pt=rt():pt=H.type.hydrate(k,H,T,I,L,X,n,S):ct&128&&(pt=H.type.hydrate(k,H,T,I,Ki(i(k)),L,X,n,c))}return ot!=null&&io(ot,null,I,H),pt},y=(k,H,T,I,L,X)=>{X=X||!!H.dynamicChildren;const{type:Q,props:rt,patchFlag:M,shapeFlag:ot,dirs:ct,transition:bt}=H,kt=Q==="input"||Q==="option";if(kt||M!==-1){ct&&Er(H,null,T,"created");let pt=!1;if(E(k)){pt=xc(I,bt)&&T&&T.vnode.props&&T.vnode.props.appear;const yt=k.content.firstChild;pt&&bt.beforeEnter(yt),C(yt,k,T),H.el=k=yt}if(ot&16&&!(rt&&(rt.innerHTML||rt.textContent))){let yt=S(k.firstChild,H,k,T,I,L,X);for(;yt;){Hr=!0;const Ct=yt;yt=yt.nextSibling,v(Ct)}}else ot&8&&k.textContent!==H.children&&(Hr=!0,k.textContent=H.children);if(rt)if(kt||!X||M&48)for(const yt in rt)(kt&&(yt.endsWith("value")||yt==="indeterminate")||Ai(yt)&&!ai(yt)||yt[0]===".")&&a(k,yt,null,rt[yt],void 0,void 0,T);else rt.onClick&&a(k,"onClick",null,rt.onClick,void 0,void 0,T);let wt;(wt=rt&&rt.onVnodeBeforeMount)&&Xe(wt,T,H),ct&&Er(H,null,T,"beforeMount"),((wt=rt&&rt.onVnodeMounted)||ct||pt)&&Yu(()=>{wt&&Xe(wt,T,H),pt&&bt.enter(k),ct&&Er(H,null,T,"mounted")},I)}return k.nextSibling},S=(k,H,T,I,L,X,Q)=>{Q=Q||!!H.dynamicChildren;const rt=H.children,M=rt.length;for(let ot=0;ot<M;ot++){const ct=Q?rt[ot]:rt[ot]=or(rt[ot]);if(k)k=c(k,ct,I,L,X,Q);else{if(ct.type===Sn&&!ct.children)continue;Hr=!0,p(null,ct,T,null,I,L,Ki(T),X)}}return k},w=(k,H,T,I,L,X)=>{const{slotScopeIds:Q}=H;Q&&(L=L?L.concat(Q):Q);const rt=i(k),M=S(d(k),H,rt,T,I,L,X);return M&&qi(M)&&M.data==="]"?d(H.anchor=M):(Hr=!0,g(H.anchor=u("]"),rt,M),M)},R=(k,H,T,I,L,X)=>{if(Hr=!0,H.el=null,X){const M=P(k);for(;;){const ot=d(k);if(ot&&ot!==M)v(ot);else break}}const Q=d(k),rt=i(k);return v(k),p(null,H,rt,Q,T,I,Ki(rt),L),Q},P=(k,H="[",T="]")=>{let I=0;for(;k;)if(k=d(k),k&&qi(k)&&(k.data===H&&I++,k.data===T)){if(I===0)return d(k);I--}return k},C=(k,H,T)=>{const I=H.parentNode;I&&I.replaceChild(k,H);let L=T;for(;L;)L.vnode.el===H&&(L.vnode.el=L.subTree.el=k),L=L.parent},E=k=>k.nodeType===1&&k.tagName.toLowerCase()==="template";return[l,c]}const Be=Yu;function wc(n){return Fc(n)}function Ec(n){return Fc(n,Ih)}function Fc(n,s){const p=_u();p.__VUE__=!0;const{insert:a,remove:f,patchProp:d,createElement:i,createText:v,createComment:g,setText:u,setElementText:l,parentNode:c,nextSibling:y,setScopeId:S=Qe,insertStaticContent:w}=n,R=(m,A,D,$=null,Y=null,at=null,ft=void 0,gt=null,dt=!!A.dynamicChildren)=>{if(m===A)return;m&&!br(m,A)&&($=lt(m),Ot(m,Y,at,!0),m=null),A.patchFlag===-2&&(dt=!1,A.dynamicChildren=null);const{type:vt,ref:At,shapeFlag:Lt}=A;switch(vt){case Sn:P(m,A,D,$);break;case Ke:C(m,A,D,$);break;case yn:m==null&&E(A,D,$,ft);break;case je:ot(m,A,D,$,Y,at,ft,gt,dt);break;default:Lt&1?T(m,A,D,$,Y,at,ft,gt,dt):Lt&6?ct(m,A,D,$,Y,at,ft,gt,dt):(Lt&64||Lt&128)&&vt.process(m,A,D,$,Y,at,ft,gt,dt,Rt)}At!=null&&Y&&io(At,m&&m.ref,at,A||m,!A)},P=(m,A,D,$)=>{if(m==null)a(A.el=v(A.children),D,$);else{const Y=A.el=m.el;A.children!==m.children&&u(Y,A.children)}},C=(m,A,D,$)=>{m==null?a(A.el=g(A.children||""),D,$):A.el=m.el},E=(m,A,D,$)=>{[m.el,m.anchor]=w(m.children,A,D,$,m.el,m.anchor)},k=({el:m,anchor:A},D,$)=>{let Y;for(;m&&m!==A;)Y=y(m),a(m,D,$),m=Y;a(A,D,$)},H=({el:m,anchor:A})=>{let D;for(;m&&m!==A;)D=y(m),f(m),m=D;f(A)},T=(m,A,D,$,Y,at,ft,gt,dt)=>{A.type==="svg"?ft="svg":A.type==="math"&&(ft="mathml"),m==null?I(A,D,$,Y,at,ft,gt,dt):Q(m,A,Y,at,ft,gt,dt)},I=(m,A,D,$,Y,at,ft,gt)=>{let dt,vt;const{props:At,shapeFlag:Lt,transition:Nt,dirs:ht}=m;if(dt=m.el=i(m.type,at,At&&At.is,At),Lt&8?l(dt,m.children):Lt&16&&X(m.children,dt,null,$,Y,Xo(m,at),ft,gt),ht&&Er(m,null,$,"created"),L(dt,m,m.scopeId,ft,$),At){for(const Pt in At)Pt!=="value"&&!ai(Pt)&&d(dt,Pt,null,At[Pt],at,m.children,$,Y,$t);"value"in At&&d(dt,"value",null,At.value,at),(vt=At.onVnodeBeforeMount)&&Xe(vt,$,m)}ht&&Er(m,null,$,"beforeMount");const It=xc(Y,Nt);It&&Nt.beforeEnter(dt),a(dt,A,D),((vt=At&&At.onVnodeMounted)||It||ht)&&Be(()=>{vt&&Xe(vt,$,m),It&&Nt.enter(dt),ht&&Er(m,null,$,"mounted")},Y)},L=(m,A,D,$,Y)=>{if(D&&S(m,D),$)for(let at=0;at<$.length;at++)S(m,$[at]);if(Y){let at=Y.subTree;if(A===at){const ft=Y.vnode;L(m,ft,ft.scopeId,ft.slotScopeIds,Y.parent)}}},X=(m,A,D,$,Y,at,ft,gt,dt=0)=>{for(let vt=dt;vt<m.length;vt++){const At=m[vt]=gt?zr(m[vt]):or(m[vt]);R(null,At,A,D,$,Y,at,ft,gt)}},Q=(m,A,D,$,Y,at,ft)=>{const gt=A.el=m.el;let{patchFlag:dt,dynamicChildren:vt,dirs:At}=A;dt|=m.patchFlag&16;const Lt=m.props||Fe,Nt=A.props||Fe;let ht;if(D&&ln(D,!1),(ht=Nt.onVnodeBeforeUpdate)&&Xe(ht,D,A,m),At&&Er(A,m,D,"beforeUpdate"),D&&ln(D,!0),vt?rt(m.dynamicChildren,vt,gt,D,$,Xo(A,Y),at):ft||yt(m,A,gt,null,D,$,Xo(A,Y),at,!1),dt>0){if(dt&16)M(gt,A,Lt,Nt,D,$,Y);else if(dt&2&&Lt.class!==Nt.class&&d(gt,"class",null,Nt.class,Y),dt&4&&d(gt,"style",Lt.style,Nt.style,Y),dt&8){const It=A.dynamicProps;for(let Pt=0;Pt<It.length;Pt++){const Xt=It[Pt],me=Lt[Xt],O=Nt[Xt];(O!==me||Xt==="value")&&d(gt,Xt,me,O,Y,m.children,D,$,$t)}}dt&1&&m.children!==A.children&&l(gt,A.children)}else!ft&&vt==null&&M(gt,A,Lt,Nt,D,$,Y);((ht=Nt.onVnodeUpdated)||At)&&Be(()=>{ht&&Xe(ht,D,A,m),At&&Er(A,m,D,"updated")},$)},rt=(m,A,D,$,Y,at,ft)=>{for(let gt=0;gt<A.length;gt++){const dt=m[gt],vt=A[gt],At=dt.el&&(dt.type===je||!br(dt,vt)||dt.shapeFlag&70)?c(dt.el):D;R(dt,vt,At,null,$,Y,at,ft,!0)}},M=(m,A,D,$,Y,at,ft)=>{if(D!==$){if(D!==Fe)for(const gt in D)!ai(gt)&&!(gt in $)&&d(m,gt,D[gt],null,ft,A.children,Y,at,$t);for(const gt in $){if(ai(gt))continue;const dt=$[gt],vt=D[gt];dt!==vt&&gt!=="value"&&d(m,gt,vt,dt,ft,A.children,Y,at,$t)}"value"in $&&d(m,"value",D.value,$.value,ft)}},ot=(m,A,D,$,Y,at,ft,gt,dt)=>{const vt=A.el=m?m.el:v(""),At=A.anchor=m?m.anchor:v("");let{patchFlag:Lt,dynamicChildren:Nt,slotScopeIds:ht}=A;ht&&(gt=gt?gt.concat(ht):ht),m==null?(a(vt,D,$),a(At,D,$),X(A.children||[],D,At,Y,at,ft,gt,dt)):Lt>0&&Lt&64&&Nt&&m.dynamicChildren?(rt(m.dynamicChildren,Nt,D,Y,at,ft,gt),(A.key!=null||Y&&A===Y.subTree)&&na(m,A,!0)):yt(m,A,D,At,Y,at,ft,gt,dt)},ct=(m,A,D,$,Y,at,ft,gt,dt)=>{A.slotScopeIds=gt,m==null?A.shapeFlag&512?Y.ctx.activate(A,D,$,ft,dt):bt(A,D,$,Y,at,ft,dt):kt(m,A,dt)},bt=(m,A,D,$,Y,at,ft)=>{const gt=m.component=Oc(m,$,Y);if(Ii(m)&&(gt.ctx.renderer=Rt),Nc(gt),gt.asyncDep){if(Y&&Y.registerDep(gt,pt),!m.el){const dt=gt.subTree=se(Ke);C(null,dt,A,D)}}else pt(gt,m,A,D,Y,at,ft)},kt=(m,A,D)=>{const $=A.component=m.component;if(Lf(m,A,D))if($.asyncDep&&!$.asyncResolved){wt($,A,D);return}else $.next=A,Pf($.update),$.effect.dirty=!0,$.update();else A.el=m.el,$.vnode=A},pt=(m,A,D,$,Y,at,ft)=>{const gt=()=>{if(m.isMounted){let{next:At,bu:Lt,u:Nt,parent:ht,vnode:It}=m;{const Ae=Ac(m);if(Ae){At&&(At.el=It.el,wt(m,At,ft)),Ae.asyncDep.then(()=>{m.isUnmounted||gt()});return}}let Pt=At,Xt;ln(m,!1),At?(At.el=It.el,wt(m,At,ft)):At=It,Lt&&In(Lt),(Xt=At.props&&At.props.onVnodeBeforeUpdate)&&Xe(Xt,ht,At,It),ln(m,!0);const me=$i(m),O=m.subTree;m.subTree=me,R(O,me,c(O.el),lt(O),m,Y,at),At.el=me.el,Pt===null&&Gs(m,me.el),Nt&&Be(Nt,Y),(Xt=At.props&&At.props.onVnodeUpdated)&&Be(()=>Xe(Xt,ht,At,It),Y)}else{let At;const{el:Lt,props:Nt}=A,{bm:ht,m:It,parent:Pt}=m,Xt=mn(A);if(ln(m,!1),ht&&In(ht),!Xt&&(At=Nt&&Nt.onVnodeBeforeMount)&&Xe(At,Pt,A),ln(m,!0),Lt&&b){const me=()=>{m.subTree=$i(m),b(Lt,m.subTree,m,Y,null)};Xt?A.type.__asyncLoader().then(()=>!m.isUnmounted&&me()):me()}else{const me=m.subTree=$i(m);R(null,me,D,$,m,Y,at),A.el=me.el}if(It&&Be(It,Y),!Xt&&(At=Nt&&Nt.onVnodeMounted)){const me=A;Be(()=>Xe(At,Pt,me),Y)}(A.shapeFlag&256||Pt&&mn(Pt.vnode)&&Pt.vnode.shapeFlag&256)&&m.a&&Be(m.a,Y),m.isMounted=!0,A=D=$=null}},dt=m.effect=new Un(gt,Qe,()=>yo(vt),m.scope),vt=m.update=()=>{dt.dirty&&dt.run()};vt.id=m.uid,ln(m,!0),vt()},wt=(m,A,D)=>{A.component=m;const $=m.vnode.props;m.vnode=A,m.next=null,Ah(m,A.props,$,D),Ch(m,A.children,D),xn(),Sa(m),An()},yt=(m,A,D,$,Y,at,ft,gt,dt=!1)=>{const vt=m&&m.children,At=m?m.shapeFlag:0,Lt=A.children,{patchFlag:Nt,shapeFlag:ht}=A;if(Nt>0){if(Nt&128){Tt(vt,Lt,D,$,Y,at,ft,gt,dt);return}else if(Nt&256){Ct(vt,Lt,D,$,Y,at,ft,gt,dt);return}}ht&8?(At&16&&$t(vt,Y,at),Lt!==vt&&l(D,Lt)):At&16?ht&16?Tt(vt,Lt,D,$,Y,at,ft,gt,dt):$t(vt,Y,at,!0):(At&8&&l(D,""),ht&16&&X(Lt,D,$,Y,at,ft,gt,dt))},Ct=(m,A,D,$,Y,at,ft,gt,dt)=>{m=m||Tn,A=A||Tn;const vt=m.length,At=A.length,Lt=Math.min(vt,At);let Nt;for(Nt=0;Nt<Lt;Nt++){const ht=A[Nt]=dt?zr(A[Nt]):or(A[Nt]);R(m[Nt],ht,D,null,Y,at,ft,gt,dt)}vt>At?$t(m,Y,at,!0,!1,Lt):X(A,D,$,Y,at,ft,gt,dt,Lt)},Tt=(m,A,D,$,Y,at,ft,gt,dt)=>{let vt=0;const At=A.length;let Lt=m.length-1,Nt=At-1;for(;vt<=Lt&&vt<=Nt;){const ht=m[vt],It=A[vt]=dt?zr(A[vt]):or(A[vt]);if(br(ht,It))R(ht,It,D,null,Y,at,ft,gt,dt);else break;vt++}for(;vt<=Lt&&vt<=Nt;){const ht=m[Lt],It=A[Nt]=dt?zr(A[Nt]):or(A[Nt]);if(br(ht,It))R(ht,It,D,null,Y,at,ft,gt,dt);else break;Lt--,Nt--}if(vt>Lt){if(vt<=Nt){const ht=Nt+1,It=ht<At?A[ht].el:$;for(;vt<=Nt;)R(null,A[vt]=dt?zr(A[vt]):or(A[vt]),D,It,Y,at,ft,gt,dt),vt++}}else if(vt>Nt)for(;vt<=Lt;)Ot(m[vt],Y,at,!0),vt++;else{const ht=vt,It=vt,Pt=new Map;for(vt=It;vt<=Nt;vt++){const Wt=A[vt]=dt?zr(A[vt]):or(A[vt]);Wt.key!=null&&Pt.set(Wt.key,vt)}let Xt,me=0;const O=Nt-It+1;let Ae=!1,ge=0;const st=new Array(O);for(vt=0;vt<O;vt++)st[vt]=0;for(vt=ht;vt<=Lt;vt++){const Wt=m[vt];if(me>=O){Ot(Wt,Y,at,!0);continue}let zt;if(Wt.key!=null)zt=Pt.get(Wt.key);else for(Xt=It;Xt<=Nt;Xt++)if(st[Xt-It]===0&&br(Wt,A[Xt])){zt=Xt;break}zt===void 0?Ot(Wt,Y,at,!0):(st[zt-It]=vt+1,zt>=ge?ge=zt:Ae=!0,R(Wt,A[zt],D,null,Y,at,ft,gt,dt),me++)}const qt=Ae?Oh(st):Tn;for(Xt=qt.length-1,vt=O-1;vt>=0;vt--){const Wt=It+vt,zt=A[Wt],Ft=Wt+1<At?A[Wt+1].el:$;st[vt]===0?R(null,zt,D,Ft,Y,at,ft,gt,dt):Ae&&(Xt<0||vt!==qt[Xt]?jt(zt,D,Ft,2):Xt--)}}},jt=(m,A,D,$,Y=null)=>{const{el:at,type:ft,transition:gt,children:dt,shapeFlag:vt}=m;if(vt&6){jt(m.component.subTree,A,D,$);return}if(vt&128){m.suspense.move(A,D,$);return}if(vt&64){ft.move(m,A,D,Rt);return}if(ft===je){a(at,A,D);for(let Lt=0;Lt<dt.length;Lt++)jt(dt[Lt],A,D,$);a(m.anchor,A,D);return}if(ft===yn){k(m,A,D);return}if($!==2&&vt&1&&gt)if($===0)gt.beforeEnter(at),a(at,A,D),Be(()=>gt.enter(at),Y);else{const{leave:Lt,delayLeave:Nt,afterLeave:ht}=gt,It=()=>a(at,A,D),Pt=()=>{Lt(at,()=>{It(),ht&&ht()})};Nt?Nt(at,It,Pt):Pt()}else a(at,A,D)},Ot=(m,A,D,$=!1,Y=!1)=>{const{type:at,props:ft,ref:gt,children:dt,dynamicChildren:vt,shapeFlag:At,patchFlag:Lt,dirs:Nt}=m;if(gt!=null&&io(gt,null,D,m,!0),At&256){A.ctx.deactivate(m);return}const ht=At&1&&Nt,It=!mn(m);let Pt;if(It&&(Pt=ft&&ft.onVnodeBeforeUnmount)&&Xe(Pt,A,m),At&6)ee(m.component,D,$);else{if(At&128){m.suspense.unmount(D,$);return}ht&&Er(m,null,A,"beforeUnmount"),At&64?m.type.remove(m,A,D,Y,Rt,$):vt&&(at!==je||Lt>0&&Lt&64)?$t(vt,A,D,!1,!0):(at===je&&Lt&384||!Y&&At&16)&&$t(dt,A,D),$&&Mt(m)}(It&&(Pt=ft&&ft.onVnodeUnmounted)||ht)&&Be(()=>{Pt&&Xe(Pt,A,m),ht&&Er(m,null,A,"unmounted")},D)},Mt=m=>{const{type:A,el:D,anchor:$,transition:Y}=m;if(A===je){Jt(D,$);return}if(A===yn){H(m);return}const at=()=>{f(D),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(m.shapeFlag&1&&Y&&!Y.persisted){const{leave:ft,delayLeave:gt}=Y,dt=()=>ft(D,at);gt?gt(m.el,at,dt):dt()}else at()},Jt=(m,A)=>{let D;for(;m!==A;)D=y(m),f(m),m=D;f(A)},ee=(m,A,D)=>{const{bum:$,scope:Y,update:at,subTree:ft,um:gt}=m;$&&In($),Y.stop(),at&&(at.active=!1,Ot(ft,m,A,D)),gt&&Be(gt,A),Be(()=>{m.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},$t=(m,A,D,$=!1,Y=!1,at=0)=>{for(let ft=at;ft<m.length;ft++)Ot(m[ft],A,D,$,Y)},lt=m=>m.shapeFlag&6?lt(m.component.subTree):m.shapeFlag&128?m.suspense.next():y(m.anchor||m.el);let Et=!1;const St=(m,A,D)=>{m==null?A._vnode&&Ot(A._vnode,null,null,!0):R(A._vnode||null,m,A,null,null,null,D),Et||(Et=!0,Sa(),ro(),Et=!1),A._vnode=m},Rt={p:R,um:Ot,m:jt,r:Mt,mt:bt,mc:X,pc:yt,pbc:rt,n:lt,o:n};let q,b;return s&&([q,b]=s(Rt)),{render:St,hydrate:q,createApp:Eh(St,q)}}function Xo({type:n,props:s},p){return p==="svg"&&n==="foreignObject"||p==="mathml"&&n==="annotation-xml"&&s&&s.encoding&&s.encoding.includes("html")?void 0:p}function ln({effect:n,update:s},p){n.allowRecurse=s.allowRecurse=p}function xc(n,s){return(!n||n&&!n.pendingBranch)&&s&&!s.persisted}function na(n,s,p=!1){const a=n.children,f=s.children;if(Vt(a)&&Vt(f))for(let d=0;d<a.length;d++){const i=a[d];let v=f[d];v.shapeFlag&1&&!v.dynamicChildren&&((v.patchFlag<=0||v.patchFlag===32)&&(v=f[d]=zr(f[d]),v.el=i.el),p||na(i,v)),v.type===Sn&&(v.el=i.el)}}function Oh(n){const s=n.slice(),p=[0];let a,f,d,i,v;const g=n.length;for(a=0;a<g;a++){const u=n[a];if(u!==0){if(f=p[p.length-1],n[f]<u){s[a]=f,p.push(a);continue}for(d=0,i=p.length-1;d<i;)v=d+i>>1,n[p[v]]<u?d=v+1:i=v;u<n[p[d]]&&(d>0&&(s[a]=p[d-1]),p[d]=a)}}for(d=p.length,i=p[d-1];d-- >0;)p[d]=i,i=s[i];return p}function Ac(n){const s=n.subTree.component;if(s)return s.asyncDep&&!s.asyncResolved?s:Ac(s)}const Lh=n=>n.__isTeleport,fi=n=>n&&(n.disabled||n.disabled===""),Oa=n=>typeof SVGElement<"u"&&n instanceof SVGElement,La=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,vs=(n,s)=>{const p=n&&n.to;return Ce(p)?s?s(p):null:p},Nh={name:"Teleport",__isTeleport:!0,process(n,s,p,a,f,d,i,v,g,u){const{mc:l,pc:c,pbc:y,o:{insert:S,querySelector:w,createText:R,createComment:P}}=u,C=fi(s.props);let{shapeFlag:E,children:k,dynamicChildren:H}=s;if(n==null){const T=s.el=R(""),I=s.anchor=R("");S(T,p,a),S(I,p,a);const L=s.target=vs(s.props,w),X=s.targetAnchor=R("");L&&(S(X,L),i==="svg"||Oa(L)?i="svg":(i==="mathml"||La(L))&&(i="mathml"));const Q=(rt,M)=>{E&16&&l(k,rt,M,f,d,i,v,g)};C?Q(p,I):L&&Q(L,X)}else{s.el=n.el;const T=s.anchor=n.anchor,I=s.target=n.target,L=s.targetAnchor=n.targetAnchor,X=fi(n.props),Q=X?p:I,rt=X?T:L;if(i==="svg"||Oa(I)?i="svg":(i==="mathml"||La(I))&&(i="mathml"),H?(y(n.dynamicChildren,H,Q,f,d,i,v),na(n,s,!0)):g||c(n,s,Q,rt,f,d,i,v,!1),C)X?s.props&&n.props&&s.props.to!==n.props.to&&(s.props.to=n.props.to):Wi(s,p,T,u,1);else if((s.props&&s.props.to)!==(n.props&&n.props.to)){const M=s.target=vs(s.props,w);M&&Wi(s,M,null,u,0)}else X&&Wi(s,I,L,u,1)}Pc(s)},remove(n,s,p,a,{um:f,o:{remove:d}},i){const{shapeFlag:v,children:g,anchor:u,targetAnchor:l,target:c,props:y}=n;if(c&&d(l),i&&d(u),v&16){const S=i||!fi(y);for(let w=0;w<g.length;w++){const R=g[w];f(R,s,p,S,!!R.dynamicChildren)}}},move:Wi,hydrate:Dh};function Wi(n,s,p,{o:{insert:a},m:f},d=2){d===0&&a(n.targetAnchor,s,p);const{el:i,anchor:v,shapeFlag:g,children:u,props:l}=n,c=d===2;if(c&&a(i,s,p),(!c||fi(l))&&g&16)for(let y=0;y<u.length;y++)f(u[y],s,p,2);c&&a(v,s,p)}function Dh(n,s,p,a,f,d,{o:{nextSibling:i,parentNode:v,querySelector:g}},u){const l=s.target=vs(s.props,g);if(l){const c=l._lpa||l.firstChild;if(s.shapeFlag&16)if(fi(s.props))s.anchor=u(i(n),s,v(n),p,a,f,d),s.targetAnchor=c;else{s.anchor=i(n);let y=c;for(;y;)if(y=i(y),y&&y.nodeType===8&&y.data==="teleport anchor"){s.targetAnchor=y,l._lpa=s.targetAnchor&&i(s.targetAnchor);break}u(c,s,l,p,a,f,d)}Pc(s)}return s.anchor&&i(s.anchor)}const Uh=Nh;function Pc(n){const s=n.ctx;if(s&&s.ut){let p=n.children[0].el;for(;p&&p!==n.targetAnchor;)p.nodeType===1&&p.setAttribute("data-v-owner",s.uid),p=p.nextSibling;s.ut()}}const je=Symbol.for("v-fgt"),Sn=Symbol.for("v-txt"),Ke=Symbol.for("v-cmt"),yn=Symbol.for("v-stc"),hi=[];let Ze=null;function qe(n=!1){hi.push(Ze=n?null:[])}function kc(){hi.pop(),Ze=hi[hi.length-1]||null}let wn=1;function ms(n){wn+=n}function Cc(n){return n.dynamicChildren=wn>0?Ze||Tn:null,kc(),wn>0&&Ze&&Ze.push(n),n}function hr(n,s,p,a,f,d){return Cc(fe(n,s,p,a,f,d,!0))}function Ao(n,s,p,a,f){return Cc(se(n,s,p,a,f,!0))}function Zr(n){return n?n.__v_isVNode===!0:!1}function br(n,s){return n.type===s.type&&n.key===s.key}function jh(n){}const Po="__vInternal",Tc=({key:n})=>n??null,Yi=({ref:n,ref_key:s,ref_for:p})=>(typeof n=="number"&&(n=""+n),n!=null?Ce(n)||He(n)||te(n)?{i:Ne,r:n,k:s,f:!!p}:n:null);function fe(n,s=null,p=null,a=0,f=null,d=n===je?0:1,i=!1,v=!1){const g={__v_isVNode:!0,__v_skip:!0,type:n,props:s,key:s&&Tc(s),ref:s&&Yi(s),scopeId:bo,slotScopeIds:null,children:p,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:a,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:Ne};return v?(ia(g,p),d&128&&n.normalize(g)):p&&(g.shapeFlag|=Ce(p)?8:16),wn>0&&!i&&Ze&&(g.patchFlag>0||d&6)&&g.patchFlag!==32&&Ze.push(g),g}const se=Mh;function Mh(n,s=null,p=null,a=0,f=null,d=!1){if((!n||n===$u)&&(n=Ke),Zr(n)){const v=Ar(n,s,!0);return p&&ia(v,p),wn>0&&!d&&Ze&&(v.shapeFlag&6?Ze[Ze.indexOf(n)]=v:Ze.push(v)),v.patchFlag|=-2,v}if(zh(n)&&(n=n.__vccOpts),s){s=Rc(s);let{class:v,style:g}=s;v&&!Ce(v)&&(s.class=Ci(v)),xe(g)&&(Hs(g)&&!Vt(g)&&(g=ke({},g)),s.style=ki(g))}const i=Ce(n)?1:Gu(n)?128:Lh(n)?64:xe(n)?4:te(n)?2:0;return fe(n,s,p,a,f,i,d,!0)}function Rc(n){return n?Hs(n)||Po in n?ke({},n):n:null}function Ar(n,s,p=!1){const{props:a,ref:f,patchFlag:d,children:i}=n,v=s?Ic(a||{},s):a;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:v,key:v&&Tc(v),ref:s&&s.ref?p&&f?Vt(f)?f.concat(Yi(s)):[f,Yi(s)]:Yi(s):f,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:i,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:s&&n.type!==je?d===-1?16:d|16:d,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ar(n.ssContent),ssFallback:n.ssFallback&&Ar(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function ce(n=" ",s=0){return se(Sn,null,n,s)}function Bh(n,s){const p=se(yn,null,n);return p.staticCount=s,p}function ys(n="",s=!1){return s?(qe(),Ao(Ke,null,n)):se(Ke,null,n)}function or(n){return n==null||typeof n=="boolean"?se(Ke):Vt(n)?se(je,null,n.slice()):typeof n=="object"?zr(n):se(Sn,null,String(n))}function zr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Ar(n)}function ia(n,s){let p=0;const{shapeFlag:a}=n;if(s==null)s=null;else if(Vt(s))p=16;else if(typeof s=="object")if(a&65){const f=s.default;f&&(f._c&&(f._d=!1),ia(n,f()),f._c&&(f._d=!0));return}else{p=32;const f=s._;!f&&!(Po in s)?s._ctx=Ne:f===3&&Ne&&(Ne.slots._===1?s._=1:(s._=2,n.patchFlag|=1024))}else te(s)?(s={default:s,_ctx:Ne},p=32):(s=String(s),a&64?(p=16,s=[ce(s)]):p=8);n.children=s,n.shapeFlag|=p}function Ic(...n){const s={};for(let p=0;p<n.length;p++){const a=n[p];for(const f in a)if(f==="class")s.class!==a.class&&(s.class=Ci([s.class,a.class]));else if(f==="style")s.style=ki([s.style,a.style]);else if(Ai(f)){const d=s[f],i=a[f];i&&d!==i&&!(Vt(d)&&d.includes(i))&&(s[f]=d?[].concat(d,i):i)}else f!==""&&(s[f]=a[f])}return s}function Xe(n,s,p,a=null){ur(n,s,7,[p,a])}const Hh=vc();let Vh=0;function Oc(n,s,p){const a=n.type,f=(s?s.appContext:n.appContext)||Hh,d={uid:Vh++,vnode:n,type:a,parent:s,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ns(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yc(a,f),emitsOptions:zu(a,f),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:a.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:p,suspenseId:p?p.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=s?s.root:d,d.emit=Cf.bind(null,d),n.ce&&n.ce(d),d}let Me=null;const Mr=()=>Me||Ne;let oo,_s;{const n=_u(),s=(p,a)=>{let f;return(f=n[p])||(f=n[p]=[]),f.push(a),d=>{f.length>1?f.forEach(i=>i(d)):f[0](d)}};oo=s("__VUE_INSTANCE_SETTERS__",p=>Me=p),_s=s("__VUE_SSR_SETTERS__",p=>Li=p)}const En=n=>{const s=Me;return oo(n),n.scope.on(),()=>{n.scope.off(),oo(s)}},bs=()=>{Me&&Me.scope.off(),oo(null)};function Lc(n){return n.vnode.shapeFlag&4}let Li=!1;function Nc(n,s=!1){s&&_s(s);const{props:p,children:a}=n.vnode,f=Lc(n);xh(n,p,f,s),kh(n,a);const d=f?Kh(n,s):void 0;return s&&_s(!1),d}function Kh(n,s){const p=n.type;n.accessCache=Object.create(null),n.proxy=Vs(new Proxy(n.ctx,hs));const{setup:a}=p;if(a){const f=n.setupContext=a.length>1?Uc(n):null,d=En(n);xn();const i=Dr(a,n,0,[n.props,f]);if(An(),d(),Os(i)){if(i.then(bs,bs),s)return i.then(v=>{Ss(n,v,s)}).catch(v=>{Pn(v,n,0)});n.asyncDep=i}else Ss(n,i,s)}else Dc(n,s)}function Ss(n,s,p){te(s)?n.type.__ssrInlineRender?n.ssrRender=s:n.render=s:xe(s)&&(n.setupState=Ws(s)),Dc(n,p)}let so,ws;function qh(n){so=n,ws=s=>{s.render._rc&&(s.withProxy=new Proxy(s.ctx,nh))}}const Wh=()=>!so;function Dc(n,s,p){const a=n.type;if(!n.render){if(!s&&so&&!a.render){const f=a.template||ea(n).template;if(f){const{isCustomElement:d,compilerOptions:i}=n.appContext.config,{delimiters:v,compilerOptions:g}=a,u=ke(ke({isCustomElement:d,delimiters:v},i),g);a.render=so(f,u)}}n.render=a.render||Qe,ws&&ws(n)}{const f=En(n);xn();try{mh(n)}finally{An(),f()}}}function Jh(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(s,p){return tr(n,"get","$attrs"),s[p]}}))}function Uc(n){const s=p=>{n.exposed=p||{}};return{get attrs(){return Jh(n)},slots:n.slots,emit:n.emit,expose:s}}function ko(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Ws(Vs(n.exposed)),{get(s,p){if(p in s)return s[p];if(p in ci)return ci[p](n)},has(s,p){return p in s||p in ci}}))}function Es(n,s=!0){return te(n)?n.displayName||n.name:n.name||s&&n.__name}function zh(n){return te(n)&&"__vccOpts"in n}const lr=(n,s)=>lf(n,s,Li);function $h(n,s,p=Fe){const a=Mr(),f=Ge(s),d=sr(s),i=Hu((g,u)=>{let l;return tc(()=>{const c=n[s];Sr(l,c)&&(l=c,u())}),{get(){return g(),p.get?p.get(l):l},set(c){const y=a.vnode.props;!(y&&(s in y||f in y||d in y)&&(`onUpdate:${s}`in y||`onUpdate:${f}`in y||`onUpdate:${d}`in y))&&Sr(c,l)&&(l=c,u()),a.emit(`update:${s}`,p.set?p.set(c):c)}}}),v=s==="modelValue"?"modelModifiers":`${s}Modifiers`;return i[Symbol.iterator]=()=>{let g=0;return{next(){return g<2?{value:g++?n[v]||{}:i,done:!1}:{done:!0}}}},i}function Co(n,s,p){const a=arguments.length;return a===2?xe(s)&&!Vt(s)?Zr(s)?se(n,null,[s]):se(n,s):se(n,null,s):(a>3?p=Array.prototype.slice.call(arguments,2):a===3&&Zr(p)&&(p=[p]),se(n,s,p))}function Gh(){}function Yh(n,s,p,a){const f=p[a];if(f&&jc(f,n))return f;const d=s();return d.memo=n.slice(),p[a]=d}function jc(n,s){const p=n.memo;if(p.length!=s.length)return!1;for(let a=0;a<p.length;a++)if(Sr(p[a],s[a]))return!1;return wn>0&&Ze&&Ze.push(n),!0}const Mc="3.4.9",Xh=Qe,Qh=Ff,Zh=kn,td=Ju,ed={createComponentInstance:Oc,setupComponent:Nc,renderComponentRoot:$i,setCurrentRenderingInstance:Si,isVNode:Zr,normalizeVNode:or},rd=ed,nd=null,id=null,od=null;/**
* @vue/runtime-dom v3.4.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const sd="http://www.w3.org/2000/svg",ad="http://www.w3.org/1998/Math/MathML",$r=typeof document<"u"?document:null,Na=$r&&$r.createElement("template"),ud={insert:(n,s,p)=>{s.insertBefore(n,p||null)},remove:n=>{const s=n.parentNode;s&&s.removeChild(n)},createElement:(n,s,p,a)=>{const f=s==="svg"?$r.createElementNS(sd,n):s==="mathml"?$r.createElementNS(ad,n):$r.createElement(n,p?{is:p}:void 0);return n==="select"&&a&&a.multiple!=null&&f.setAttribute("multiple",a.multiple),f},createText:n=>$r.createTextNode(n),createComment:n=>$r.createComment(n),setText:(n,s)=>{n.nodeValue=s},setElementText:(n,s)=>{n.textContent=s},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>$r.querySelector(n),setScopeId(n,s){n.setAttribute(s,"")},insertStaticContent(n,s,p,a,f,d){const i=p?p.previousSibling:s.lastChild;if(f&&(f===d||f.nextSibling))for(;s.insertBefore(f.cloneNode(!0),p),!(f===d||!(f=f.nextSibling)););else{Na.innerHTML=a==="svg"?`<svg>${n}</svg>`:a==="mathml"?`<math>${n}</math>`:n;const v=Na.content;if(a==="svg"||a==="mathml"){const g=v.firstChild;for(;g.firstChild;)v.appendChild(g.firstChild);v.removeChild(g)}s.insertBefore(v,p)}return[i?i.nextSibling:s.firstChild,p?p.previousSibling:s.lastChild]}},Vr="transition",ti="animation",Mn=Symbol("_vtc"),oa=(n,{slots:s})=>Co(rc,Hc(n),s);oa.displayName="Transition";const Bc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},cd=oa.props=ke({},ta,Bc),fn=(n,s=[])=>{Vt(n)?n.forEach(p=>p(...s)):n&&n(...s)},Da=n=>n?Vt(n)?n.some(s=>s.length>1):n.length>1:!1;function Hc(n){const s={};for(const ot in n)ot in Bc||(s[ot]=n[ot]);if(n.css===!1)return s;const{name:p="v",type:a,duration:f,enterFromClass:d=`${p}-enter-from`,enterActiveClass:i=`${p}-enter-active`,enterToClass:v=`${p}-enter-to`,appearFromClass:g=d,appearActiveClass:u=i,appearToClass:l=v,leaveFromClass:c=`${p}-leave-from`,leaveActiveClass:y=`${p}-leave-active`,leaveToClass:S=`${p}-leave-to`}=n,w=ld(f),R=w&&w[0],P=w&&w[1],{onBeforeEnter:C,onEnter:E,onEnterCancelled:k,onLeave:H,onLeaveCancelled:T,onBeforeAppear:I=C,onAppear:L=E,onAppearCancelled:X=k}=s,Q=(ot,ct,bt)=>{qr(ot,ct?l:v),qr(ot,ct?u:i),bt&&bt()},rt=(ot,ct)=>{ot._isLeaving=!1,qr(ot,c),qr(ot,S),qr(ot,y),ct&&ct()},M=ot=>(ct,bt)=>{const kt=ot?L:E,pt=()=>Q(ct,ot,bt);fn(kt,[ct,pt]),Ua(()=>{qr(ct,ot?g:d),Or(ct,ot?l:v),Da(kt)||ja(ct,a,R,pt)})};return ke(s,{onBeforeEnter(ot){fn(C,[ot]),Or(ot,d),Or(ot,i)},onBeforeAppear(ot){fn(I,[ot]),Or(ot,g),Or(ot,u)},onEnter:M(!1),onAppear:M(!0),onLeave(ot,ct){ot._isLeaving=!0;const bt=()=>rt(ot,ct);Or(ot,c),Kc(),Or(ot,y),Ua(()=>{ot._isLeaving&&(qr(ot,c),Or(ot,S),Da(H)||ja(ot,a,P,bt))}),fn(H,[ot,bt])},onEnterCancelled(ot){Q(ot,!1),fn(k,[ot])},onAppearCancelled(ot){Q(ot,!0),fn(X,[ot])},onLeaveCancelled(ot){rt(ot),fn(T,[ot])}})}function ld(n){if(n==null)return null;if(xe(n))return[Qo(n.enter),Qo(n.leave)];{const s=Qo(n);return[s,s]}}function Qo(n){return Zi(n)}function Or(n,s){s.split(/\s+/).forEach(p=>p&&n.classList.add(p)),(n[Mn]||(n[Mn]=new Set)).add(s)}function qr(n,s){s.split(/\s+/).forEach(a=>a&&n.classList.remove(a));const p=n[Mn];p&&(p.delete(s),p.size||(n[Mn]=void 0))}function Ua(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let fd=0;function ja(n,s,p,a){const f=n._endId=++fd,d=()=>{f===n._endId&&a()};if(p)return setTimeout(d,p);const{type:i,timeout:v,propCount:g}=Vc(n,s);if(!i)return a();const u=i+"end";let l=0;const c=()=>{n.removeEventListener(u,y),d()},y=S=>{S.target===n&&++l>=g&&c()};setTimeout(()=>{l<g&&c()},v+1),n.addEventListener(u,y)}function Vc(n,s){const p=window.getComputedStyle(n),a=w=>(p[w]||"").split(", "),f=a(`${Vr}Delay`),d=a(`${Vr}Duration`),i=Ma(f,d),v=a(`${ti}Delay`),g=a(`${ti}Duration`),u=Ma(v,g);let l=null,c=0,y=0;s===Vr?i>0&&(l=Vr,c=i,y=d.length):s===ti?u>0&&(l=ti,c=u,y=g.length):(c=Math.max(i,u),l=c>0?i>u?Vr:ti:null,y=l?l===Vr?d.length:g.length:0);const S=l===Vr&&/\b(transform|all)(,|$)/.test(a(`${Vr}Property`).toString());return{type:l,timeout:c,propCount:y,hasTransform:S}}function Ma(n,s){for(;n.length<s.length;)n=n.concat(n);return Math.max(...s.map((p,a)=>Ba(p)+Ba(n[a])))}function Ba(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function Kc(){return document.body.offsetHeight}function hd(n,s,p){const a=n[Mn];a&&(s=(s?[s,...a]:[...a]).join(" ")),s==null?n.removeAttribute("class"):p?n.setAttribute("class",s):n.className=s}const sa=Symbol("_vod"),qc={beforeMount(n,{value:s},{transition:p}){n[sa]=n.style.display==="none"?"":n.style.display,p&&s?p.beforeEnter(n):ei(n,s)},mounted(n,{value:s},{transition:p}){p&&s&&p.enter(n)},updated(n,{value:s,oldValue:p},{transition:a}){!s!=!p&&(a?s?(a.beforeEnter(n),ei(n,!0),a.enter(n)):a.leave(n,()=>{ei(n,!1)}):ei(n,s))},beforeUnmount(n,{value:s}){ei(n,s)}};function ei(n,s){n.style.display=s?n[sa]:"none"}function dd(){qc.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const Wc=Symbol("");function gd(n){const s=Mr();if(!s)return;const p=s.ut=(f=n(s.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${s.uid}"]`)).forEach(d=>xs(d,f))},a=()=>{const f=n(s.proxy);Fs(s.subTree,f),p(f)};Zu(a),Oi(()=>{const f=new MutationObserver(a);f.observe(s.subTree.el.parentNode,{childList:!0}),xo(()=>f.disconnect())})}function Fs(n,s){if(n.shapeFlag&128){const p=n.suspense;n=p.activeBranch,p.pendingBranch&&!p.isHydrating&&p.effects.push(()=>{Fs(p.activeBranch,s)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)xs(n.el,s);else if(n.type===je)n.children.forEach(p=>Fs(p,s));else if(n.type===yn){let{el:p,anchor:a}=n;for(;p&&(xs(p,s),p!==a);)p=p.nextSibling}}function xs(n,s){if(n.nodeType===1){const p=n.style;let a="";for(const f in s)p.setProperty(`--${f}`,s[f]),a+=`--${f}: ${s[f]};`;p[Wc]=a}}function pd(n,s,p){const a=n.style,f=a.display,d=Ce(p);if(p&&!d){if(s&&!Ce(s))for(const i in s)p[i]==null&&As(a,i,"");for(const i in p)As(a,i,p[i])}else if(d){if(s!==p){const i=a[Wc];i&&(p+=";"+i),a.cssText=p}}else s&&n.removeAttribute("style");sa in n&&(a.display=f)}const Ha=/\s*!important$/;function As(n,s,p){if(Vt(p))p.forEach(a=>As(n,s,a));else if(p==null&&(p=""),s.startsWith("--"))n.setProperty(s,p);else{const a=vd(n,s);Ha.test(p)?n.setProperty(sr(a),p.replace(Ha,""),"important"):n[a]=p}}const Va=["Webkit","Moz","ms"],Zo={};function vd(n,s){const p=Zo[s];if(p)return p;let a=Ge(s);if(a!=="filter"&&a in n)return Zo[s]=a;a=Pi(a);for(let f=0;f<Va.length;f++){const d=Va[f]+a;if(d in n)return Zo[s]=d}return s}const Ka="http://www.w3.org/1999/xlink";function md(n,s,p,a,f){if(a&&s.startsWith("xlink:"))p==null?n.removeAttributeNS(Ka,s.slice(6,s.length)):n.setAttributeNS(Ka,s,p);else{const d=Dl(s);p==null||d&&!bu(p)?n.removeAttribute(s):n.setAttribute(s,d?"":p)}}function yd(n,s,p,a,f,d,i){if(s==="innerHTML"||s==="textContent"){a&&i(a,f,d),n[s]=p??"";return}const v=n.tagName;if(s==="value"&&v!=="PROGRESS"&&!v.includes("-")){n._value=p;const u=v==="OPTION"?n.getAttribute("value"):n.value,l=p??"";u!==l&&(n.value=l),p==null&&n.removeAttribute(s);return}let g=!1;if(p===""||p==null){const u=typeof n[s];u==="boolean"?p=bu(p):p==null&&u==="string"?(p="",g=!0):u==="number"&&(p=0,g=!0)}try{n[s]=p}catch{}g&&n.removeAttribute(s)}function Lr(n,s,p,a){n.addEventListener(s,p,a)}function _d(n,s,p,a){n.removeEventListener(s,p,a)}const qa=Symbol("_vei");function bd(n,s,p,a,f=null){const d=n[qa]||(n[qa]={}),i=d[s];if(a&&i)i.value=a;else{const[v,g]=Sd(s);if(a){const u=d[s]=Fd(a,f);Lr(n,v,u,g)}else i&&(_d(n,v,i,g),d[s]=void 0)}}const Wa=/(?:Once|Passive|Capture)$/;function Sd(n){let s;if(Wa.test(n)){s={};let a;for(;a=n.match(Wa);)n=n.slice(0,n.length-a[0].length),s[a[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):sr(n.slice(2)),s]}let ts=0;const wd=Promise.resolve(),Ed=()=>ts||(wd.then(()=>ts=0),ts=Date.now());function Fd(n,s){const p=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=p.attached)return;ur(xd(a,p.value),s,5,[a])};return p.value=n,p.attached=Ed(),p}function xd(n,s){if(Vt(s)){const p=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{p.call(n),n._stopped=!0},s.map(a=>f=>!f._stopped&&a&&a(f))}else return s}const Ja=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Ad=(n,s,p,a,f,d,i,v,g)=>{const u=f==="svg";s==="class"?hd(n,a,u):s==="style"?pd(n,p,a):Ai(s)?Rs(s)||bd(n,s,p,a,i):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Pd(n,s,a,u))?yd(n,s,a,d,i,v,g):(s==="true-value"?n._trueValue=a:s==="false-value"&&(n._falseValue=a),md(n,s,a,u))};function Pd(n,s,p,a){if(a)return!!(s==="innerHTML"||s==="textContent"||s in n&&Ja(s)&&te(p));if(s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&n.tagName==="INPUT"||s==="type"&&n.tagName==="TEXTAREA")return!1;if(s==="width"||s==="height"){const f=n.tagName;if(f==="IMG"||f==="VIDEO"||f==="CANVAS"||f==="SOURCE")return!1}return Ja(s)&&Ce(p)?!1:s in n}/*! #__NO_SIDE_EFFECTS__ */function Jc(n,s){const p=Ur(n);class a extends To{constructor(d){super(p,d,s)}}return a.def=p,a}/*! #__NO_SIDE_EFFECTS__ */const kd=n=>Jc(n,il),Cd=typeof HTMLElement<"u"?HTMLElement:class{};class To extends Cd{constructor(s,p={},a){super(),this._def=s,this._props=p,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&a?a(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),mo(()=>{this._connected||(Ps(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let a=0;a<this.attributes.length;a++)this._setAttr(this.attributes[a].name);this._ob=new MutationObserver(a=>{for(const f of a)this._setAttr(f.attributeName)}),this._ob.observe(this,{attributes:!0});const s=(a,f=!1)=>{const{props:d,styles:i}=a;let v;if(d&&!Vt(d))for(const g in d){const u=d[g];(u===Number||u&&u.type===Number)&&(g in this._props&&(this._props[g]=Zi(this._props[g])),(v||(v=Object.create(null)))[Ge(g)]=!0)}this._numberProps=v,f&&this._resolveProps(a),this._applyStyles(i),this._update()},p=this._def.__asyncLoader;p?p().then(a=>s(a,!0)):s(this._def)}_resolveProps(s){const{props:p}=s,a=Vt(p)?p:Object.keys(p||{});for(const f of Object.keys(this))f[0]!=="_"&&a.includes(f)&&this._setProp(f,this[f],!0,!1);for(const f of a.map(Ge))Object.defineProperty(this,f,{get(){return this._getProp(f)},set(d){this._setProp(f,d)}})}_setAttr(s){let p=this.getAttribute(s);const a=Ge(s);this._numberProps&&this._numberProps[a]&&(p=Zi(p)),this._setProp(a,p,!1)}_getProp(s){return this._props[s]}_setProp(s,p,a=!0,f=!0){p!==this._props[s]&&(this._props[s]=p,f&&this._instance&&this._update(),a&&(p===!0?this.setAttribute(sr(s),""):typeof p=="string"||typeof p=="number"?this.setAttribute(sr(s),p+""):p||this.removeAttribute(sr(s))))}_update(){Ps(this._createVNode(),this.shadowRoot)}_createVNode(){const s=se(this._def,ke({},this._props));return this._instance||(s.ce=p=>{this._instance=p,p.isCE=!0;const a=(d,i)=>{this.dispatchEvent(new CustomEvent(d,{detail:i}))};p.emit=(d,...i)=>{a(d,i),sr(d)!==d&&a(sr(d),i)};let f=this;for(;f=f&&(f.parentNode||f.host);)if(f instanceof To){p.parent=f._instance,p.provides=f._instance.provides;break}}),s}_applyStyles(s){s&&s.forEach(p=>{const a=document.createElement("style");a.textContent=p,this.shadowRoot.appendChild(a)})}}function Td(n="$style"){{const s=Mr();if(!s)return Fe;const p=s.type.__cssModules;if(!p)return Fe;const a=p[n];return a||Fe}}const zc=new WeakMap,$c=new WeakMap,ao=Symbol("_moveCb"),za=Symbol("_enterCb"),Gc={name:"TransitionGroup",props:ke({},cd,{tag:String,moveClass:String}),setup(n,{slots:s}){const p=Mr(),a=Zs();let f,d;return Eo(()=>{if(!f.length)return;const i=n.moveClass||`${n.name||"v"}-move`;if(!Dd(f[0].el,p.vnode.el,i))return;f.forEach(Od),f.forEach(Ld);const v=f.filter(Nd);Kc(),v.forEach(g=>{const u=g.el,l=u.style;Or(u,i),l.transform=l.webkitTransform=l.transitionDuration="";const c=u[ao]=y=>{y&&y.target!==u||(!y||/transform$/.test(y.propertyName))&&(u.removeEventListener("transitionend",c),u[ao]=null,qr(u,i))};u.addEventListener("transitionend",c)})}),()=>{const i=de(n),v=Hc(i);let g=i.tag||je;f=d,d=s.default?So(s.default()):[];for(let u=0;u<d.length;u++){const l=d[u];l.key!=null&&bn(l,jn(l,v,a,p))}if(f)for(let u=0;u<f.length;u++){const l=f[u];bn(l,jn(l,v,a,p)),zc.set(l,l.el.getBoundingClientRect())}return se(g,null,d)}}},Rd=n=>delete n.mode;Gc.props;const Id=Gc;function Od(n){const s=n.el;s[ao]&&s[ao](),s[za]&&s[za]()}function Ld(n){$c.set(n,n.el.getBoundingClientRect())}function Nd(n){const s=zc.get(n),p=$c.get(n),a=s.left-p.left,f=s.top-p.top;if(a||f){const d=n.el.style;return d.transform=d.webkitTransform=`translate(${a}px,${f}px)`,d.transitionDuration="0s",n}}function Dd(n,s,p){const a=n.cloneNode(),f=n[Mn];f&&f.forEach(v=>{v.split(/\s+/).forEach(g=>g&&a.classList.remove(g))}),p.split(/\s+/).forEach(v=>v&&a.classList.add(v)),a.style.display="none";const d=s.nodeType===1?s:s.parentNode;d.appendChild(a);const{hasTransform:i}=Vc(a);return d.removeChild(a),i}const tn=n=>{const s=n.props["onUpdate:modelValue"]||!1;return Vt(s)?p=>In(s,p):s};function Ud(n){n.target.composing=!0}function $a(n){const s=n.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const fr=Symbol("_assign"),uo={created(n,{modifiers:{lazy:s,trim:p,number:a}},f){n[fr]=tn(f);const d=a||f.props&&f.props.type==="number";Lr(n,s?"change":"input",i=>{if(i.target.composing)return;let v=n.value;p&&(v=v.trim()),d&&(v=Qi(v)),n[fr](v)}),p&&Lr(n,"change",()=>{n.value=n.value.trim()}),s||(Lr(n,"compositionstart",Ud),Lr(n,"compositionend",$a),Lr(n,"change",$a))},mounted(n,{value:s}){n.value=s??""},beforeUpdate(n,{value:s,modifiers:{lazy:p,trim:a,number:f}},d){if(n[fr]=tn(d),n.composing)return;const i=f||n.type==="number"?Qi(n.value):n.value,v=s??"";i!==v&&(document.activeElement===n&&n.type!=="range"&&(p||a&&n.value.trim()===v)||(n.value=v))}},aa={deep:!0,created(n,s,p){n[fr]=tn(p),Lr(n,"change",()=>{const a=n._modelValue,f=Bn(n),d=n.checked,i=n[fr];if(Vt(a)){const v=ho(a,f),g=v!==-1;if(d&&!g)i(a.concat(f));else if(!d&&g){const u=[...a];u.splice(v,1),i(u)}}else if(Fn(a)){const v=new Set(a);d?v.add(f):v.delete(f),i(v)}else i(Xc(n,d))})},mounted:Ga,beforeUpdate(n,s,p){n[fr]=tn(p),Ga(n,s,p)}};function Ga(n,{value:s,oldValue:p},a){n._modelValue=s,Vt(s)?n.checked=ho(s,a.props.value)>-1:Fn(s)?n.checked=s.has(a.props.value):s!==p&&(n.checked=Qr(s,Xc(n,!0)))}const ua={created(n,{value:s},p){n.checked=Qr(s,p.props.value),n[fr]=tn(p),Lr(n,"change",()=>{n[fr](Bn(n))})},beforeUpdate(n,{value:s,oldValue:p},a){n[fr]=tn(a),s!==p&&(n.checked=Qr(s,a.props.value))}},Yc={deep:!0,created(n,{value:s,modifiers:{number:p}},a){const f=Fn(s);Lr(n,"change",()=>{const d=Array.prototype.filter.call(n.options,i=>i.selected).map(i=>p?Qi(Bn(i)):Bn(i));n[fr](n.multiple?f?new Set(d):d:d[0])}),n[fr]=tn(a)},mounted(n,{value:s}){Ya(n,s)},beforeUpdate(n,s,p){n[fr]=tn(p)},updated(n,{value:s}){Ya(n,s)}};function Ya(n,s){const p=n.multiple;if(!(p&&!Vt(s)&&!Fn(s))){for(let a=0,f=n.options.length;a<f;a++){const d=n.options[a],i=Bn(d);if(p)Vt(s)?d.selected=ho(s,i)>-1:d.selected=s.has(i);else if(Qr(Bn(d),s)){n.selectedIndex!==a&&(n.selectedIndex=a);return}}!p&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Bn(n){return"_value"in n?n._value:n.value}function Xc(n,s){const p=s?"_trueValue":"_falseValue";return p in n?n[p]:s}const Qc={created(n,s,p){Ji(n,s,p,null,"created")},mounted(n,s,p){Ji(n,s,p,null,"mounted")},beforeUpdate(n,s,p,a){Ji(n,s,p,a,"beforeUpdate")},updated(n,s,p,a){Ji(n,s,p,a,"updated")}};function Zc(n,s){switch(n){case"SELECT":return Yc;case"TEXTAREA":return uo;default:switch(s){case"checkbox":return aa;case"radio":return ua;default:return uo}}}function Ji(n,s,p,a,f){const i=Zc(n.tagName,p.props&&p.props.type)[f];i&&i(n,s,p,a)}function jd(){uo.getSSRProps=({value:n})=>({value:n}),ua.getSSRProps=({value:n},s)=>{if(s.props&&Qr(s.props.value,n))return{checked:!0}},aa.getSSRProps=({value:n},s)=>{if(Vt(n)){if(s.props&&ho(n,s.props.value)>-1)return{checked:!0}}else if(Fn(n)){if(s.props&&n.has(s.props.value))return{checked:!0}}else if(n)return{checked:!0}},Qc.getSSRProps=(n,s)=>{if(typeof s.type!="string")return;const p=Zc(s.type.toUpperCase(),s.props&&s.props.type);if(p.getSSRProps)return p.getSSRProps(n,s)}}const Md=["ctrl","shift","alt","meta"],Bd={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,s)=>Md.some(p=>n[`${p}Key`]&&!s.includes(p))},tl=(n,s)=>{const p=n._withMods||(n._withMods={}),a=s.join(".");return p[a]||(p[a]=(f,...d)=>{for(let i=0;i<s.length;i++){const v=Bd[s[i]];if(v&&v(f,s))return}return n(f,...d)})},Hd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Vd=(n,s)=>{const p=n._withKeys||(n._withKeys={}),a=s.join(".");return p[a]||(p[a]=f=>{if(!("key"in f))return;const d=sr(f.key);if(s.some(i=>i===d||Hd[i]===d))return n(f)})},el=ke({patchProp:Ad},ud);let di,Xa=!1;function rl(){return di||(di=wc(el))}function nl(){return di=Xa?di:Ec(el),Xa=!0,di}const Ps=(...n)=>{rl().render(...n)},il=(...n)=>{nl().hydrate(...n)},ol=(...n)=>{const s=rl().createApp(...n),{mount:p}=s;return s.mount=a=>{const f=al(a);if(!f)return;const d=s._component;!te(d)&&!d.render&&!d.template&&(d.template=f.innerHTML),f.innerHTML="";const i=p(f,!1,sl(f));return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),i},s},Kd=(...n)=>{const s=nl().createApp(...n),{mount:p}=s;return s.mount=a=>{const f=al(a);if(f)return p(f,!0,sl(f))},s};function sl(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function al(n){return Ce(n)?document.querySelector(n):n}let Qa=!1;const qd=()=>{Qa||(Qa=!0,jd(),dd())};/**
* vue v3.4.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Wd=()=>{},Jd=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:rc,BaseTransitionPropsValidators:ta,Comment:Ke,DeprecationTypes:od,EffectScope:Ns,ErrorCodes:Ef,ErrorTypeStrings:Qh,Fragment:je,KeepAlive:Qf,ReactiveEffect:Un,Static:yn,Suspense:Bf,Teleport:Uh,Text:Sn,TrackOpTypes:bf,Transition:oa,TransitionGroup:Id,TriggerOpTypes:Sf,VueElement:To,assertNumber:wf,callWithAsyncErrorHandling:ur,callWithErrorHandling:Dr,camelize:Ge,capitalize:Pi,cloneVNode:Ar,compatUtils:id,compile:Wd,computed:lr,createApp:ol,createBlock:Ao,createCommentVNode:ys,createElementBlock:hr,createElementVNode:fe,createHydrationRenderer:Ec,createPropsRestProxy:ph,createRenderer:wc,createSSRApp:Kd,createSlots:eh,createStaticVNode:Bh,createTextVNode:ce,createVNode:se,customRef:Hu,defineAsyncComponent:Yf,defineComponent:Ur,defineCustomElement:Jc,defineEmits:oh,defineExpose:sh,defineModel:ch,defineOptions:ah,defineProps:ih,defineSSRCustomElement:kd,defineSlots:uh,devtools:Zh,effect:Hl,effectScope:jl,getCurrentInstance:Mr,getCurrentScope:Fu,getTransitionRawChildren:So,guardReactiveProps:Rc,h:Co,handleError:Pn,hasInjectionContext:Fh,hydrate:il,initCustomFormatter:Gh,initDirectivesForSSR:qd,inject:xr,isMemoSame:jc,isProxy:Hs,isReactive:vn,isReadonly:_n,isRef:He,isRuntimeOnly:Wh,isShallow:vi,isVNode:Zr,markRaw:Vs,mergeDefaults:dh,mergeModels:gh,mergeProps:Ic,nextTick:mo,normalizeClass:Ci,normalizeProps:Ll,normalizeStyle:ki,onActivated:ic,onBeforeMount:ac,onBeforeUnmount:Fo,onBeforeUpdate:uc,onDeactivated:oc,onErrorCaptured:hc,onMounted:Oi,onRenderTracked:fc,onRenderTriggered:lc,onScopeDispose:Ml,onServerPrefetch:cc,onUnmounted:xo,onUpdated:Eo,openBlock:qe,popScopeId:$s,provide:li,proxyRefs:Ws,pushScopeId:zs,queuePostFlushCb:eo,reactive:Ti,readonly:Bs,ref:On,registerRuntimeCompiler:qh,render:Ps,renderList:th,renderSlot:Gi,resolveComponent:Df,resolveDirective:jf,resolveDynamicComponent:Uf,resolveFilter:nd,resolveTransitionHooks:jn,setBlockTracking:ms,setDevtoolsHook:td,setTransitionHooks:bn,shallowReactive:Ms,shallowReadonly:cf,shallowRef:Mu,ssrContextKey:Xu,ssrUtils:rd,stop:Vl,toDisplayString:Su,toHandlerKey:ui,toHandlers:rh,toRaw:de,toRef:_f,toRefs:vf,toValue:df,transformVNodeArgs:jh,triggerRef:hf,unref:ar,useAttrs:hh,useCssModule:Td,useCssVars:gd,useModel:$h,useSSRContext:Qu,useSlots:fh,useTransitionState:Zs,vModelCheckbox:aa,vModelDynamic:Qc,vModelRadio:ua,vModelSelect:Yc,vModelText:uo,vShow:qc,version:Mc,warn:Xh,watch:Dn,watchEffect:Jf,watchPostEffect:Zu,watchSyncEffect:tc,withAsyncContext:vh,withCtx:Ie,withDefaults:lh,withDirectives:$f,withKeys:Vd,withMemo:Yh,withModifiers:tl,withScopeId:Tf},Symbol.toStringTag,{value:"Module"})),zd="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20261.76%20226.69'%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H-.005l130.877%20226.688L261.749.001z'%20fill='%2341b883'/%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H52.346l78.526%20136.01L209.398.001z'%20fill='%2334495e'/%3e%3c/svg%3e";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Cn=typeof window<"u";function $d(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const Ee=Object.assign;function es(n,s){const p={};for(const a in s){const f=s[a];p[a]=wr(f)?f.map(n):n(f)}return p}const gi=()=>{},wr=Array.isArray,Gd=/\/$/,Yd=n=>n.replace(Gd,"");function rs(n,s,p="/"){let a,f={},d="",i="";const v=s.indexOf("#");let g=s.indexOf("?");return v<g&&v>=0&&(g=-1),g>-1&&(a=s.slice(0,g),d=s.slice(g+1,v>-1?v:s.length),f=n(d)),v>-1&&(a=a||s.slice(0,v),i=s.slice(v,s.length)),a=tg(a??s,p),{fullPath:a+(d&&"?")+d+i,path:a,query:f,hash:i}}function Xd(n,s){const p=s.query?n(s.query):"";return s.path+(p&&"?")+p+(s.hash||"")}function Za(n,s){return!s||!n.toLowerCase().startsWith(s.toLowerCase())?n:n.slice(s.length)||"/"}function Qd(n,s,p){const a=s.matched.length-1,f=p.matched.length-1;return a>-1&&a===f&&Hn(s.matched[a],p.matched[f])&&ul(s.params,p.params)&&n(s.query)===n(p.query)&&s.hash===p.hash}function Hn(n,s){return(n.aliasOf||n)===(s.aliasOf||s)}function ul(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const p in n)if(!Zd(n[p],s[p]))return!1;return!0}function Zd(n,s){return wr(n)?tu(n,s):wr(s)?tu(s,n):n===s}function tu(n,s){return wr(s)?n.length===s.length&&n.every((p,a)=>p===s[a]):n.length===1&&n[0]===s}function tg(n,s){if(n.startsWith("/"))return n;if(!n)return s;const p=s.split("/"),a=n.split("/"),f=a[a.length-1];(f===".."||f===".")&&a.push("");let d=p.length-1,i,v;for(i=0;i<a.length;i++)if(v=a[i],v!==".")if(v==="..")d>1&&d--;else break;return p.slice(0,d).join("/")+"/"+a.slice(i-(i===a.length?1:0)).join("/")}var xi;(function(n){n.pop="pop",n.push="push"})(xi||(xi={}));var pi;(function(n){n.back="back",n.forward="forward",n.unknown=""})(pi||(pi={}));function eg(n){if(!n)if(Cn){const s=document.querySelector("base");n=s&&s.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Yd(n)}const rg=/^[^#]+#/;function ng(n,s){return n.replace(rg,"#")+s}function ig(n,s){const p=document.documentElement.getBoundingClientRect(),a=n.getBoundingClientRect();return{behavior:s.behavior,left:a.left-p.left-(s.left||0),top:a.top-p.top-(s.top||0)}}const Ro=()=>({left:window.pageXOffset,top:window.pageYOffset});function og(n){let s;if("el"in n){const p=n.el,a=typeof p=="string"&&p.startsWith("#"),f=typeof p=="string"?a?document.getElementById(p.slice(1)):document.querySelector(p):p;if(!f)return;s=ig(f,n)}else s=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(s):window.scrollTo(s.left!=null?s.left:window.pageXOffset,s.top!=null?s.top:window.pageYOffset)}function eu(n,s){return(history.state?history.state.position-s:-1)+n}const ks=new Map;function sg(n,s){ks.set(n,s)}function ag(n){const s=ks.get(n);return ks.delete(n),s}let ug=()=>location.protocol+"//"+location.host;function cl(n,s){const{pathname:p,search:a,hash:f}=s,d=n.indexOf("#");if(d>-1){let v=f.includes(n.slice(d))?n.slice(d).length:1,g=f.slice(v);return g[0]!=="/"&&(g="/"+g),Za(g,"")}return Za(p,n)+a+f}function cg(n,s,p,a){let f=[],d=[],i=null;const v=({state:y})=>{const S=cl(n,location),w=p.value,R=s.value;let P=0;if(y){if(p.value=S,s.value=y,i&&i===w){i=null;return}P=R?y.position-R.position:0}else a(S);f.forEach(C=>{C(p.value,w,{delta:P,type:xi.pop,direction:P?P>0?pi.forward:pi.back:pi.unknown})})};function g(){i=p.value}function u(y){f.push(y);const S=()=>{const w=f.indexOf(y);w>-1&&f.splice(w,1)};return d.push(S),S}function l(){const{history:y}=window;y.state&&y.replaceState(Ee({},y.state,{scroll:Ro()}),"")}function c(){for(const y of d)y();d=[],window.removeEventListener("popstate",v),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",v),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:g,listen:u,destroy:c}}function ru(n,s,p,a=!1,f=!1){return{back:n,current:s,forward:p,replaced:a,position:window.history.length,scroll:f?Ro():null}}function lg(n){const{history:s,location:p}=window,a={value:cl(n,p)},f={value:s.state};f.value||d(a.value,{back:null,current:a.value,forward:null,position:s.length-1,replaced:!0,scroll:null},!0);function d(g,u,l){const c=n.indexOf("#"),y=c>-1?(p.host&&document.querySelector("base")?n:n.slice(c))+g:ug()+n+g;try{s[l?"replaceState":"pushState"](u,"",y),f.value=u}catch(S){console.error(S),p[l?"replace":"assign"](y)}}function i(g,u){const l=Ee({},s.state,ru(f.value.back,g,f.value.forward,!0),u,{position:f.value.position});d(g,l,!0),a.value=g}function v(g,u){const l=Ee({},f.value,s.state,{forward:g,scroll:Ro()});d(l.current,l,!0);const c=Ee({},ru(a.value,g,null),{position:l.position+1},u);d(g,c,!1),a.value=g}return{location:a,state:f,push:v,replace:i}}function fg(n){n=eg(n);const s=lg(n),p=cg(n,s.state,s.location,s.replace);function a(d,i=!0){i||p.pauseListeners(),history.go(d)}const f=Ee({location:"",base:n,go:a,createHref:ng.bind(null,n)},s,p);return Object.defineProperty(f,"location",{enumerable:!0,get:()=>s.location.value}),Object.defineProperty(f,"state",{enumerable:!0,get:()=>s.state.value}),f}function hg(n){return typeof n=="string"||n&&typeof n=="object"}function ll(n){return typeof n=="string"||typeof n=="symbol"}const Kr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},fl=Symbol("");var nu;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(nu||(nu={}));function Vn(n,s){return Ee(new Error,{type:n,[fl]:!0},s)}function Ir(n,s){return n instanceof Error&&fl in n&&(s==null||!!(n.type&s))}const iu="[^/]+?",dg={sensitive:!1,strict:!1,start:!0,end:!0},gg=/[.+*?^${}()[\]/\\]/g;function pg(n,s){const p=Ee({},dg,s),a=[];let f=p.start?"^":"";const d=[];for(const u of n){const l=u.length?[]:[90];p.strict&&!u.length&&(f+="/");for(let c=0;c<u.length;c++){const y=u[c];let S=40+(p.sensitive?.25:0);if(y.type===0)c||(f+="/"),f+=y.value.replace(gg,"\\$&"),S+=40;else if(y.type===1){const{value:w,repeatable:R,optional:P,regexp:C}=y;d.push({name:w,repeatable:R,optional:P});const E=C||iu;if(E!==iu){S+=10;try{new RegExp(`(${E})`)}catch(H){throw new Error(`Invalid custom RegExp for param "${w}" (${E}): `+H.message)}}let k=R?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;c||(k=P&&u.length<2?`(?:/${k})`:"/"+k),P&&(k+="?"),f+=k,S+=20,P&&(S+=-8),R&&(S+=-20),E===".*"&&(S+=-50)}l.push(S)}a.push(l)}if(p.strict&&p.end){const u=a.length-1;a[u][a[u].length-1]+=.7000000000000001}p.strict||(f+="/?"),p.end?f+="$":p.strict&&(f+="(?:/|$)");const i=new RegExp(f,p.sensitive?"":"i");function v(u){const l=u.match(i),c={};if(!l)return null;for(let y=1;y<l.length;y++){const S=l[y]||"",w=d[y-1];c[w.name]=S&&w.repeatable?S.split("/"):S}return c}function g(u){let l="",c=!1;for(const y of n){(!c||!l.endsWith("/"))&&(l+="/"),c=!1;for(const S of y)if(S.type===0)l+=S.value;else if(S.type===1){const{value:w,repeatable:R,optional:P}=S,C=w in u?u[w]:"";if(wr(C)&&!R)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const E=wr(C)?C.join("/"):C;if(!E)if(P)y.length<2&&(l.endsWith("/")?l=l.slice(0,-1):c=!0);else throw new Error(`Missing required param "${w}"`);l+=E}}return l||"/"}return{re:i,score:a,keys:d,parse:v,stringify:g}}function vg(n,s){let p=0;for(;p<n.length&&p<s.length;){const a=s[p]-n[p];if(a)return a;p++}return n.length<s.length?n.length===1&&n[0]===80?-1:1:n.length>s.length?s.length===1&&s[0]===80?1:-1:0}function mg(n,s){let p=0;const a=n.score,f=s.score;for(;p<a.length&&p<f.length;){const d=vg(a[p],f[p]);if(d)return d;p++}if(Math.abs(f.length-a.length)===1){if(ou(a))return 1;if(ou(f))return-1}return f.length-a.length}function ou(n){const s=n[n.length-1];return n.length>0&&s[s.length-1]<0}const yg={type:0,value:""},_g=/[a-zA-Z0-9_]/;function bg(n){if(!n)return[[]];if(n==="/")return[[yg]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function s(S){throw new Error(`ERR (${p})/"${u}": ${S}`)}let p=0,a=p;const f=[];let d;function i(){d&&f.push(d),d=[]}let v=0,g,u="",l="";function c(){u&&(p===0?d.push({type:0,value:u}):p===1||p===2||p===3?(d.length>1&&(g==="*"||g==="+")&&s(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:u,regexp:l,repeatable:g==="*"||g==="+",optional:g==="*"||g==="?"})):s("Invalid state to consume buffer"),u="")}function y(){u+=g}for(;v<n.length;){if(g=n[v++],g==="\\"&&p!==2){a=p,p=4;continue}switch(p){case 0:g==="/"?(u&&c(),i()):g===":"?(c(),p=1):y();break;case 4:y(),p=a;break;case 1:g==="("?p=2:_g.test(g)?y():(c(),p=0,g!=="*"&&g!=="?"&&g!=="+"&&v--);break;case 2:g===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+g:p=3:l+=g;break;case 3:c(),p=0,g!=="*"&&g!=="?"&&g!=="+"&&v--,l="";break;default:s("Unknown state");break}}return p===2&&s(`Unfinished custom RegExp for param "${u}"`),c(),i(),f}function Sg(n,s,p){const a=pg(bg(n.path),p),f=Ee(a,{record:n,parent:s,children:[],alias:[]});return s&&!f.record.aliasOf==!s.record.aliasOf&&s.children.push(f),f}function wg(n,s){const p=[],a=new Map;s=uu({strict:!1,end:!0,sensitive:!1},s);function f(l){return a.get(l)}function d(l,c,y){const S=!y,w=Eg(l);w.aliasOf=y&&y.record;const R=uu(s,l),P=[w];if("alias"in l){const k=typeof l.alias=="string"?[l.alias]:l.alias;for(const H of k)P.push(Ee({},w,{components:y?y.record.components:w.components,path:H,aliasOf:y?y.record:w}))}let C,E;for(const k of P){const{path:H}=k;if(c&&H[0]!=="/"){const T=c.record.path,I=T[T.length-1]==="/"?"":"/";k.path=c.record.path+(H&&I+H)}if(C=Sg(k,c,R),y?y.alias.push(C):(E=E||C,E!==C&&E.alias.push(C),S&&l.name&&!au(C)&&i(l.name)),w.children){const T=w.children;for(let I=0;I<T.length;I++)d(T[I],C,y&&y.children[I])}y=y||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&g(C)}return E?()=>{i(E)}:gi}function i(l){if(ll(l)){const c=a.get(l);c&&(a.delete(l),p.splice(p.indexOf(c),1),c.children.forEach(i),c.alias.forEach(i))}else{const c=p.indexOf(l);c>-1&&(p.splice(c,1),l.record.name&&a.delete(l.record.name),l.children.forEach(i),l.alias.forEach(i))}}function v(){return p}function g(l){let c=0;for(;c<p.length&&mg(l,p[c])>=0&&(l.record.path!==p[c].record.path||!hl(l,p[c]));)c++;p.splice(c,0,l),l.record.name&&!au(l)&&a.set(l.record.name,l)}function u(l,c){let y,S={},w,R;if("name"in l&&l.name){if(y=a.get(l.name),!y)throw Vn(1,{location:l});R=y.record.name,S=Ee(su(c.params,y.keys.filter(E=>!E.optional).map(E=>E.name)),l.params&&su(l.params,y.keys.map(E=>E.name))),w=y.stringify(S)}else if("path"in l)w=l.path,y=p.find(E=>E.re.test(w)),y&&(S=y.parse(w),R=y.record.name);else{if(y=c.name?a.get(c.name):p.find(E=>E.re.test(c.path)),!y)throw Vn(1,{location:l,currentLocation:c});R=y.record.name,S=Ee({},c.params,l.params),w=y.stringify(S)}const P=[];let C=y;for(;C;)P.unshift(C.record),C=C.parent;return{name:R,path:w,params:S,matched:P,meta:xg(P)}}return n.forEach(l=>d(l)),{addRoute:d,resolve:u,removeRoute:i,getRoutes:v,getRecordMatcher:f}}function su(n,s){const p={};for(const a of s)a in n&&(p[a]=n[a]);return p}function Eg(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:Fg(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function Fg(n){const s={},p=n.props||!1;if("component"in n)s.default=p;else for(const a in n.components)s[a]=typeof p=="object"?p[a]:p;return s}function au(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function xg(n){return n.reduce((s,p)=>Ee(s,p.meta),{})}function uu(n,s){const p={};for(const a in n)p[a]=a in s?s[a]:n[a];return p}function hl(n,s){return s.children.some(p=>p===n||hl(n,p))}const dl=/#/g,Ag=/&/g,Pg=/\//g,kg=/=/g,Cg=/\?/g,gl=/\+/g,Tg=/%5B/g,Rg=/%5D/g,pl=/%5E/g,Ig=/%60/g,vl=/%7B/g,Og=/%7C/g,ml=/%7D/g,Lg=/%20/g;function ca(n){return encodeURI(""+n).replace(Og,"|").replace(Tg,"[").replace(Rg,"]")}function Ng(n){return ca(n).replace(vl,"{").replace(ml,"}").replace(pl,"^")}function Cs(n){return ca(n).replace(gl,"%2B").replace(Lg,"+").replace(dl,"%23").replace(Ag,"%26").replace(Ig,"`").replace(vl,"{").replace(ml,"}").replace(pl,"^")}function Dg(n){return Cs(n).replace(kg,"%3D")}function Ug(n){return ca(n).replace(dl,"%23").replace(Cg,"%3F")}function jg(n){return n==null?"":Ug(n).replace(Pg,"%2F")}function co(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function Mg(n){const s={};if(n===""||n==="?")return s;const a=(n[0]==="?"?n.slice(1):n).split("&");for(let f=0;f<a.length;++f){const d=a[f].replace(gl," "),i=d.indexOf("="),v=co(i<0?d:d.slice(0,i)),g=i<0?null:co(d.slice(i+1));if(v in s){let u=s[v];wr(u)||(u=s[v]=[u]),u.push(g)}else s[v]=g}return s}function cu(n){let s="";for(let p in n){const a=n[p];if(p=Dg(p),a==null){a!==void 0&&(s+=(s.length?"&":"")+p);continue}(wr(a)?a.map(d=>d&&Cs(d)):[a&&Cs(a)]).forEach(d=>{d!==void 0&&(s+=(s.length?"&":"")+p,d!=null&&(s+="="+d))})}return s}function Bg(n){const s={};for(const p in n){const a=n[p];a!==void 0&&(s[p]=wr(a)?a.map(f=>f==null?null:""+f):a==null?a:""+a)}return s}const Hg=Symbol(""),lu=Symbol(""),la=Symbol(""),yl=Symbol(""),Ts=Symbol("");function ri(){let n=[];function s(a){return n.push(a),()=>{const f=n.indexOf(a);f>-1&&n.splice(f,1)}}function p(){n=[]}return{add:s,list:()=>n.slice(),reset:p}}function Gr(n,s,p,a,f){const d=a&&(a.enterCallbacks[f]=a.enterCallbacks[f]||[]);return()=>new Promise((i,v)=>{const g=c=>{c===!1?v(Vn(4,{from:p,to:s})):c instanceof Error?v(c):hg(c)?v(Vn(2,{from:s,to:c})):(d&&a.enterCallbacks[f]===d&&typeof c=="function"&&d.push(c),i())},u=n.call(a&&a.instances[f],s,p,g);let l=Promise.resolve(u);n.length<3&&(l=l.then(g)),l.catch(c=>v(c))})}function ns(n,s,p,a){const f=[];for(const d of n)for(const i in d.components){let v=d.components[i];if(!(s!=="beforeRouteEnter"&&!d.instances[i]))if(Vg(v)){const u=(v.__vccOpts||v)[s];u&&f.push(Gr(u,p,a,d,i))}else{let g=v();f.push(()=>g.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${d.path}"`));const l=$d(u)?u.default:u;d.components[i]=l;const y=(l.__vccOpts||l)[s];return y&&Gr(y,p,a,d,i)()}))}}return f}function Vg(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function fu(n){const s=xr(la),p=xr(yl),a=lr(()=>s.resolve(ar(n.to))),f=lr(()=>{const{matched:g}=a.value,{length:u}=g,l=g[u-1],c=p.matched;if(!l||!c.length)return-1;const y=c.findIndex(Hn.bind(null,l));if(y>-1)return y;const S=hu(g[u-2]);return u>1&&hu(l)===S&&c[c.length-1].path!==S?c.findIndex(Hn.bind(null,g[u-2])):y}),d=lr(()=>f.value>-1&&Wg(p.params,a.value.params)),i=lr(()=>f.value>-1&&f.value===p.matched.length-1&&ul(p.params,a.value.params));function v(g={}){return qg(g)?s[ar(n.replace)?"replace":"push"](ar(n.to)).catch(gi):Promise.resolve()}return{route:a,href:lr(()=>a.value.href),isActive:d,isExactActive:i,navigate:v}}const Kg=Ur({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fu,setup(n,{slots:s}){const p=Ti(fu(n)),{options:a}=xr(la),f=lr(()=>({[du(n.activeClass,a.linkActiveClass,"router-link-active")]:p.isActive,[du(n.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:p.isExactActive}));return()=>{const d=s.default&&s.default(p);return n.custom?d:Co("a",{"aria-current":p.isExactActive?n.ariaCurrentValue:null,href:p.href,onClick:p.navigate,class:f.value},d)}}}),si=Kg;function qg(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const s=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(s))return}return n.preventDefault&&n.preventDefault(),!0}}function Wg(n,s){for(const p in s){const a=s[p],f=n[p];if(typeof a=="string"){if(a!==f)return!1}else if(!wr(f)||f.length!==a.length||a.some((d,i)=>d!==f[i]))return!1}return!0}function hu(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const du=(n,s,p)=>n??s??p,Jg=Ur({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:s,slots:p}){const a=xr(Ts),f=lr(()=>n.route||a.value),d=xr(lu,0),i=lr(()=>{let u=ar(d);const{matched:l}=f.value;let c;for(;(c=l[u])&&!c.components;)u++;return u}),v=lr(()=>f.value.matched[i.value]);li(lu,lr(()=>i.value+1)),li(Hg,v),li(Ts,f);const g=On();return Dn(()=>[g.value,v.value,n.name],([u,l,c],[y,S,w])=>{l&&(l.instances[c]=u,S&&S!==l&&u&&u===y&&(l.leaveGuards.size||(l.leaveGuards=S.leaveGuards),l.updateGuards.size||(l.updateGuards=S.updateGuards))),u&&l&&(!S||!Hn(l,S)||!y)&&(l.enterCallbacks[c]||[]).forEach(R=>R(u))},{flush:"post"}),()=>{const u=f.value,l=n.name,c=v.value,y=c&&c.components[l];if(!y)return gu(p.default,{Component:y,route:u});const S=c.props[l],w=S?S===!0?u.params:typeof S=="function"?S(u):S:null,P=Co(y,Ee({},w,s,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(c.instances[l]=null)},ref:g}));return gu(p.default,{Component:P,route:u})||P}}});function gu(n,s){if(!n)return null;const p=n(s);return p.length===1?p[0]:p}const _l=Jg;function zg(n){const s=wg(n.routes,n),p=n.parseQuery||Mg,a=n.stringifyQuery||cu,f=n.history,d=ri(),i=ri(),v=ri(),g=Mu(Kr);let u=Kr;Cn&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=es.bind(null,lt=>""+lt),c=es.bind(null,jg),y=es.bind(null,co);function S(lt,Et){let St,Rt;return ll(lt)?(St=s.getRecordMatcher(lt),Rt=Et):Rt=lt,s.addRoute(Rt,St)}function w(lt){const Et=s.getRecordMatcher(lt);Et&&s.removeRoute(Et)}function R(){return s.getRoutes().map(lt=>lt.record)}function P(lt){return!!s.getRecordMatcher(lt)}function C(lt,Et){if(Et=Ee({},Et||g.value),typeof lt=="string"){const A=rs(p,lt,Et.path),D=s.resolve({path:A.path},Et),$=f.createHref(A.fullPath);return Ee(A,D,{params:y(D.params),hash:co(A.hash),redirectedFrom:void 0,href:$})}let St;if("path"in lt)St=Ee({},lt,{path:rs(p,lt.path,Et.path).path});else{const A=Ee({},lt.params);for(const D in A)A[D]==null&&delete A[D];St=Ee({},lt,{params:c(A)}),Et.params=c(Et.params)}const Rt=s.resolve(St,Et),q=lt.hash||"";Rt.params=l(y(Rt.params));const b=Xd(a,Ee({},lt,{hash:Ng(q),path:Rt.path})),m=f.createHref(b);return Ee({fullPath:b,hash:q,query:a===cu?Bg(lt.query):lt.query||{}},Rt,{redirectedFrom:void 0,href:m})}function E(lt){return typeof lt=="string"?rs(p,lt,g.value.path):Ee({},lt)}function k(lt,Et){if(u!==lt)return Vn(8,{from:Et,to:lt})}function H(lt){return L(lt)}function T(lt){return H(Ee(E(lt),{replace:!0}))}function I(lt){const Et=lt.matched[lt.matched.length-1];if(Et&&Et.redirect){const{redirect:St}=Et;let Rt=typeof St=="function"?St(lt):St;return typeof Rt=="string"&&(Rt=Rt.includes("?")||Rt.includes("#")?Rt=E(Rt):{path:Rt},Rt.params={}),Ee({query:lt.query,hash:lt.hash,params:"path"in Rt?{}:lt.params},Rt)}}function L(lt,Et){const St=u=C(lt),Rt=g.value,q=lt.state,b=lt.force,m=lt.replace===!0,A=I(St);if(A)return L(Ee(E(A),{state:typeof A=="object"?Ee({},q,A.state):q,force:b,replace:m}),Et||St);const D=St;D.redirectedFrom=Et;let $;return!b&&Qd(a,Rt,St)&&($=Vn(16,{to:D,from:Rt}),jt(Rt,Rt,!0,!1)),($?Promise.resolve($):rt(D,Rt)).catch(Y=>Ir(Y)?Ir(Y,2)?Y:Tt(Y):yt(Y,D,Rt)).then(Y=>{if(Y){if(Ir(Y,2))return L(Ee({replace:m},E(Y.to),{state:typeof Y.to=="object"?Ee({},q,Y.to.state):q,force:b}),Et||D)}else Y=ot(D,Rt,!0,m,q);return M(D,Rt,Y),Y})}function X(lt,Et){const St=k(lt,Et);return St?Promise.reject(St):Promise.resolve()}function Q(lt){const Et=Jt.values().next().value;return Et&&typeof Et.runWithContext=="function"?Et.runWithContext(lt):lt()}function rt(lt,Et){let St;const[Rt,q,b]=$g(lt,Et);St=ns(Rt.reverse(),"beforeRouteLeave",lt,Et);for(const A of Rt)A.leaveGuards.forEach(D=>{St.push(Gr(D,lt,Et))});const m=X.bind(null,lt,Et);return St.push(m),$t(St).then(()=>{St=[];for(const A of d.list())St.push(Gr(A,lt,Et));return St.push(m),$t(St)}).then(()=>{St=ns(q,"beforeRouteUpdate",lt,Et);for(const A of q)A.updateGuards.forEach(D=>{St.push(Gr(D,lt,Et))});return St.push(m),$t(St)}).then(()=>{St=[];for(const A of b)if(A.beforeEnter)if(wr(A.beforeEnter))for(const D of A.beforeEnter)St.push(Gr(D,lt,Et));else St.push(Gr(A.beforeEnter,lt,Et));return St.push(m),$t(St)}).then(()=>(lt.matched.forEach(A=>A.enterCallbacks={}),St=ns(b,"beforeRouteEnter",lt,Et),St.push(m),$t(St))).then(()=>{St=[];for(const A of i.list())St.push(Gr(A,lt,Et));return St.push(m),$t(St)}).catch(A=>Ir(A,8)?A:Promise.reject(A))}function M(lt,Et,St){v.list().forEach(Rt=>Q(()=>Rt(lt,Et,St)))}function ot(lt,Et,St,Rt,q){const b=k(lt,Et);if(b)return b;const m=Et===Kr,A=Cn?history.state:{};St&&(Rt||m?f.replace(lt.fullPath,Ee({scroll:m&&A&&A.scroll},q)):f.push(lt.fullPath,q)),g.value=lt,jt(lt,Et,St,m),Tt()}let ct;function bt(){ct||(ct=f.listen((lt,Et,St)=>{if(!ee.listening)return;const Rt=C(lt),q=I(Rt);if(q){L(Ee(q,{replace:!0}),Rt).catch(gi);return}u=Rt;const b=g.value;Cn&&sg(eu(b.fullPath,St.delta),Ro()),rt(Rt,b).catch(m=>Ir(m,12)?m:Ir(m,2)?(L(m.to,Rt).then(A=>{Ir(A,20)&&!St.delta&&St.type===xi.pop&&f.go(-1,!1)}).catch(gi),Promise.reject()):(St.delta&&f.go(-St.delta,!1),yt(m,Rt,b))).then(m=>{m=m||ot(Rt,b,!1),m&&(St.delta&&!Ir(m,8)?f.go(-St.delta,!1):St.type===xi.pop&&Ir(m,20)&&f.go(-1,!1)),M(Rt,b,m)}).catch(gi)}))}let kt=ri(),pt=ri(),wt;function yt(lt,Et,St){Tt(lt);const Rt=pt.list();return Rt.length?Rt.forEach(q=>q(lt,Et,St)):console.error(lt),Promise.reject(lt)}function Ct(){return wt&&g.value!==Kr?Promise.resolve():new Promise((lt,Et)=>{kt.add([lt,Et])})}function Tt(lt){return wt||(wt=!lt,bt(),kt.list().forEach(([Et,St])=>lt?St(lt):Et()),kt.reset()),lt}function jt(lt,Et,St,Rt){const{scrollBehavior:q}=n;if(!Cn||!q)return Promise.resolve();const b=!St&&ag(eu(lt.fullPath,0))||(Rt||!St)&&history.state&&history.state.scroll||null;return mo().then(()=>q(lt,Et,b)).then(m=>m&&og(m)).catch(m=>yt(m,lt,Et))}const Ot=lt=>f.go(lt);let Mt;const Jt=new Set,ee={currentRoute:g,listening:!0,addRoute:S,removeRoute:w,hasRoute:P,getRoutes:R,resolve:C,options:n,push:H,replace:T,go:Ot,back:()=>Ot(-1),forward:()=>Ot(1),beforeEach:d.add,beforeResolve:i.add,afterEach:v.add,onError:pt.add,isReady:Ct,install(lt){const Et=this;lt.component("RouterLink",si),lt.component("RouterView",_l),lt.config.globalProperties.$router=Et,Object.defineProperty(lt.config.globalProperties,"$route",{enumerable:!0,get:()=>ar(g)}),Cn&&!Mt&&g.value===Kr&&(Mt=!0,H(f.location).catch(q=>{}));const St={};for(const q in Kr)Object.defineProperty(St,q,{get:()=>g.value[q],enumerable:!0});lt.provide(la,Et),lt.provide(yl,Ms(St)),lt.provide(Ts,g);const Rt=lt.unmount;Jt.add(lt),lt.unmount=function(){Jt.delete(lt),Jt.size<1&&(u=Kr,ct&&ct(),ct=null,g.value=Kr,Mt=!1,wt=!1),Rt()}}};function $t(lt){return lt.reduce((Et,St)=>Et.then(()=>Q(St)),Promise.resolve())}return ee}function $g(n,s){const p=[],a=[],f=[],d=Math.max(s.matched.length,n.matched.length);for(let i=0;i<d;i++){const v=s.matched[i];v&&(n.matched.find(u=>Hn(u,v))?a.push(v):p.push(v));const g=n.matched[i];g&&(s.matched.find(u=>Hn(u,g))||f.push(g))}return[p,a,f]}const Gg=n=>(zs("data-v-a47c673d"),n=n(),$s(),n),Yg={class:"greetings"},Xg={class:"green"},Qg=Gg(()=>fe("h3",null,[ce(" Youve successfully created a project with "),fe("a",{href:"https://vitejs.dev/",target:"_blank",rel:"noopener"},"Vite"),ce(" + "),fe("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"Vue 3"),ce(". What's next? ")],-1)),Zg=Ur({__name:"HelloWorld",props:{msg:{}},setup(n){return(s,p)=>(qe(),hr("div",Yg,[fe("h1",Xg,Su(s.msg),1),Qg]))}}),en=(n,s)=>{const p=n.__vccOpts||n;for(const[a,f]of s)p[a]=f;return p},tp=en(Zg,[["__scopeId","data-v-a47c673d"]]),ep=n=>(zs("data-v-d41f6226"),n=n(),$s(),n),rp=ep(()=>fe("img",{alt:"Vue logo",class:"logo",src:zd,width:"125",height:"125"},null,-1)),np={class:"wrapper"},ip=Ur({__name:"App",setup(n){return(s,p)=>(qe(),hr(je,null,[fe("header",null,[rp,fe("div",np,[se(tp,{msg:"You did it!"}),fe("nav",null,[se(ar(si),{to:"/"},{default:Ie(()=>[ce("Home")]),_:1}),se(ar(si),{to:"/about"},{default:Ie(()=>[ce("About")]),_:1}),se(ar(si),{to:"/login"},{default:Ie(()=>[ce("Login")]),_:1}),s.$zitadel.hasRole("admin")?(qe(),Ao(ar(si),{key:0,to:"/admin"},{default:Ie(()=>[ce("Admin")]),_:1})):ys("",!0),s.$zitadel.isAuthenticated?(qe(),hr("a",{key:1,href:"#",onClick:p[0]||(p[0]=tl((...a)=>s.$zitadel.signOut&&s.$zitadel.signOut(...a),["prevent"]))},"Signout")):ys("",!0)])])]),se(ar(_l))],64))}}),op=en(ip,[["__scopeId","data-v-d41f6226"]]),sp="modulepreload",ap=function(n){return"/"+n},pu={},zi=function(s,p,a){let f=Promise.resolve();if(p&&p.length>0){const d=document.getElementsByTagName("link");f=Promise.all(p.map(i=>{if(i=ap(i),i in pu)return;pu[i]=!0;const v=i.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(!!a)for(let c=d.length-1;c>=0;c--){const y=d[c];if(y.href===i&&(!v||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${g}`))return;const l=document.createElement("link");if(l.rel=v?"stylesheet":sp,v||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),v)return new Promise((c,y)=>{l.addEventListener("load",c),l.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${i}`)))})}))}return f.then(()=>s()).catch(d=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=d,window.dispatchEvent(i),!i.defaultPrevented)throw d})},up={},cp={class:"item"},lp={class:"details"};function fp(n,s){return qe(),hr("div",cp,[fe("i",null,[Gi(n.$slots,"icon",{},void 0,!0)]),fe("div",lp,[fe("h3",null,[Gi(n.$slots,"heading",{},void 0,!0)]),Gi(n.$slots,"default",{},void 0,!0)])])}const ni=en(up,[["render",fp],["__scopeId","data-v-fd0742eb"]]),hp={},dp={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},gp=fe("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),pp=[gp];function vp(n,s){return qe(),hr("svg",dp,pp)}const mp=en(hp,[["render",vp]]),yp={},_p={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},bp=fe("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),Sp=[bp];function wp(n,s){return qe(),hr("svg",_p,Sp)}const Ep=en(yp,[["render",wp]]),Fp={},xp={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},Ap=fe("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),Pp=[Ap];function kp(n,s){return qe(),hr("svg",xp,Pp)}const Cp=en(Fp,[["render",kp]]),Tp={},Rp={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},Ip=fe("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),Op=[Ip];function Lp(n,s){return qe(),hr("svg",Rp,Op)}const Np=en(Tp,[["render",Lp]]),Dp={},Up={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},jp=fe("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),Mp=[jp];function Bp(n,s){return qe(),hr("svg",Up,Mp)}const Hp=en(Dp,[["render",Bp]]),Vp=fe("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1),Kp=fe("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),qp=fe("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),Wp=fe("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),Jp=fe("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),zp=fe("a",{href:"https://on.cypress.io/component",target:"_blank",rel:"noopener"},"Cypress Component Testing",-1),$p=fe("br",null,null,-1),Gp=fe("code",null,"README.md",-1),Yp=fe("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1),Xp=fe("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1),Qp=fe("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1),Zp=fe("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1),t0=fe("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1),e0=fe("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1),r0=fe("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1),n0=fe("a",{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"},"our mailing list",-1),i0=fe("a",{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1),o0=fe("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1),s0=Ur({__name:"TheWelcome",setup(n){return(s,p)=>(qe(),hr(je,null,[se(ni,null,{icon:Ie(()=>[se(mp)]),heading:Ie(()=>[ce("Documentation")]),default:Ie(()=>[ce(" Vues "),Vp,ce(" provides you with all information you need to get started. ")]),_:1}),se(ni,null,{icon:Ie(()=>[se(Ep)]),heading:Ie(()=>[ce("Tooling")]),default:Ie(()=>[ce(" This project is served and bundled with "),Kp,ce(". The recommended IDE setup is "),qp,ce(" + "),Wp,ce(". If you need to test your components and web pages, check out "),Jp,ce(" and "),zp,ce(". "),$p,ce(" More instructions are available in "),Gp,ce(". ")]),_:1}),se(ni,null,{icon:Ie(()=>[se(Cp)]),heading:Ie(()=>[ce("Ecosystem")]),default:Ie(()=>[ce(" Get official tools and libraries for your project: "),Yp,ce(", "),Xp,ce(", "),Qp,ce(", and "),Zp,ce(". If you need more resources, we suggest paying "),t0,ce(" a visit. ")]),_:1}),se(ni,null,{icon:Ie(()=>[se(Np)]),heading:Ie(()=>[ce("Community")]),default:Ie(()=>[ce(" Got stuck? Ask your question on "),e0,ce(", our official Discord server, or "),r0,ce(". You should also subscribe to "),n0,ce(" and follow the official "),i0,ce(" twitter account for latest news in the Vue world. ")]),_:1}),se(ni,null,{icon:Ie(()=>[se(Hp)]),heading:Ie(()=>[ce("Support Vue")]),default:Ie(()=>[ce(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),o0,ce(". ")]),_:1})],64))}}),a0=Ur({__name:"HomeView",setup(n){return(s,p)=>(qe(),hr("main",null,[se(s0)]))}});var fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u0(n){if(n.__esModule)return n;var s=n.default;if(typeof s=="function"){var p=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};p.prototype=s.prototype}else p={};return Object.defineProperty(p,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var f=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(p,a,f.get?f:{enumerable:!0,get:function(){return n[a]}})}),p}var bl={exports:{}};const c0=u0(Jd);var is={exports:{}},vu;function l0(){return vu||(vu=1,function(n,s){(function(a,f){n.exports=f()})(fa,function(){return function(p){var a={};function f(d){if(a[d])return a[d].exports;var i=a[d]={i:d,l:!1,exports:{}};return p[d].call(i.exports,i,i.exports,f),i.l=!0,i.exports}return f.m=p,f.c=a,f.d=function(d,i,v){f.o(d,i)||Object.defineProperty(d,i,{enumerable:!0,get:v})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,i){if(1&i&&(d=f(d)),8&i||4&i&&typeof d=="object"&&d&&d.__esModule)return d;var v=Object.create(null);if(f.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:d}),2&i&&typeof d!="string")for(var g in d)f.d(v,g,(function(u){return d[u]}).bind(null,g));return v},f.n=function(d){var i=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(i,"a",i),i},f.o=function(d,i){return Object.prototype.hasOwnProperty.call(d,i)},f.p="",f(f.s=22)}([function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function u(l,c){for(var y=0;y<c.length;y++){var S=c[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,y){return c&&u(l.prototype,c),y&&u(l,y),l}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},v=void 0,g=void 0;(a.Log=function(){function u(){(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.reset=function(){g=3,v=i},u.debug=function(){if(g>=4){for(var c=arguments.length,y=Array(c),S=0;S<c;S++)y[S]=arguments[S];v.debug.apply(v,Array.from(y))}},u.info=function(){if(g>=3){for(var c=arguments.length,y=Array(c),S=0;S<c;S++)y[S]=arguments[S];v.info.apply(v,Array.from(y))}},u.warn=function(){if(g>=2){for(var c=arguments.length,y=Array(c),S=0;S<c;S++)y[S]=arguments[S];v.warn.apply(v,Array.from(y))}},u.error=function(){if(g>=1){for(var c=arguments.length,y=Array(c),S=0;S<c;S++)y[S]=arguments[S];v.error.apply(v,Array.from(y))}},d(u,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return g},set:function(c){if(!(0<=c&&c<=4))throw new Error("Invalid log level");g=c}},{key:"logger",get:function(){return v},set:function(c){if(!c.debug&&c.info&&(c.debug=c.info),!(c.debug&&c.info&&c.warn&&c.error))throw new Error("Invalid logger");v=c}}]),u}()).reset()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function u(l,c){for(var y=0;y<c.length;y++){var S=c[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,y){return c&&u(l.prototype,c),y&&u(l,y),l}}(),i={setInterval:function(u){function l(c,y){return u.apply(this,arguments)}return l.toString=function(){return u.toString()},l}(function(u,l){return setInterval(u,l)}),clearInterval:function(u){function l(c){return u.apply(this,arguments)}return l.toString=function(){return u.toString()},l}(function(u){return clearInterval(u)})},v=!1,g=null;a.Global=function(){function u(){(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,u)}return u._testing=function(){v=!0},u.setXMLHttpRequest=function(c){g=c},d(u,null,[{key:"location",get:function(){if(!v)return location}},{key:"localStorage",get:function(){if(!v&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!v&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!v&&typeof window<"u")return g||XMLHttpRequest}},{key:"timer",get:function(){if(!v)return i}}]),u}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.MetadataService=void 0;var d=function(){function l(c,y){for(var S=0;S<y.length;S++){var w=y[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,y,S){return y&&l(c.prototype,y),S&&l(c,S),c}}(),i=f(0),v=f(7);function g(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var u=".well-known/openid-configuration";a.MetadataService=function(){function l(c){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.JsonService;if(g(this,l),!c)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=c,this._jsonService=new y(["application/jwk-set+json"])}return l.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},l.prototype.getMetadata=function(){var y=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(S){i.Log.debug("MetadataService.getMetadata: json received");var w=y._settings.metadataSeed||{};return y._settings.metadata=Object.assign({},w,S),y._settings.metadata})):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},l.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},l.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},l.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},l.prototype.getTokenEndpoint=function(){var y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",y)},l.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},l.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},l.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},l.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},l.prototype._getMetadataProperty=function(y){var S=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+y),this.getMetadata().then(function(w){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),w[y]===void 0){if(S===!0)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+y);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+y),new Error("Metadata does not contain property "+y)}return w[y]})},l.prototype.getSigningKeys=function(){var y=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(S){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",S),y._jsonService.getJson(S).then(function(w){if(i.Log.debug("MetadataService.getSigningKeys: key set received",w),!w.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return y._settings.signingKeys=w.keys,y._settings.signingKeys})})},d(l,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(u)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=u))),this._metadataUrl}}]),l}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UrlUtility=void 0;var d=f(0),i=f(1);a.UrlUtility=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return v.addQueryParam=function(u,l,c){return u.indexOf("?")<0&&(u+="?"),u[u.length-1]!=="?"&&(u+="&"),u+=encodeURIComponent(l),u+="=",u+=encodeURIComponent(c)},v.parseUrlFragment=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.Global;typeof u!="string"&&(u=c.location.href);var y=u.lastIndexOf(l);y>=0&&(u=u.substr(y+1)),l==="?"&&(y=u.indexOf("#"))>=0&&(u=u.substr(0,y));for(var S,w={},R=/([^&=]+)=([^&]*)/g,P=0;S=R.exec(u);)if(w[decodeURIComponent(S[1])]=decodeURIComponent(S[2].replace(/\+/g," ")),P++>50)return d.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",u),{error:"Response exceeded expected number of parameters"};for(var C in w)return w;return{}},v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.JoseUtil=void 0;var d=f(26),i=function(g){return g&&g.__esModule?g:{default:g}}(f(33));a.JoseUtil=(0,i.default)({jws:d.jws,KeyUtil:d.KeyUtil,X509:d.X509,crypto:d.crypto,hextob64u:d.hextob64u,b64tohex:d.b64tohex,AllowedSigningAlgs:d.AllowedSigningAlgs})},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.OidcClientSettings=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},i=function(){function C(E,k){for(var H=0;H<k.length;H++){var T=k[H];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,k,H){return k&&C(E.prototype,k),H&&C(E,H),E}}(),v=f(0),g=f(23),u=f(6),l=f(24),c=f(2);function y(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}var S=".well-known/openid-configuration",w="id_token",R="openid",P="client_secret_post";a.OidcClientSettings=function(){function C(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=E.authority,H=E.metadataUrl,T=E.metadata,I=E.signingKeys,L=E.metadataSeed,X=E.client_id,Q=E.client_secret,rt=E.response_type,M=rt===void 0?w:rt,ot=E.scope,ct=ot===void 0?R:ot,bt=E.redirect_uri,kt=E.post_logout_redirect_uri,pt=E.client_authentication,wt=pt===void 0?P:pt,yt=E.prompt,Ct=E.display,Tt=E.max_age,jt=E.ui_locales,Ot=E.acr_values,Mt=E.resource,Jt=E.response_mode,ee=E.filterProtocolClaims,$t=ee===void 0||ee,lt=E.loadUserInfo,Et=lt===void 0||lt,St=E.staleStateAge,Rt=St===void 0?900:St,q=E.clockSkew,b=q===void 0?300:q,m=E.clockService,A=m===void 0?new g.ClockService:m,D=E.userInfoJwtIssuer,$=D===void 0?"OP":D,Y=E.mergeClaims,at=Y!==void 0&&Y,ft=E.stateStore,gt=ft===void 0?new u.WebStorageStateStore:ft,dt=E.ResponseValidatorCtor,vt=dt===void 0?l.ResponseValidator:dt,At=E.MetadataServiceCtor,Lt=At===void 0?c.MetadataService:At,Nt=E.extraQueryParams,ht=Nt===void 0?{}:Nt,It=E.extraTokenParams,Pt=It===void 0?{}:It;y(this,C),this._authority=k,this._metadataUrl=H,this._metadata=T,this._metadataSeed=L,this._signingKeys=I,this._client_id=X,this._client_secret=Q,this._response_type=M,this._scope=ct,this._redirect_uri=bt,this._post_logout_redirect_uri=kt,this._client_authentication=wt,this._prompt=yt,this._display=Ct,this._max_age=Tt,this._ui_locales=jt,this._acr_values=Ot,this._resource=Mt,this._response_mode=Jt,this._filterProtocolClaims=!!$t,this._loadUserInfo=!!Et,this._staleStateAge=Rt,this._clockSkew=b,this._clockService=A,this._userInfoJwtIssuer=$,this._mergeClaims=!!at,this._stateStore=gt,this._validator=new vt(this),this._metadataService=new Lt(this),this._extraQueryParams=(ht===void 0?"undefined":d(ht))==="object"?ht:{},this._extraTokenParams=(Pt===void 0?"undefined":d(Pt))==="object"?Pt:{}}return C.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(C,[{key:"client_id",get:function(){return this._client_id},set:function(k){if(this._client_id)throw v.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=k}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(k){if(this._authority)throw v.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=k}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(S)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=S)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(k){this._metadata=k}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(k){this._metadataSeed=k}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(k){this._signingKeys=k}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(k){(k===void 0?"undefined":d(k))==="object"?this._extraQueryParams=k:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(k){(k===void 0?"undefined":d(k))==="object"?this._extraTokenParams=k:this._extraTokenParams={}}}]),C}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.WebStorageStateStore=void 0;var d=f(0),i=f(1);function v(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}a.WebStorageStateStore=function(){function g(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=u.prefix,c=l===void 0?"oidc.":l,y=u.store,S=y===void 0?i.Global.localStorage:y;v(this,g),this._store=S,this._prefix=c}return g.prototype.set=function(l,c){return d.Log.debug("WebStorageStateStore.set",l),l=this._prefix+l,this._store.setItem(l,c),Promise.resolve()},g.prototype.get=function(l){d.Log.debug("WebStorageStateStore.get",l),l=this._prefix+l;var c=this._store.getItem(l);return Promise.resolve(c)},g.prototype.remove=function(l){d.Log.debug("WebStorageStateStore.remove",l),l=this._prefix+l;var c=this._store.getItem(l);return this._store.removeItem(l),Promise.resolve(c)},g.prototype.getAllKeys=function(){d.Log.debug("WebStorageStateStore.getAllKeys");for(var l=[],c=0;c<this._store.length;c++){var y=this._store.key(c);y.indexOf(this._prefix)===0&&l.push(y.substr(this._prefix.length))}return Promise.resolve(l)},g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.JsonService=void 0;var d=f(0),i=f(1);function v(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}a.JsonService=function(){function g(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.Global.XMLHttpRequest,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;v(this,g),u&&Array.isArray(u)?this._contentTypes=u.slice():this._contentTypes=[],this._contentTypes.push("application/json"),c&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=l,this._jwtHandler=c}return g.prototype.getJson=function(l,c){var y=this;if(!l)throw d.Log.error("JsonService.getJson: No url passed"),new Error("url");return d.Log.debug("JsonService.getJson, url: ",l),new Promise(function(S,w){var R=new y._XMLHttpRequest;R.open("GET",l);var P=y._contentTypes,C=y._jwtHandler;R.onload=function(){if(d.Log.debug("JsonService.getJson: HTTP response received, status",R.status),R.status===200){var E=R.getResponseHeader("Content-Type");if(E){var k=P.find(function(H){if(E.startsWith(H))return!0});if(k=="application/jwt")return void C(R).then(S,w);if(k)try{return void S(JSON.parse(R.responseText))}catch(H){return d.Log.error("JsonService.getJson: Error parsing JSON response",H.message),void w(H)}}w(Error("Invalid response Content-Type: "+E+", from URL: "+l))}else w(Error(R.statusText+" ("+R.status+")"))},R.onerror=function(){d.Log.error("JsonService.getJson: network error"),w(Error("Network Error"))},c&&(d.Log.debug("JsonService.getJson: token passed, setting Authorization header"),R.setRequestHeader("Authorization","Bearer "+c)),R.send()})},g.prototype.postForm=function(l,c,y){var S=this;if(!l)throw d.Log.error("JsonService.postForm: No url passed"),new Error("url");return d.Log.debug("JsonService.postForm, url: ",l),new Promise(function(w,R){var P=new S._XMLHttpRequest;P.open("POST",l);var C=S._contentTypes;P.onload=function(){if(d.Log.debug("JsonService.postForm: HTTP response received, status",P.status),P.status!==200){if(P.status===400&&(I=P.getResponseHeader("Content-Type"))&&C.find(function(L){if(I.startsWith(L))return!0}))try{var T=JSON.parse(P.responseText);if(T&&T.error)return d.Log.error("JsonService.postForm: Error from server: ",T.error),void R(new Error(T.error))}catch(L){return d.Log.error("JsonService.postForm: Error parsing JSON response",L.message),void R(L)}R(Error(P.statusText+" ("+P.status+")"))}else{var I;if((I=P.getResponseHeader("Content-Type"))&&C.find(function(L){if(I.startsWith(L))return!0}))try{return void w(JSON.parse(P.responseText))}catch(L){return d.Log.error("JsonService.postForm: Error parsing JSON response",L.message),void R(L)}R(Error("Invalid response Content-Type: "+I+", from URL: "+l))}},P.onerror=function(){d.Log.error("JsonService.postForm: network error"),R(Error("Network Error"))};var E="";for(var k in c){var H=c[k];H&&(E.length>0&&(E+="&"),E+=encodeURIComponent(k),E+="=",E+=encodeURIComponent(H))}P.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),y!==void 0&&P.setRequestHeader("Authorization","Basic "+btoa(y)),P.send(E)})},g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SigninRequest=void 0;var d=f(0),i=f(3),v=f(13);a.SigninRequest=function(){function g(u){var l=u.url,c=u.client_id,y=u.redirect_uri,S=u.response_type,w=u.scope,R=u.authority,P=u.data,C=u.prompt,E=u.display,k=u.max_age,H=u.ui_locales,T=u.id_token_hint,I=u.login_hint,L=u.acr_values,X=u.resource,Q=u.response_mode,rt=u.request,M=u.request_uri,ot=u.extraQueryParams,ct=u.request_type,bt=u.client_secret,kt=u.extraTokenParams,pt=u.skipUserInfo;if(function(Mt,Jt){if(!(Mt instanceof Jt))throw new TypeError("Cannot call a class as a function")}(this,g),!l)throw d.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!c)throw d.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!y)throw d.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!S)throw d.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!w)throw d.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!R)throw d.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var wt=g.isOidc(S),yt=g.isCode(S);Q||(Q=g.isCode(S)?"query":null),this.state=new v.SigninState({nonce:wt,data:P,client_id:c,authority:R,redirect_uri:y,code_verifier:yt,request_type:ct,response_mode:Q,client_secret:bt,scope:w,extraTokenParams:kt,skipUserInfo:pt}),l=i.UrlUtility.addQueryParam(l,"client_id",c),l=i.UrlUtility.addQueryParam(l,"redirect_uri",y),l=i.UrlUtility.addQueryParam(l,"response_type",S),l=i.UrlUtility.addQueryParam(l,"scope",w),l=i.UrlUtility.addQueryParam(l,"state",this.state.id),wt&&(l=i.UrlUtility.addQueryParam(l,"nonce",this.state.nonce)),yt&&(l=i.UrlUtility.addQueryParam(l,"code_challenge",this.state.code_challenge),l=i.UrlUtility.addQueryParam(l,"code_challenge_method","S256"));var Ct={prompt:C,display:E,max_age:k,ui_locales:H,id_token_hint:T,login_hint:I,acr_values:L,resource:X,request:rt,request_uri:M,response_mode:Q};for(var Tt in Ct)Ct[Tt]&&(l=i.UrlUtility.addQueryParam(l,Tt,Ct[Tt]));for(var jt in ot)l=i.UrlUtility.addQueryParam(l,jt,ot[jt]);this.url=l}return g.isOidc=function(l){return!!l.split(/\s+/g).filter(function(c){return c==="id_token"})[0]},g.isOAuth=function(l){return!!l.split(/\s+/g).filter(function(c){return c==="token"})[0]},g.isCode=function(l){return!!l.split(/\s+/g).filter(function(c){return c==="code"})[0]},g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.State=void 0;var d=function(){function u(l,c){for(var y=0;y<c.length;y++){var S=c[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,y){return c&&u(l.prototype,c),y&&u(l,y),l}}(),i=f(0),v=function(l){return l&&l.__esModule?l:{default:l}}(f(14));function g(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}a.State=function(){function u(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.id,y=l.data,S=l.created,w=l.request_type;g(this,u),this._id=c||(0,v.default)(),this._data=y,this._created=typeof S=="number"&&S>0?S:parseInt(Date.now()/1e3),this._request_type=w}return u.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},u.fromStorageString=function(c){return i.Log.debug("State.fromStorageString"),new u(JSON.parse(c))},u.clearStaleState=function(c,y){var S=Date.now()/1e3-y;return c.getAllKeys().then(function(w){i.Log.debug("State.clearStaleState: got keys",w);for(var R=[],P=function(H){var T=w[H];E=c.get(T).then(function(I){var L=!1;if(I)try{var X=u.fromStorageString(I);i.Log.debug("State.clearStaleState: got item from key: ",T,X.created),X.created<=S&&(L=!0)}catch(Q){i.Log.error("State.clearStaleState: Error parsing state for key",T,Q.message),L=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",T),L=!0;if(L)return i.Log.debug("State.clearStaleState: removed item for key: ",T),c.remove(T)}),R.push(E)},C=0;C<w.length;C++){var E;P(C)}return i.Log.debug("State.clearStaleState: waiting on promise count:",R.length),Promise.all(R)})},d(u,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),u}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.OidcClient=void 0;var d=function(){function P(C,E){for(var k=0;k<E.length;k++){var H=E[k];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(C,H.key,H)}}return function(C,E,k){return E&&P(C.prototype,E),k&&P(C,k),C}}(),i=f(0),v=f(5),g=f(12),u=f(8),l=f(34),c=f(35),y=f(36),S=f(13),w=f(9);function R(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}a.OidcClient=function(){function P(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,P),C instanceof v.OidcClientSettings?this._settings=C:this._settings=new v.OidcClientSettings(C)}return P.prototype.createSigninRequest=function(){var E=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=k.response_type,T=k.scope,I=k.redirect_uri,L=k.data,X=k.state,Q=k.prompt,rt=k.display,M=k.max_age,ot=k.ui_locales,ct=k.id_token_hint,bt=k.login_hint,kt=k.acr_values,pt=k.resource,wt=k.request,yt=k.request_uri,Ct=k.response_mode,Tt=k.extraQueryParams,jt=k.extraTokenParams,Ot=k.request_type,Mt=k.skipUserInfo,Jt=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var ee=this._settings.client_id;H=H||this._settings.response_type,T=T||this._settings.scope,I=I||this._settings.redirect_uri,Q=Q||this._settings.prompt,rt=rt||this._settings.display,M=M||this._settings.max_age,ot=ot||this._settings.ui_locales,kt=kt||this._settings.acr_values,pt=pt||this._settings.resource,Ct=Ct||this._settings.response_mode,Tt=Tt||this._settings.extraQueryParams,jt=jt||this._settings.extraTokenParams;var $t=this._settings.authority;return u.SigninRequest.isCode(H)&&H!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(lt){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",lt);var Et=new u.SigninRequest({url:lt,client_id:ee,redirect_uri:I,response_type:H,scope:T,data:L||X,authority:$t,prompt:Q,display:rt,max_age:M,ui_locales:ot,id_token_hint:ct,login_hint:bt,acr_values:kt,resource:pt,request:wt,request_uri:yt,extraQueryParams:Tt,extraTokenParams:jt,request_type:Ot,response_mode:Ct,client_secret:E._settings.client_secret,skipUserInfo:Mt}),St=Et.state;return(Jt=Jt||E._stateStore).set(St.id,St.toStorageString()).then(function(){return Et})})},P.prototype.readSigninResponseState=function(E,k){var H=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var T=this._settings.response_mode==="query"||!this._settings.response_mode&&u.SigninRequest.isCode(this._settings.response_type),I=T?"?":"#",L=new l.SigninResponse(E,I);if(!L.state)return i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));k=k||this._stateStore;var X=H?k.remove.bind(k):k.get.bind(k);return X(L.state).then(function(Q){if(!Q)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:S.SigninState.fromStorageString(Q),response:L}})},P.prototype.processSigninResponse=function(E,k){var H=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(E,k,!0).then(function(T){var I=T.state,L=T.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),H._validator.validateSigninResponse(I,L)})},P.prototype.createSignoutRequest=function(){var E=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=k.id_token_hint,T=k.data,I=k.state,L=k.post_logout_redirect_uri,X=k.extraQueryParams,Q=k.request_type,rt=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),L=L||this._settings.post_logout_redirect_uri,X=X||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(M){if(!M)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",M);var ot=new c.SignoutRequest({url:M,id_token_hint:H,post_logout_redirect_uri:L,data:T||I,extraQueryParams:X,request_type:Q}),ct=ot.state;return ct&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(rt=rt||E._stateStore).set(ct.id,ct.toStorageString())),ot})},P.prototype.readSignoutResponseState=function(E,k){var H=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var T=new y.SignoutResponse(E);if(!T.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),T.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",T.error),Promise.reject(new g.ErrorResponse(T))):Promise.resolve({state:void 0,response:T});var I=T.state;k=k||this._stateStore;var L=H?k.remove.bind(k):k.get.bind(k);return L(I).then(function(X){if(!X)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:w.State.fromStorageString(X),response:T}})},P.prototype.processSignoutResponse=function(E,k){var H=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(E,k,!0).then(function(T){var I=T.state,L=T.response;return I?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),H._validator.validateSignoutResponse(I,L)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),L)})},P.prototype.clearStaleState=function(E){return i.Log.debug("OidcClient.clearStaleState"),E=E||this._stateStore,w.State.clearStaleState(E,this.settings.staleStateAge)},d(P,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),P}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.TokenClient=void 0;var d=f(7),i=f(2),v=f(0);function g(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}a.TokenClient=function(){function u(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.MetadataService;if(g(this,u),!l)throw v.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=l,this._jsonService=new c,this._metadataService=new y(this._settings)}return u.prototype.exchangeCode=function(){var c=this,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(y=Object.assign({},y)).grant_type=y.grant_type||"authorization_code",y.client_id=y.client_id||this._settings.client_id,y.client_secret=y.client_secret||this._settings.client_secret,y.redirect_uri=y.redirect_uri||this._settings.redirect_uri;var S=void 0,w=y._client_authentication||this._settings._client_authentication;return delete y._client_authentication,y.code?y.redirect_uri?y.code_verifier?y.client_id?y.client_secret||w!="client_secret_basic"?(w=="client_secret_basic"&&(S=y.client_id+":"+y.client_secret,delete y.client_id,delete y.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(R){return v.Log.debug("TokenClient.exchangeCode: Received token endpoint"),c._jsonService.postForm(R,y,S).then(function(P){return v.Log.debug("TokenClient.exchangeCode: response received"),P})})):(v.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(v.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(v.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(v.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(v.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},u.prototype.exchangeRefreshToken=function(){var c=this,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(y=Object.assign({},y)).grant_type=y.grant_type||"refresh_token",y.client_id=y.client_id||this._settings.client_id,y.client_secret=y.client_secret||this._settings.client_secret;var S=void 0,w=y._client_authentication||this._settings._client_authentication;return delete y._client_authentication,y.refresh_token?y.client_id?(w=="client_secret_basic"&&(S=y.client_id+":"+y.client_secret,delete y.client_id,delete y.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(R){return v.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),c._jsonService.postForm(R,y,S).then(function(P){return v.Log.debug("TokenClient.exchangeRefreshToken: response received"),P})})):(v.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(v.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},u}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.ErrorResponse=void 0;var d=f(0);function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function v(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?g:u}a.ErrorResponse=function(g){function u(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.error,y=l.error_description,S=l.error_uri,w=l.state,R=l.session_state;if(i(this,u),!c)throw d.Log.error("No error passed to ErrorResponse"),new Error("error");var P=v(this,g.call(this,y||c));return P.name="ErrorResponse",P.error=c,P.error_description=y,P.error_uri=S,P.state=w,P.session_state=R,P}return function(c,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(c,y):c.__proto__=y)}(u,g),u}(Error)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SigninState=void 0;var d=function(){function y(S,w){for(var R=0;R<w.length;R++){var P=w[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,w,R){return w&&y(S.prototype,w),R&&y(S,R),S}}(),i=f(0),v=f(9),g=f(4),u=function(S){return S&&S.__esModule?S:{default:S}}(f(14));function l(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}function c(y,S){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?y:S}a.SigninState=function(y){function S(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=w.nonce,P=w.authority,C=w.client_id,E=w.redirect_uri,k=w.code_verifier,H=w.response_mode,T=w.client_secret,I=w.scope,L=w.extraTokenParams,X=w.skipUserInfo;l(this,S);var Q=c(this,y.call(this,arguments[0]));if(R===!0?Q._nonce=(0,u.default)():R&&(Q._nonce=R),k===!0?Q._code_verifier=(0,u.default)()+(0,u.default)()+(0,u.default)():k&&(Q._code_verifier=k),Q.code_verifier){var rt=g.JoseUtil.hashString(Q.code_verifier,"SHA256");Q._code_challenge=g.JoseUtil.hexToBase64Url(rt)}return Q._redirect_uri=E,Q._authority=P,Q._client_id=C,Q._response_mode=H,Q._client_secret=T,Q._scope=I,Q._extraTokenParams=L,Q._skipUserInfo=X,Q}return function(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P)}(S,y),S.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},S.fromStorageString=function(R){return i.Log.debug("SigninState.fromStorageString"),new S(JSON.parse(R))},d(S,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),S}(v.State)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return(d!="undefined"&&d!==null&&d.getRandomValues!==void 0?i:v)().replace(/-/g,"")};var d=typeof window<"u"?window.crypto||window.msCrypto:null;function i(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(g){return(g^d.getRandomValues(new Uint8Array(1))[0]&15>>g/4).toString(16)})}function v(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(g){return(g^16*Math.random()>>g/4).toString(16)})}p.exports=a.default},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.User=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.User=function(){function v(g){var u=g.id_token,l=g.session_state,c=g.access_token,y=g.refresh_token,S=g.token_type,w=g.scope,R=g.profile,P=g.expires_at,C=g.state;(function(k,H){if(!(k instanceof H))throw new TypeError("Cannot call a class as a function")})(this,v),this.id_token=u,this.session_state=l,this.access_token=c,this.refresh_token=y,this.token_type=S,this.scope=w,this.profile=R,this.expires_at=P,this.state=C}return v.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},v.fromStorageString=function(u){return i.Log.debug("User.fromStorageString"),new v(JSON.parse(u))},d(v,[{key:"expires_in",get:function(){if(this.expires_at){var u=parseInt(Date.now()/1e3);return this.expires_at-u}},set:function(u){var l=parseInt(u);if(typeof l=="number"&&l>0){var c=parseInt(Date.now()/1e3);this.expires_at=c+l}}},{key:"expired",get:function(){var u=this.expires_in;if(u!==void 0)return u<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.AccessTokenEvents=void 0;var d=f(0),i=f(46);function v(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}a.AccessTokenEvents=function(){function g(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=u.accessTokenExpiringNotificationTime,c=l===void 0?60:l,y=u.accessTokenExpiringTimer,S=y===void 0?new i.Timer("Access token expiring"):y,w=u.accessTokenExpiredTimer,R=w===void 0?new i.Timer("Access token expired"):w;v(this,g),this._accessTokenExpiringNotificationTime=c,this._accessTokenExpiring=S,this._accessTokenExpired=R}return g.prototype.load=function(l){if(l.access_token&&l.expires_in!==void 0){var c=l.expires_in;if(d.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",c),c>0){var y=c-this._accessTokenExpiringNotificationTime;y<=0&&(y=1),d.Log.debug("AccessTokenEvents.load: registering expiring timer in:",y),this._accessTokenExpiring.init(y)}else d.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var S=c+1;d.Log.debug("AccessTokenEvents.load: registering expired timer in:",S),this._accessTokenExpired.init(S)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},g.prototype.unload=function(){d.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},g.prototype.addAccessTokenExpiring=function(l){this._accessTokenExpiring.addHandler(l)},g.prototype.removeAccessTokenExpiring=function(l){this._accessTokenExpiring.removeHandler(l)},g.prototype.addAccessTokenExpired=function(l){this._accessTokenExpired.addHandler(l)},g.prototype.removeAccessTokenExpired=function(l){this._accessTokenExpired.removeHandler(l)},g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.Event=void 0;var d=f(0);a.Event=function(){function i(v){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),this._name=v,this._callbacks=[]}return i.prototype.addHandler=function(g){this._callbacks.push(g)},i.prototype.removeHandler=function(g){var u=this._callbacks.findIndex(function(l){return l===g});u>=0&&this._callbacks.splice(u,1)},i.prototype.raise=function(){d.Log.debug("Event: Raising event: "+this._name);for(var g=0;g<this._callbacks.length;g++){var u;(u=this._callbacks)[g].apply(u,arguments)}},i}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SessionMonitor=void 0;var d=function(){function l(c,y){for(var S=0;S<y.length;S++){var w=y[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,y,S){return y&&l(c.prototype,y),S&&l(c,S),c}}(),i=f(0),v=f(19),g=f(1);function u(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}a.SessionMonitor=function(){function l(c){var y=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.CheckSessionIFrame,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.Global.timer;if(u(this,l),!c)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=c,this._CheckSessionIFrameCtor=S,this._timer=w,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(R){R?y._start(R):y._settings.monitorAnonymousSession&&y._userManager.querySessionStatus().then(function(P){var C={session_state:P.session_state};P.sub&&P.sid&&(C.profile={sub:P.sub,sid:P.sid}),y._start(C)}).catch(function(P){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",P.message)})}).catch(function(R){i.Log.error("SessionMonitor ctor: error from getUser:",R.message)}))}return l.prototype._start=function(y){var S=this,w=y.session_state;w&&(y.profile?(this._sub=y.profile.sub,this._sid=y.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",w,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",w,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(w):this._metadataService.getCheckSessionIframe().then(function(R){if(R){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var P=S._client_id,C=S._checkSessionInterval,E=S._stopCheckSessionOnError;S._checkSessionIFrame=new S._CheckSessionIFrameCtor(S._callback.bind(S),P,R,C,E),S._checkSessionIFrame.load().then(function(){S._checkSessionIFrame.start(w)})}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(R){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",R.message)}))},l.prototype._stop=function(){var y=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var S=this._timer.setInterval(function(){y._timer.clearInterval(S),y._userManager.querySessionStatus().then(function(w){var R={session_state:w.session_state};w.sub&&w.sid&&(R.profile={sub:w.sub,sid:w.sid}),y._start(R)}).catch(function(w){i.Log.error("SessionMonitor: error from querySessionStatus:",w.message)})},1e3)},l.prototype._callback=function(){var y=this;this._userManager.querySessionStatus().then(function(S){var w=!0;S?S.sub===y._sub?(w=!1,y._checkSessionIFrame.start(S.session_state),S.sid===y._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",S.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",S.session_state),y._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",S.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),w&&(y._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),y._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),y._userManager.events._raiseUserSignedIn()))}).catch(function(S){y._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",S.message),y._userManager.events._raiseUserSignedOut())})},d(l,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),l}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.CheckSessionIFrame=void 0;var d=f(0);function i(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}a.CheckSessionIFrame=function(){function v(g,u,l,c){var y=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];i(this,v),this._callback=g,this._client_id=u,this._url=l,this._interval=c||2e3,this._stopOnError=y;var S=l.indexOf("/",l.indexOf("//")+2);this._frame_origin=l.substr(0,S),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=l}return v.prototype.load=function(){var u=this;return new Promise(function(l){u._frame.onload=function(){l()},window.document.body.appendChild(u._frame),u._boundMessageEvent=u._message.bind(u),window.addEventListener("message",u._boundMessageEvent,!1)})},v.prototype._message=function(u){u.origin===this._frame_origin&&u.source===this._frame.contentWindow&&(u.data==="error"?(d.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):u.data==="changed"?(d.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):d.Log.debug("CheckSessionIFrame: "+u.data+" message from check session op iframe"))},v.prototype.start=function(u){var l=this;if(this._session_state!==u){d.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=u;var c=function(){l._frame.contentWindow.postMessage(l._client_id+" "+l._session_state,l._frame_origin)};c(),this._timer=window.setInterval(c,this._interval)}},v.prototype.stop=function(){this._session_state=null,this._timer&&(d.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.TokenRevocationClient=void 0;var d=f(0),i=f(2),v=f(1);function g(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}var u="access_token",l="refresh_token";a.TokenRevocationClient=function(){function c(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.Global.XMLHttpRequest,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.MetadataService;if(g(this,c),!y)throw d.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=y,this._XMLHttpRequestCtor=S,this._metadataService=new w(this._settings)}return c.prototype.revoke=function(S,w){var R=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!S)throw d.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(P!==u&&P!=l)throw d.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(C){if(C){d.Log.debug("TokenRevocationClient.revoke: Revoking "+P);var E=R._settings.client_id,k=R._settings.client_secret;return R._revoke(C,E,k,S,P)}if(w)throw d.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},c.prototype._revoke=function(S,w,R,P,C){var E=this;return new Promise(function(k,H){var T=new E._XMLHttpRequestCtor;T.open("POST",S),T.onload=function(){d.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",T.status),T.status===200?k():H(Error(T.statusText+" ("+T.status+")"))},T.onerror=function(){d.Log.debug("TokenRevocationClient.revoke: Network Error."),H("Network Error")};var I="client_id="+encodeURIComponent(w);R&&(I+="&client_secret="+encodeURIComponent(R)),I+="&token_type_hint="+encodeURIComponent(C),I+="&token="+encodeURIComponent(P),T.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),T.send(I)})},c}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.CordovaPopupWindow=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.CordovaPopupWindow=function(){function v(g){var u=this;(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v),this._promise=new Promise(function(l,c){u._resolve=l,u._reject=c}),this.features=g.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=g.popupWindowTarget||"_blank",this.redirect_uri=g.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return v.prototype._isInAppBrowserInstalled=function(u){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(l){return u.hasOwnProperty(l)})},v.prototype.navigate=function(u){if(u&&u.url){if(!window.cordova)return this._error("cordova is undefined");var l=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(l)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(u.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},v.prototype._loadStartCallback=function(u){u.url.indexOf(this.redirect_uri)===0&&this._success({url:u.url})},v.prototype._exitCallback=function(u){this._error(u)},v.prototype._success=function(u){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(u)},v.prototype._error=function(u){this._cleanup(),i.Log.error(u),this._reject(new Error(u))},v.prototype.close=function(){this._cleanup()},v.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},d(v,[{key:"promise",get:function(){return this._promise}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0});var d=f(0),i=f(10),v=f(5),g=f(6),u=f(37),l=f(38),c=f(16),y=f(2),S=f(48),w=f(49),R=f(19),P=f(20),C=f(18),E=f(1),k=f(15),H=f(50);a.default={Version:H.Version,Log:d.Log,OidcClient:i.OidcClient,OidcClientSettings:v.OidcClientSettings,WebStorageStateStore:g.WebStorageStateStore,InMemoryWebStorage:u.InMemoryWebStorage,UserManager:l.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:y.MetadataService,CordovaPopupNavigator:S.CordovaPopupNavigator,CordovaIFrameNavigator:w.CordovaIFrameNavigator,CheckSessionIFrame:R.CheckSessionIFrame,TokenRevocationClient:P.TokenRevocationClient,SessionMonitor:C.SessionMonitor,Global:E.Global,User:k.User},p.exports=a.default},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.ClockService=function(){function d(){(function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d)}return d.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},d}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.ResponseValidator=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},i=f(0),v=f(2),g=f(25),u=f(11),l=f(12),c=f(4);function y(w,R){if(!(w instanceof R))throw new TypeError("Cannot call a class as a function")}var S=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];a.ResponseValidator=function(){function w(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.MetadataService,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.UserInfoService,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c.JoseUtil,k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:u.TokenClient;if(y(this,w),!R)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=R,this._metadataService=new P(this._settings),this._userInfoService=new C(this._settings),this._joseUtil=E,this._tokenClient=new k(this._settings)}return w.prototype.validateSigninResponse=function(P,C){var E=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(P,C).then(function(k){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),E._validateTokens(P,k).then(function(H){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),E._processClaims(P,H).then(function(T){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),T})})})},w.prototype.validateSignoutResponse=function(P,C){return P.id!==C.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),C.state=P.data,C.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",C.error),Promise.reject(new l.ErrorResponse(C))):Promise.resolve(C))},w.prototype._processSigninParams=function(P,C){if(P.id!==C.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!P.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!P.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==P.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=P.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==P.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=P.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),C.state=P.data,C.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",C.error),Promise.reject(new l.ErrorResponse(C))):P.nonce&&!C.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!P.nonce&&C.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):P.code_verifier&&!C.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!P.code_verifier&&C.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(C.scope||(C.scope=P.scope),Promise.resolve(C))},w.prototype._processClaims=function(P,C){var E=this;if(C.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),C.profile=this._filterProtocolClaims(C.profile),P.skipUserInfo!==!0&&this._settings.loadUserInfo&&C.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(C.access_token).then(function(k){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),k.sub!==C.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(C.profile=E._mergeClaims(C.profile,k),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",C.profile),C)});i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(C)},w.prototype._mergeClaims=function(P,C){var E=Object.assign({},P);for(var k in C){var H=C[k];Array.isArray(H)||(H=[H]);for(var T=0;T<H.length;T++){var I=H[T];E[k]?Array.isArray(E[k])?E[k].indexOf(I)<0&&E[k].push(I):E[k]!==I&&((I===void 0?"undefined":d(I))==="object"&&this._settings.mergeClaims?E[k]=this._mergeClaims(E[k],I):E[k]=[E[k],I]):E[k]=I}}return E},w.prototype._filterProtocolClaims=function(P){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",P);var C=Object.assign({},P);return this._settings._filterProtocolClaims?(S.forEach(function(E){delete C[E]}),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",C)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),C},w.prototype._validateTokens=function(P,C){return C.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(P,C)):C.id_token?C.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(P,C)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(P,C)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(C))},w.prototype._processCode=function(P,C){var E=this,k={client_id:P.client_id,client_secret:P.client_secret,code:C.code,redirect_uri:P.redirect_uri,code_verifier:P.code_verifier};return P.extraTokenParams&&d(P.extraTokenParams)==="object"&&Object.assign(k,P.extraTokenParams),this._tokenClient.exchangeCode(k).then(function(H){for(var T in H)C[T]=H[T];return C.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),E._validateIdTokenAttributes(P,C)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),C)})},w.prototype._validateIdTokenAttributes=function(P,C){var E=this;return this._metadataService.getIssuer().then(function(k){var H=P.client_id,T=E._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",T),E._settings.getEpochTime().then(function(I){return E._joseUtil.validateJwtAttributes(C.id_token,k,H,T,I).then(function(L){return P.nonce&&P.nonce!==L.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):L.sub?(C.profile=L,C):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},w.prototype._validateIdTokenAndAccessToken=function(P,C){var E=this;return this._validateIdToken(P,C).then(function(k){return E._validateAccessToken(k)})},w.prototype._getSigningKeyForJwt=function(P){var C=this;return this._metadataService.getSigningKeys().then(function(E){var k=P.header.kid;if(!E)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var H=void 0;if(k)H=E.filter(function(T){return T.kid===k})[0];else{if((E=C._filterByAlg(E,P.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));H=E[0]}return Promise.resolve(H)})},w.prototype._getSigningKeyForJwtWithSingleRetry=function(P){var C=this;return this._getSigningKeyForJwt(P).then(function(E){return E?Promise.resolve(E):(C._metadataService.resetSigningKeys(),C._getSigningKeyForJwt(P))})},w.prototype._validateIdToken=function(P,C){var E=this;if(!P.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var k=this._joseUtil.parseJwt(C.id_token);return k&&k.header&&k.payload?P.nonce!==k.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(H){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),E._getSigningKeyForJwtWithSingleRetry(k).then(function(T){if(!T)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var I=P.client_id,L=E._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",L),E._joseUtil.validateJwt(C.id_token,T,H,I,L).then(function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),k.payload.sub?(C.profile=k.payload,C):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",k),Promise.reject(new Error("Failed to parse id_token")))},w.prototype._filterByAlg=function(P,C){var E=null;if(C.startsWith("RS"))E="RSA";else if(C.startsWith("PS"))E="PS";else{if(!C.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",C),[];E="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",E),P=P.filter(function(k){return k.kty===E}),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",E,P.length),P},w.prototype._validateAccessToken=function(P){if(!P.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!P.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!P.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var C=this._joseUtil.parseJwt(P.id_token);if(!C||!C.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",C),Promise.reject(new Error("Failed to parse id_token"));var E=C.header.alg;if(!E||E.length!==5)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E),Promise.reject(new Error("Unsupported alg: "+E));var k=E.substr(2,3);if(!k)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,k),Promise.reject(new Error("Unsupported alg: "+E));if((k=parseInt(k))!==256&&k!==384&&k!==512)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,k),Promise.reject(new Error("Unsupported alg: "+E));var H="sha"+k,T=this._joseUtil.hashString(P.access_token,H);if(!T)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",H),Promise.reject(new Error("Failed to validate at_hash"));var I=T.substr(0,T.length/2),L=this._joseUtil.hexToBase64Url(I);return L!==P.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",L,P.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(P))},w}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UserInfoService=void 0;var d=f(7),i=f(2),v=f(0),g=f(4);function u(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}a.UserInfoService=function(){function l(c){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.JsonService,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.MetadataService,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:g.JoseUtil;if(u(this,l),!c)throw v.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=c,this._jsonService=new y(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new S(this._settings),this._joseUtil=w}return l.prototype.getClaims=function(y){var S=this;return y?this._metadataService.getUserInfoEndpoint().then(function(w){return v.Log.debug("UserInfoService.getClaims: received userinfo url",w),S._jsonService.getJson(w,y).then(function(R){return v.Log.debug("UserInfoService.getClaims: claims received",R),R})}):(v.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},l.prototype._getClaimsFromJwt=function(y){var S=this;try{var w=this._joseUtil.parseJwt(y.responseText);if(!w||!w.header||!w.payload)return v.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",w),Promise.reject(new Error("Failed to parse id_token"));var R=w.header.kid,P=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":P=this._metadataService.getIssuer();break;case"ANY":P=Promise.resolve(w.payload.iss);break;default:P=Promise.resolve(this._settings.userInfoJwtIssuer)}return P.then(function(C){return v.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+C),S._metadataService.getSigningKeys().then(function(E){if(!E)return v.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));v.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var k=void 0;if(R)k=E.filter(function(I){return I.kid===R})[0];else{if((E=S._filterByAlg(E,w.header.alg)).length>1)return v.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));k=E[0]}if(!k)return v.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var H=S._settings.client_id,T=S._settings.clockSkew;return v.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",T),S._joseUtil.validateJwt(y.responseText,k,C,H,T,void 0,!0).then(function(){return v.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),w.payload})})})}catch(C){return v.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",C.message),void reject(C)}},l.prototype._filterByAlg=function(y,S){var w=null;if(S.startsWith("RS"))w="RSA";else if(S.startsWith("PS"))w="PS";else{if(!S.startsWith("ES"))return v.Log.debug("UserInfoService._filterByAlg: alg not supported: ",S),[];w="EC"}return v.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",w),y=y.filter(function(R){return R.kty===w}),v.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",w,y.length),y},l}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.AllowedSigningAlgs=a.b64tohex=a.hextob64u=a.crypto=a.X509=a.KeyUtil=a.jws=void 0;var d=f(27);a.jws=d.jws,a.KeyUtil=d.KEYUTIL,a.X509=d.X509,a.crypto=d.crypto,a.hextob64u=d.hextob64u,a.b64tohex=d.b64tohex,a.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(p,a,f){(function(d){Object.defineProperty(a,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v={userAgent:!1},g={};/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/if(u===void 0)var u={};u.lang={extend:function(t,r,o){if(!r||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var h=function(){};if(h.prototype=r.prototype,t.prototype=new h,t.prototype.constructor=t,t.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),o){var _;for(_ in o)t.prototype[_]=o[_];var F=function(){},j=["toString","valueOf"];try{/MSIE/.test(v.userAgent)&&(F=function(U,B){for(_=0;_<j.length;_+=1){var K=j[_],J=B[K];typeof J=="function"&&J!=Object.prototype[K]&&(U[K]=J)}})}catch{}F(t.prototype,o)}}};/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */var l,c,y,S,w,R,P,C,E,k,H,T=T||(l=Math,y=(c={}).lib={},S=y.Base=function(){function e(){}return{extend:function(r){e.prototype=this;var o=new e;return r&&o.mixIn(r),o.hasOwnProperty("init")||(o.init=function(){o.$super.init.apply(this,arguments)}),o.init.prototype=o,o.$super=this,o},create:function(){var r=this.extend();return r.init.apply(r,arguments),r},init:function(){},mixIn:function(r){for(var o in r)r.hasOwnProperty(o)&&(this[o]=r[o]);r.hasOwnProperty("toString")&&(this.toString=r.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),w=y.WordArray=S.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r??4*t.length},toString:function(t){return(t||P).stringify(this)},concat:function(t){var r=this.words,o=t.words,h=this.sigBytes,_=t.sigBytes;if(this.clamp(),h%4)for(var F=0;F<_;F++){var j=o[F>>>2]>>>24-F%4*8&255;r[h+F>>>2]|=j<<24-(h+F)%4*8}else for(F=0;F<_;F+=4)r[h+F>>>2]=o[F>>>2];return this.sigBytes+=_,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=l.ceil(r/4)},clone:function(){var t=S.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var r=[],o=0;o<t;o+=4)r.push(4294967296*l.random()|0);return new w.init(r,t)}}),R=c.enc={},P=R.Hex={stringify:function(t){for(var r=t.words,o=t.sigBytes,h=[],_=0;_<o;_++){var F=r[_>>>2]>>>24-_%4*8&255;h.push((F>>>4).toString(16)),h.push((15&F).toString(16))}return h.join("")},parse:function(t){for(var r=t.length,o=[],h=0;h<r;h+=2)o[h>>>3]|=parseInt(t.substr(h,2),16)<<24-h%8*4;return new w.init(o,r/2)}},C=R.Latin1={stringify:function(t){for(var r=t.words,o=t.sigBytes,h=[],_=0;_<o;_++){var F=r[_>>>2]>>>24-_%4*8&255;h.push(String.fromCharCode(F))}return h.join("")},parse:function(t){for(var r=t.length,o=[],h=0;h<r;h++)o[h>>>2]|=(255&t.charCodeAt(h))<<24-h%4*8;return new w.init(o,r)}},E=R.Utf8={stringify:function(t){try{return decodeURIComponent(escape(C.stringify(t)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(t){return C.parse(unescape(encodeURIComponent(t)))}},k=y.BufferedBlockAlgorithm=S.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(t){typeof t=="string"&&(t=E.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var r=this._data,o=r.words,h=r.sigBytes,_=this.blockSize,F=h/(4*_),j=(F=t?l.ceil(F):l.max((0|F)-this._minBufferSize,0))*_,N=l.min(4*j,h);if(j){for(var U=0;U<j;U+=_)this._doProcessBlock(o,U);var B=o.splice(0,j);r.sigBytes-=N}return new w.init(B,N)},clone:function(){var t=S.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),y.Hasher=k.extend({cfg:S.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(r,o){return new t.init(o).finalize(r)}},_createHmacHelper:function(t){return function(r,o){return new H.HMAC.init(t,o).finalize(r)}}}),H=c.algo={},c);(function(e){var t,r=(t=T).lib,o=r.Base,h=r.WordArray;(t=t.x64={}).Word=o.extend({init:function(F,j){this.high=F,this.low=j}}),t.WordArray=o.extend({init:function(F,j){F=this.words=F||[],this.sigBytes=j??8*F.length},toX32:function(){for(var F=this.words,j=F.length,N=[],U=0;U<j;U++){var B=F[U];N.push(B.high),N.push(B.low)}return h.create(N,this.sigBytes)},clone:function(){for(var F=o.clone.call(this),j=F.words=this.words.slice(0),N=j.length,U=0;U<N;U++)j[U]=j[U].clone();return F}})})(),function(){var e=T,t=e.lib.WordArray;e.enc.Base64={stringify:function(o){var h=o.words,_=o.sigBytes,F=this._map;o.clamp(),o=[];for(var j=0;j<_;j+=3)for(var N=(h[j>>>2]>>>24-j%4*8&255)<<16|(h[j+1>>>2]>>>24-(j+1)%4*8&255)<<8|h[j+2>>>2]>>>24-(j+2)%4*8&255,U=0;4>U&&j+.75*U<_;U++)o.push(F.charAt(N>>>6*(3-U)&63));if(h=F.charAt(64))for(;o.length%4;)o.push(h);return o.join("")},parse:function(o){var h=o.length,_=this._map;(F=_.charAt(64))&&(F=o.indexOf(F))!=-1&&(h=F);for(var F=[],j=0,N=0;N<h;N++)if(N%4){var U=_.indexOf(o.charAt(N-1))<<N%4*2,B=_.indexOf(o.charAt(N))>>>6-N%4*2;F[j>>>2]|=(U|B)<<24-j%4*8,j++}return t.create(F,j)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=T,r=(h=t.lib).WordArray,o=h.Hasher,h=t.algo,_=[],F=[],j=function(et){return 4294967296*(et-(0|et))|0},N=2,U=0;64>U;){var B;t:{B=N;for(var K=e.sqrt(B),J=2;J<=K;J++)if(!(B%J)){B=!1;break t}B=!0}B&&(8>U&&(_[U]=j(e.pow(N,.5))),F[U]=j(e.pow(N,1/3)),U++),N++}var G=[];h=h.SHA256=o.extend({_doReset:function(){this._hash=new r.init(_.slice(0))},_doProcessBlock:function(et,nt){for(var x=this._hash.words,V=x[0],W=x[1],z=x[2],tt=x[3],it=x[4],_t=x[5],ut=x[6],Ut=x[7],mt=0;64>mt;mt++){if(16>mt)G[mt]=0|et[nt+mt];else{var xt=G[mt-15],Gt=G[mt-2];G[mt]=((xt<<25|xt>>>7)^(xt<<14|xt>>>18)^xt>>>3)+G[mt-7]+((Gt<<15|Gt>>>17)^(Gt<<13|Gt>>>19)^Gt>>>10)+G[mt-16]}xt=Ut+((it<<26|it>>>6)^(it<<21|it>>>11)^(it<<7|it>>>25))+(it&_t^~it&ut)+F[mt]+G[mt],Gt=((V<<30|V>>>2)^(V<<19|V>>>13)^(V<<10|V>>>22))+(V&W^V&z^W&z),Ut=ut,ut=_t,_t=it,it=tt+xt|0,tt=z,z=W,W=V,V=xt+Gt|0}x[0]=x[0]+V|0,x[1]=x[1]+W|0,x[2]=x[2]+z|0,x[3]=x[3]+tt|0,x[4]=x[4]+it|0,x[5]=x[5]+_t|0,x[6]=x[6]+ut|0,x[7]=x[7]+Ut|0},_doFinalize:function(){var et=this._data,nt=et.words,x=8*this._nDataBytes,V=8*et.sigBytes;return nt[V>>>5]|=128<<24-V%32,nt[14+(V+64>>>9<<4)]=e.floor(x/4294967296),nt[15+(V+64>>>9<<4)]=x,et.sigBytes=4*nt.length,this._process(),this._hash},clone:function(){var et=o.clone.call(this);return et._hash=this._hash.clone(),et}}),t.SHA256=o._createHelper(h),t.HmacSHA256=o._createHmacHelper(h)}(Math),function(){function e(){return o.create.apply(o,arguments)}for(var t=T,r=t.lib.Hasher,o=(_=t.x64).Word,h=_.WordArray,_=t.algo,F=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],j=[],N=0;80>N;N++)j[N]=e();_=_.SHA512=r.extend({_doReset:function(){this._hash=new h.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(B,K){for(var J=(W=this._hash.words)[0],G=W[1],Z=W[2],et=W[3],nt=W[4],x=W[5],V=W[6],W=W[7],z=J.high,tt=J.low,it=G.high,_t=G.low,ut=Z.high,Ut=Z.low,mt=et.high,xt=et.low,Gt=nt.high,Qt=nt.low,Yt=x.high,we=x.low,pe=V.high,ye=V.low,ne=W.high,ae=W.low,he=z,_e=tt,gr=it,er=_t,pr=ut,rr=Ut,an=mt,vr=xt,Te=Gt,Pe=Qt,Tr=Yt,mr=we,Rr=pe,yr=ye,un=ne,_r=ae,Re=0;80>Re;Re++){var We=j[Re];if(16>Re)var De=We.high=0|B[K+2*Re],Zt=We.low=0|B[K+2*Re+1];else{De=((Zt=(De=j[Re-15]).high)>>>1|(Ue=De.low)<<31)^(Zt>>>8|Ue<<24)^Zt>>>7;var Ue=(Ue>>>1|Zt<<31)^(Ue>>>8|Zt<<24)^(Ue>>>7|Zt<<25),nr=((Zt=(nr=j[Re-2]).high)>>>19|(ue=nr.low)<<13)^(Zt<<3|ue>>>29)^Zt>>>6,ue=(ue>>>19|Zt<<13)^(ue<<3|Zt>>>29)^(ue>>>6|Zt<<26),cn=(Zt=j[Re-7]).high,Je=(ze=j[Re-16]).high,ze=ze.low;De=(De=(De=De+cn+((Zt=Ue+Zt.low)>>>0<Ue>>>0?1:0))+nr+((Zt=Zt+ue)>>>0<ue>>>0?1:0))+Je+((Zt=Zt+ze)>>>0<ze>>>0?1:0),We.high=De,We.low=Zt}cn=Te&Tr^~Te&Rr,ze=Pe&mr^~Pe&yr,We=he&gr^he&pr^gr&pr;var Ko=_e&er^_e&rr^er&rr,qo=(Ue=(he>>>28|_e<<4)^(he<<30|_e>>>2)^(he<<25|_e>>>7),nr=(_e>>>28|he<<4)^(_e<<30|he>>>2)^(_e<<25|he>>>7),(ue=F[Re]).high),Zn=ue.low;Je=un+((Te>>>14|Pe<<18)^(Te>>>18|Pe<<14)^(Te<<23|Pe>>>9))+((ue=_r+((Pe>>>14|Te<<18)^(Pe>>>18|Te<<14)^(Pe<<23|Te>>>9)))>>>0<_r>>>0?1:0),un=Rr,_r=yr,Rr=Tr,yr=mr,Tr=Te,mr=Pe,Te=an+(Je=(Je=(Je=Je+cn+((ue=ue+ze)>>>0<ze>>>0?1:0))+qo+((ue=ue+Zn)>>>0<Zn>>>0?1:0))+De+((ue=ue+Zt)>>>0<Zt>>>0?1:0))+((Pe=vr+ue|0)>>>0<vr>>>0?1:0)|0,an=pr,vr=rr,pr=gr,rr=er,gr=he,er=_e,he=Je+(We=Ue+We+((Zt=nr+Ko)>>>0<nr>>>0?1:0))+((_e=ue+Zt|0)>>>0<ue>>>0?1:0)|0}tt=J.low=tt+_e,J.high=z+he+(tt>>>0<_e>>>0?1:0),_t=G.low=_t+er,G.high=it+gr+(_t>>>0<er>>>0?1:0),Ut=Z.low=Ut+rr,Z.high=ut+pr+(Ut>>>0<rr>>>0?1:0),xt=et.low=xt+vr,et.high=mt+an+(xt>>>0<vr>>>0?1:0),Qt=nt.low=Qt+Pe,nt.high=Gt+Te+(Qt>>>0<Pe>>>0?1:0),we=x.low=we+mr,x.high=Yt+Tr+(we>>>0<mr>>>0?1:0),ye=V.low=ye+yr,V.high=pe+Rr+(ye>>>0<yr>>>0?1:0),ae=W.low=ae+_r,W.high=ne+un+(ae>>>0<_r>>>0?1:0)},_doFinalize:function(){var B=this._data,K=B.words,J=8*this._nDataBytes,G=8*B.sigBytes;return K[G>>>5]|=128<<24-G%32,K[30+(G+128>>>10<<5)]=Math.floor(J/4294967296),K[31+(G+128>>>10<<5)]=J,B.sigBytes=4*K.length,this._process(),this._hash.toX32()},clone:function(){var B=r.clone.call(this);return B._hash=this._hash.clone(),B},blockSize:32}),t.SHA512=r._createHelper(_),t.HmacSHA512=r._createHmacHelper(_)}(),function(){var e=T,t=(h=e.x64).Word,r=h.WordArray,o=(h=e.algo).SHA512,h=h.SHA384=o.extend({_doReset:function(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var F=o._doFinalize.call(this);return F.sigBytes-=16,F}});e.SHA384=o._createHelper(h),e.HmacSHA384=o._createHmacHelper(h)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var I,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function X(e){var t,r,o="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),o+=L.charAt(r>>6)+L.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),o+=L.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),o+=L.charAt(r>>2)+L.charAt((3&r)<<4)),"=";(3&o.length)>0;)o+="=";return o}function Q(e){var t,r,o,h="",_=0;for(t=0;t<e.length&&e.charAt(t)!="=";++t)(o=L.indexOf(e.charAt(t)))<0||(_==0?(h+=pt(o>>2),r=3&o,_=1):_==1?(h+=pt(r<<2|o>>4),r=15&o,_=2):_==2?(h+=pt(r),h+=pt(o>>2),r=3&o,_=3):(h+=pt(r<<2|o>>4),h+=pt(15&o),_=0));return _==1&&(h+=pt(r<<2)),h}function rt(e){var t,r=Q(e),o=new Array;for(t=0;2*t<r.length;++t)o[t]=parseInt(r.substring(2*t,2*t+2),16);return o}function M(e,t,r){e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}function ot(){return new M(null)}v.appName=="Microsoft Internet Explorer"?(M.prototype.am=function(t,r,o,h,_,F){for(var j=32767&r,N=r>>15;--F>=0;){var U=32767&this[t],B=this[t++]>>15,K=N*U+B*j;_=((U=j*U+((32767&K)<<15)+o[h]+(1073741823&_))>>>30)+(K>>>15)+N*B+(_>>>30),o[h++]=1073741823&U}return _},I=30):v.appName!="Netscape"?(M.prototype.am=function(t,r,o,h,_,F){for(;--F>=0;){var j=r*this[t++]+o[h]+_;_=Math.floor(j/67108864),o[h++]=67108863&j}return _},I=26):(M.prototype.am=function(t,r,o,h,_,F){for(var j=16383&r,N=r>>14;--F>=0;){var U=16383&this[t],B=this[t++]>>14,K=N*U+B*j;_=((U=j*U+((16383&K)<<14)+o[h]+_)>>28)+(K>>14)+N*B,o[h++]=268435455&U}return _},I=28),M.prototype.DB=I,M.prototype.DM=(1<<I)-1,M.prototype.DV=1<<I,M.prototype.FV=Math.pow(2,52),M.prototype.F1=52-I,M.prototype.F2=2*I-52;var ct,bt,kt=new Array;for(ct=48,bt=0;bt<=9;++bt)kt[ct++]=bt;for(ct=97,bt=10;bt<36;++bt)kt[ct++]=bt;for(ct=65,bt=10;bt<36;++bt)kt[ct++]=bt;function pt(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function wt(e,t){var r=kt[e.charCodeAt(t)];return r??-1}function yt(e){var t=ot();return t.fromInt(e),t}function Ct(e){var t,r=1;return(t=e>>>16)!=0&&(e=t,r+=16),(t=e>>8)!=0&&(e=t,r+=8),(t=e>>4)!=0&&(e=t,r+=4),(t=e>>2)!=0&&(e=t,r+=2),(t=e>>1)!=0&&(e=t,r+=1),r}function Tt(e){this.m=e}function jt(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Ot(e,t){return e&t}function Mt(e,t){return e|t}function Jt(e,t){return e^t}function ee(e,t){return e&~t}function $t(e){if(e==0)return-1;var t=0;return!(65535&e)&&(e>>=16,t+=16),!(255&e)&&(e>>=8,t+=8),!(15&e)&&(e>>=4,t+=4),!(3&e)&&(e>>=2,t+=2),!(1&e)&&++t,t}function lt(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function Et(){}function St(e){return e}function Rt(e){this.r2=ot(),this.q3=ot(),M.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}Tt.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},Tt.prototype.revert=function(t){return t},Tt.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},Tt.prototype.mulTo=function(t,r,o){t.multiplyTo(r,o),this.reduce(o)},Tt.prototype.sqrTo=function(t,r){t.squareTo(r),this.reduce(r)},jt.prototype.convert=function(t){var r=ot();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s<0&&r.compareTo(M.ZERO)>0&&this.m.subTo(r,r),r},jt.prototype.revert=function(t){var r=ot();return t.copyTo(r),this.reduce(r),r},jt.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var r=0;r<this.m.t;++r){var o=32767&t[r],h=o*this.mpl+((o*this.mph+(t[r]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[o=r+this.m.t]+=this.m.am(0,h,t,r,0,this.m.t);t[o]>=t.DV;)t[o]-=t.DV,t[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},jt.prototype.mulTo=function(t,r,o){t.multiplyTo(r,o),this.reduce(o)},jt.prototype.sqrTo=function(t,r){t.squareTo(r),this.reduce(r)},M.prototype.copyTo=function(t){for(var r=this.t-1;r>=0;--r)t[r]=this[r];t.t=this.t,t.s=this.s},M.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},M.prototype.fromString=function(t,r){var o;if(r==16)o=4;else if(r==8)o=3;else if(r==256)o=8;else if(r==2)o=1;else if(r==32)o=5;else{if(r!=4)return void this.fromRadix(t,r);o=2}this.t=0,this.s=0;for(var h=t.length,_=!1,F=0;--h>=0;){var j=o==8?255&t[h]:wt(t,h);j<0?t.charAt(h)=="-"&&(_=!0):(_=!1,F==0?this[this.t++]=j:F+o>this.DB?(this[this.t-1]|=(j&(1<<this.DB-F)-1)<<F,this[this.t++]=j>>this.DB-F):this[this.t-1]|=j<<F,(F+=o)>=this.DB&&(F-=this.DB))}o==8&&128&t[0]&&(this.s=-1,F>0&&(this[this.t-1]|=(1<<this.DB-F)-1<<F)),this.clamp(),_&&M.ZERO.subTo(this,this)},M.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},M.prototype.dlShiftTo=function(t,r){var o;for(o=this.t-1;o>=0;--o)r[o+t]=this[o];for(o=t-1;o>=0;--o)r[o]=0;r.t=this.t+t,r.s=this.s},M.prototype.drShiftTo=function(t,r){for(var o=t;o<this.t;++o)r[o-t]=this[o];r.t=Math.max(this.t-t,0),r.s=this.s},M.prototype.lShiftTo=function(t,r){var o,h=t%this.DB,_=this.DB-h,F=(1<<_)-1,j=Math.floor(t/this.DB),N=this.s<<h&this.DM;for(o=this.t-1;o>=0;--o)r[o+j+1]=this[o]>>_|N,N=(this[o]&F)<<h;for(o=j-1;o>=0;--o)r[o]=0;r[j]=N,r.t=this.t+j+1,r.s=this.s,r.clamp()},M.prototype.rShiftTo=function(t,r){r.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)r.t=0;else{var h=t%this.DB,_=this.DB-h,F=(1<<h)-1;r[0]=this[o]>>h;for(var j=o+1;j<this.t;++j)r[j-o-1]|=(this[j]&F)<<_,r[j-o]=this[j]>>h;h>0&&(r[this.t-o-1]|=(this.s&F)<<_),r.t=this.t-o,r.clamp()}},M.prototype.subTo=function(t,r){for(var o=0,h=0,_=Math.min(t.t,this.t);o<_;)h+=this[o]-t[o],r[o++]=h&this.DM,h>>=this.DB;if(t.t<this.t){for(h-=t.s;o<this.t;)h+=this[o],r[o++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;o<t.t;)h-=t[o],r[o++]=h&this.DM,h>>=this.DB;h-=t.s}r.s=h<0?-1:0,h<-1?r[o++]=this.DV+h:h>0&&(r[o++]=h),r.t=o,r.clamp()},M.prototype.multiplyTo=function(t,r){var o=this.abs(),h=t.abs(),_=o.t;for(r.t=_+h.t;--_>=0;)r[_]=0;for(_=0;_<h.t;++_)r[_+o.t]=o.am(0,h[_],r,_,0,o.t);r.s=0,r.clamp(),this.s!=t.s&&M.ZERO.subTo(r,r)},M.prototype.squareTo=function(t){for(var r=this.abs(),o=t.t=2*r.t;--o>=0;)t[o]=0;for(o=0;o<r.t-1;++o){var h=r.am(o,r[o],t,2*o,0,1);(t[o+r.t]+=r.am(o+1,2*r[o],t,2*o+1,h,r.t-o-1))>=r.DV&&(t[o+r.t]-=r.DV,t[o+r.t+1]=1)}t.t>0&&(t[t.t-1]+=r.am(o,r[o],t,2*o,0,1)),t.s=0,t.clamp()},M.prototype.divRemTo=function(t,r,o){var h=t.abs();if(!(h.t<=0)){var _=this.abs();if(_.t<h.t)return r!=null&&r.fromInt(0),void(o!=null&&this.copyTo(o));o==null&&(o=ot());var F=ot(),j=this.s,N=t.s,U=this.DB-Ct(h[h.t-1]);U>0?(h.lShiftTo(U,F),_.lShiftTo(U,o)):(h.copyTo(F),_.copyTo(o));var B=F.t,K=F[B-1];if(K!=0){var J=K*(1<<this.F1)+(B>1?F[B-2]>>this.F2:0),G=this.FV/J,Z=(1<<this.F1)/J,et=1<<this.F2,nt=o.t,x=nt-B,V=r??ot();for(F.dlShiftTo(x,V),o.compareTo(V)>=0&&(o[o.t++]=1,o.subTo(V,o)),M.ONE.dlShiftTo(B,V),V.subTo(F,F);F.t<B;)F[F.t++]=0;for(;--x>=0;){var W=o[--nt]==K?this.DM:Math.floor(o[nt]*G+(o[nt-1]+et)*Z);if((o[nt]+=F.am(0,W,o,x,0,B))<W)for(F.dlShiftTo(x,V),o.subTo(V,o);o[nt]<--W;)o.subTo(V,o)}r!=null&&(o.drShiftTo(B,r),j!=N&&M.ZERO.subTo(r,r)),o.t=B,o.clamp(),U>0&&o.rShiftTo(U,o),j<0&&M.ZERO.subTo(o,o)}}},M.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(!(1&t))return 0;var r=3&t;return(r=(r=(r=(r=r*(2-(15&t)*r)&15)*(2-(255&t)*r)&255)*(2-((65535&t)*r&65535))&65535)*(2-t*r%this.DV)%this.DV)>0?this.DV-r:-r},M.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},M.prototype.exp=function(t,r){if(t>4294967295||t<1)return M.ONE;var o=ot(),h=ot(),_=r.convert(this),F=Ct(t)-1;for(_.copyTo(o);--F>=0;)if(r.sqrTo(o,h),(t&1<<F)>0)r.mulTo(h,_,o);else{var j=o;o=h,h=j}return r.revert(o)},M.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else{if(t!=4)return this.toRadix(t);r=2}var o,h=(1<<r)-1,_=!1,F="",j=this.t,N=this.DB-j*this.DB%r;if(j-- >0)for(N<this.DB&&(o=this[j]>>N)>0&&(_=!0,F=pt(o));j>=0;)N<r?(o=(this[j]&(1<<N)-1)<<r-N,o|=this[--j]>>(N+=this.DB-r)):(o=this[j]>>(N-=r)&h,N<=0&&(N+=this.DB,--j)),o>0&&(_=!0),_&&(F+=pt(o));return _?F:"0"},M.prototype.negate=function(){var t=ot();return M.ZERO.subTo(this,t),t},M.prototype.abs=function(){return this.s<0?this.negate():this},M.prototype.compareTo=function(t){var r=this.s-t.s;if(r!=0)return r;var o=this.t;if((r=o-t.t)!=0)return this.s<0?-r:r;for(;--o>=0;)if((r=this[o]-t[o])!=0)return r;return 0},M.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Ct(this[this.t-1]^this.s&this.DM)},M.prototype.mod=function(t){var r=ot();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(M.ZERO)>0&&t.subTo(r,r),r},M.prototype.modPowInt=function(t,r){var o;return o=t<256||r.isEven()?new Tt(r):new jt(r),this.exp(t,o)},M.ZERO=yt(0),M.ONE=yt(1),Et.prototype.convert=St,Et.prototype.revert=St,Et.prototype.mulTo=function(t,r,o){t.multiplyTo(r,o)},Et.prototype.sqrTo=function(t,r){t.squareTo(r)},Rt.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=ot();return t.copyTo(r),this.reduce(r),r},Rt.prototype.revert=function(t){return t},Rt.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},Rt.prototype.mulTo=function(t,r,o){t.multiplyTo(r,o),this.reduce(o)},Rt.prototype.sqrTo=function(t,r){t.squareTo(r),this.reduce(r)};var q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],b=(1<<26)/q[q.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function m(){this.i=0,this.j=0,this.S=new Array}M.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},M.prototype.toRadix=function(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var r=this.chunkSize(t),o=Math.pow(t,r),h=yt(o),_=ot(),F=ot(),j="";for(this.divRemTo(h,_,F);_.signum()>0;)j=(o+F.intValue()).toString(t).substr(1)+j,_.divRemTo(h,_,F);return F.intValue().toString(t)+j},M.prototype.fromRadix=function(t,r){this.fromInt(0),r==null&&(r=10);for(var o=this.chunkSize(r),h=Math.pow(r,o),_=!1,F=0,j=0,N=0;N<t.length;++N){var U=wt(t,N);U<0?t.charAt(N)=="-"&&this.signum()==0&&(_=!0):(j=r*j+U,++F>=o&&(this.dMultiply(h),this.dAddOffset(j,0),F=0,j=0))}F>0&&(this.dMultiply(Math.pow(r,F)),this.dAddOffset(j,0)),_&&M.ZERO.subTo(this,this)},M.prototype.fromNumber=function(t,r,o){if(typeof r=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(M.ONE.shiftLeft(t-1),Mt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(M.ONE.shiftLeft(t-1),this);else{var h=new Array,_=7&t;h.length=1+(t>>3),r.nextBytes(h),_>0?h[0]&=(1<<_)-1:h[0]=0,this.fromString(h,256)}},M.prototype.bitwiseTo=function(t,r,o){var h,_,F=Math.min(t.t,this.t);for(h=0;h<F;++h)o[h]=r(this[h],t[h]);if(t.t<this.t){for(_=t.s&this.DM,h=F;h<this.t;++h)o[h]=r(this[h],_);o.t=this.t}else{for(_=this.s&this.DM,h=F;h<t.t;++h)o[h]=r(_,t[h]);o.t=t.t}o.s=r(this.s,t.s),o.clamp()},M.prototype.changeBit=function(t,r){var o=M.ONE.shiftLeft(t);return this.bitwiseTo(o,r,o),o},M.prototype.addTo=function(t,r){for(var o=0,h=0,_=Math.min(t.t,this.t);o<_;)h+=this[o]+t[o],r[o++]=h&this.DM,h>>=this.DB;if(t.t<this.t){for(h+=t.s;o<this.t;)h+=this[o],r[o++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;o<t.t;)h+=t[o],r[o++]=h&this.DM,h>>=this.DB;h+=t.s}r.s=h<0?-1:0,h>0?r[o++]=h:h<-1&&(r[o++]=this.DV+h),r.t=o,r.clamp()},M.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},M.prototype.dAddOffset=function(t,r){if(t!=0){for(;this.t<=r;)this[this.t++]=0;for(this[r]+=t;this[r]>=this.DV;)this[r]-=this.DV,++r>=this.t&&(this[this.t++]=0),++this[r]}},M.prototype.multiplyLowerTo=function(t,r,o){var h,_=Math.min(this.t+t.t,r);for(o.s=0,o.t=_;_>0;)o[--_]=0;for(h=o.t-this.t;_<h;++_)o[_+this.t]=this.am(0,t[_],o,_,0,this.t);for(h=Math.min(t.t,r);_<h;++_)this.am(0,t[_],o,_,0,r-_);o.clamp()},M.prototype.multiplyUpperTo=function(t,r,o){--r;var h=o.t=this.t+t.t-r;for(o.s=0;--h>=0;)o[h]=0;for(h=Math.max(r-this.t,0);h<t.t;++h)o[this.t+h-r]=this.am(r-h,t[h],o,0,0,this.t+h-r);o.clamp(),o.drShiftTo(1,o)},M.prototype.modInt=function(t){if(t<=0)return 0;var r=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(r==0)o=this[0]%t;else for(var h=this.t-1;h>=0;--h)o=(r*o+this[h])%t;return o},M.prototype.millerRabin=function(t){var r=this.subtract(M.ONE),o=r.getLowestSetBit();if(o<=0)return!1;var h=r.shiftRight(o);(t=t+1>>1)>q.length&&(t=q.length);for(var _=ot(),F=0;F<t;++F){_.fromInt(q[Math.floor(Math.random()*q.length)]);var j=_.modPow(h,this);if(j.compareTo(M.ONE)!=0&&j.compareTo(r)!=0){for(var N=1;N++<o&&j.compareTo(r)!=0;)if((j=j.modPowInt(2,this)).compareTo(M.ONE)==0)return!1;if(j.compareTo(r)!=0)return!1}}return!0},M.prototype.clone=function(){var t=ot();return this.copyTo(t),t},M.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},M.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},M.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},M.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},M.prototype.toByteArray=function(){var t=this.t,r=new Array;r[0]=this.s;var o,h=this.DB-t*this.DB%8,_=0;if(t-- >0)for(h<this.DB&&(o=this[t]>>h)!=(this.s&this.DM)>>h&&(r[_++]=o|this.s<<this.DB-h);t>=0;)h<8?(o=(this[t]&(1<<h)-1)<<8-h,o|=this[--t]>>(h+=this.DB-8)):(o=this[t]>>(h-=8)&255,h<=0&&(h+=this.DB,--t)),128&o&&(o|=-256),_==0&&(128&this.s)!=(128&o)&&++_,(_>0||o!=this.s)&&(r[_++]=o);return r},M.prototype.equals=function(t){return this.compareTo(t)==0},M.prototype.min=function(t){return this.compareTo(t)<0?this:t},M.prototype.max=function(t){return this.compareTo(t)>0?this:t},M.prototype.and=function(t){var r=ot();return this.bitwiseTo(t,Ot,r),r},M.prototype.or=function(t){var r=ot();return this.bitwiseTo(t,Mt,r),r},M.prototype.xor=function(t){var r=ot();return this.bitwiseTo(t,Jt,r),r},M.prototype.andNot=function(t){var r=ot();return this.bitwiseTo(t,ee,r),r},M.prototype.not=function(){for(var t=ot(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t},M.prototype.shiftLeft=function(t){var r=ot();return t<0?this.rShiftTo(-t,r):this.lShiftTo(t,r),r},M.prototype.shiftRight=function(t){var r=ot();return t<0?this.lShiftTo(-t,r):this.rShiftTo(t,r),r},M.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+$t(this[t]);return this.s<0?this.t*this.DB:-1},M.prototype.bitCount=function(){for(var t=0,r=this.s&this.DM,o=0;o<this.t;++o)t+=lt(this[o]^r);return t},M.prototype.testBit=function(t){var r=Math.floor(t/this.DB);return r>=this.t?this.s!=0:(this[r]&1<<t%this.DB)!=0},M.prototype.setBit=function(t){return this.changeBit(t,Mt)},M.prototype.clearBit=function(t){return this.changeBit(t,ee)},M.prototype.flipBit=function(t){return this.changeBit(t,Jt)},M.prototype.add=function(t){var r=ot();return this.addTo(t,r),r},M.prototype.subtract=function(t){var r=ot();return this.subTo(t,r),r},M.prototype.multiply=function(t){var r=ot();return this.multiplyTo(t,r),r},M.prototype.divide=function(t){var r=ot();return this.divRemTo(t,r,null),r},M.prototype.remainder=function(t){var r=ot();return this.divRemTo(t,null,r),r},M.prototype.divideAndRemainder=function(t){var r=ot(),o=ot();return this.divRemTo(t,r,o),new Array(r,o)},M.prototype.modPow=function(t,r){var o,h,_=t.bitLength(),F=yt(1);if(_<=0)return F;o=_<18?1:_<48?3:_<144?4:_<768?5:6,h=_<8?new Tt(r):r.isEven()?new Rt(r):new jt(r);var j=new Array,N=3,U=o-1,B=(1<<o)-1;if(j[1]=h.convert(this),o>1){var K=ot();for(h.sqrTo(j[1],K);N<=B;)j[N]=ot(),h.mulTo(K,j[N-2],j[N]),N+=2}var J,G,Z=t.t-1,et=!0,nt=ot();for(_=Ct(t[Z])-1;Z>=0;){for(_>=U?J=t[Z]>>_-U&B:(J=(t[Z]&(1<<_+1)-1)<<U-_,Z>0&&(J|=t[Z-1]>>this.DB+_-U)),N=o;!(1&J);)J>>=1,--N;if((_-=N)<0&&(_+=this.DB,--Z),et)j[J].copyTo(F),et=!1;else{for(;N>1;)h.sqrTo(F,nt),h.sqrTo(nt,F),N-=2;N>0?h.sqrTo(F,nt):(G=F,F=nt,nt=G),h.mulTo(nt,j[J],F)}for(;Z>=0&&!(t[Z]&1<<_);)h.sqrTo(F,nt),G=F,F=nt,nt=G,--_<0&&(_=this.DB-1,--Z)}return h.revert(F)},M.prototype.modInverse=function(t){var r=t.isEven();if(this.isEven()&&r||t.signum()==0)return M.ZERO;for(var o=t.clone(),h=this.clone(),_=yt(1),F=yt(0),j=yt(0),N=yt(1);o.signum()!=0;){for(;o.isEven();)o.rShiftTo(1,o),r?(_.isEven()&&F.isEven()||(_.addTo(this,_),F.subTo(t,F)),_.rShiftTo(1,_)):F.isEven()||F.subTo(t,F),F.rShiftTo(1,F);for(;h.isEven();)h.rShiftTo(1,h),r?(j.isEven()&&N.isEven()||(j.addTo(this,j),N.subTo(t,N)),j.rShiftTo(1,j)):N.isEven()||N.subTo(t,N),N.rShiftTo(1,N);o.compareTo(h)>=0?(o.subTo(h,o),r&&_.subTo(j,_),F.subTo(N,F)):(h.subTo(o,h),r&&j.subTo(_,j),N.subTo(F,N))}return h.compareTo(M.ONE)!=0?M.ZERO:N.compareTo(t)>=0?N.subtract(t):N.signum()<0?(N.addTo(t,N),N.signum()<0?N.add(t):N):N},M.prototype.pow=function(t){return this.exp(t,new Et)},M.prototype.gcd=function(t){var r=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(r.compareTo(o)<0){var h=r;r=o,o=h}var _=r.getLowestSetBit(),F=o.getLowestSetBit();if(F<0)return r;for(_<F&&(F=_),F>0&&(r.rShiftTo(F,r),o.rShiftTo(F,o));r.signum()>0;)(_=r.getLowestSetBit())>0&&r.rShiftTo(_,r),(_=o.getLowestSetBit())>0&&o.rShiftTo(_,o),r.compareTo(o)>=0?(r.subTo(o,r),r.rShiftTo(1,r)):(o.subTo(r,o),o.rShiftTo(1,o));return F>0&&o.lShiftTo(F,o),o},M.prototype.isProbablePrime=function(t){var r,o=this.abs();if(o.t==1&&o[0]<=q[q.length-1]){for(r=0;r<q.length;++r)if(o[0]==q[r])return!0;return!1}if(o.isEven())return!1;for(r=1;r<q.length;){for(var h=q[r],_=r+1;_<q.length&&h<b;)h*=q[_++];for(h=o.modInt(h);r<_;)if(h%q[r++]==0)return!1}return o.millerRabin(t)},M.prototype.square=function(){var t=ot();return this.squareTo(t),t},m.prototype.init=function(t){var r,o,h;for(r=0;r<256;++r)this.S[r]=r;for(o=0,r=0;r<256;++r)o=o+this.S[r]+t[r%t.length]&255,h=this.S[r],this.S[r]=this.S[o],this.S[o]=h;this.i=0,this.j=0},m.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var A,D,$;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Y(){(function(t){D[$++]^=255&t,D[$++]^=t>>8&255,D[$++]^=t>>16&255,D[$++]^=t>>24&255,$>=256&&($-=256)})(new Date().getTime())}if(D==null){var at;if(D=new Array,$=0,g!==void 0&&(g.crypto!==void 0||g.msCrypto!==void 0)){var ft=g.crypto||g.msCrypto;if(ft.getRandomValues){var gt=new Uint8Array(32);for(ft.getRandomValues(gt),at=0;at<32;++at)D[$++]=gt[at]}else if(v.appName=="Netscape"&&v.appVersion<"5"){var dt=g.crypto.random(32);for(at=0;at<dt.length;++at)D[$++]=255&dt.charCodeAt(at)}}for(;$<256;)at=Math.floor(65536*Math.random()),D[$++]=at>>>8,D[$++]=255&at;$=0,Y()}function vt(){if(A==null){for(Y(),(A=function(){return new m}()).init(D),$=0;$<D.length;++$)D[$]=0;$=0}return A.next()}function At(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Lt(e,t){return new M(e,t)}function Nt(e,t,r){for(var o="",h=0;o.length<t;)o+=r(String.fromCharCode.apply(String,e.concat([(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h]))),h+=1;return o}function ht(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function It(e,t){this.x=t,this.q=e}function Pt(e,t,r,o){this.curve=e,this.x=t,this.y=r,this.z=o??M.ONE,this.zinv=null}function Xt(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new Pt(this,null,null)}At.prototype.nextBytes=function(t){var r;for(r=0;r<t.length;++r)t[r]=vt()},ht.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},ht.prototype.setPublic=function(t,r){if(this.isPublic=!0,this.isPrivate=!1,typeof t!="string")this.n=t,this.e=r;else{if(!(t!=null&&r!=null&&t.length>0&&r.length>0))throw"Invalid RSA public key";this.n=Lt(t,16),this.e=parseInt(r,16)}},ht.prototype.encrypt=function(t){var r=function(F,j){if(j<F.length+11)throw"Message too long for RSA";for(var N=new Array,U=F.length-1;U>=0&&j>0;){var B=F.charCodeAt(U--);B<128?N[--j]=B:B>127&&B<2048?(N[--j]=63&B|128,N[--j]=B>>6|192):(N[--j]=63&B|128,N[--j]=B>>6&63|128,N[--j]=B>>12|224)}N[--j]=0;for(var K=new At,J=new Array;j>2;){for(J[0]=0;J[0]==0;)K.nextBytes(J);N[--j]=J[0]}return N[--j]=2,N[--j]=0,new M(N)}(t,this.n.bitLength()+7>>3);if(r==null)return null;var o=this.doPublic(r);if(o==null)return null;var h=o.toString(16);return 1&h.length?"0"+h:h},ht.prototype.encryptOAEP=function(t,r,o){var h=function(N,U,B,K){var J=O.crypto.MessageDigest,G=O.crypto.Util,Z=null;if(B||(B="sha1"),typeof B=="string"&&(Z=J.getCanonicalAlgName(B),K=J.getHashLength(Z),B=function(ut){return le(G.hashHex(be(ut),Z))}),N.length+2*K+2>U)throw"Message too long for RSA";var et,nt="";for(et=0;et<U-N.length-2*K-2;et+=1)nt+="\0";var x=B("")+nt+""+N,V=new Array(K);new At().nextBytes(V);var W=Nt(V,x.length,B),z=[];for(et=0;et<x.length;et+=1)z[et]=x.charCodeAt(et)^W.charCodeAt(et);var tt=Nt(z,V.length,B),it=[0];for(et=0;et<V.length;et+=1)it[et+1]=V[et]^tt.charCodeAt(et);return new M(it.concat(z))}(t,this.n.bitLength()+7>>3,r,o);if(h==null)return null;var _=this.doPublic(h);if(_==null)return null;var F=_.toString(16);return 1&F.length?"0"+F:F},ht.prototype.type="RSA",It.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},It.prototype.toBigInteger=function(){return this.x},It.prototype.negate=function(){return new It(this.q,this.x.negate().mod(this.q))},It.prototype.add=function(t){return new It(this.q,this.x.add(t.toBigInteger()).mod(this.q))},It.prototype.subtract=function(t){return new It(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},It.prototype.multiply=function(t){return new It(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},It.prototype.square=function(){return new It(this.q,this.x.square().mod(this.q))},It.prototype.divide=function(t){return new It(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},Pt.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Pt.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Pt.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(M.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(M.ZERO))},Pt.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(M.ZERO)&&!this.y.toBigInteger().equals(M.ZERO)},Pt.prototype.negate=function(){return new Pt(this.curve,this.x,this.y.negate(),this.z)},Pt.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),o=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(M.ZERO.equals(o))return M.ZERO.equals(r)?this.twice():this.curve.getInfinity();var h=new M("3"),_=this.x.toBigInteger(),F=this.y.toBigInteger(),j=(t.x.toBigInteger(),t.y.toBigInteger(),o.square()),N=j.multiply(o),U=_.multiply(j),B=r.square().multiply(this.z),K=B.subtract(U.shiftLeft(1)).multiply(t.z).subtract(N).multiply(o).mod(this.curve.q),J=U.multiply(h).multiply(r).subtract(F.multiply(N)).subtract(B.multiply(r)).multiply(t.z).add(r.multiply(N)).mod(this.curve.q),G=N.multiply(this.z).multiply(t.z).mod(this.curve.q);return new Pt(this.curve,this.curve.fromBigInteger(K),this.curve.fromBigInteger(J),G)},Pt.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var t=new M("3"),r=this.x.toBigInteger(),o=this.y.toBigInteger(),h=o.multiply(this.z),_=h.multiply(o).mod(this.curve.q),F=this.curve.a.toBigInteger(),j=r.square().multiply(t);M.ZERO.equals(F)||(j=j.add(this.z.square().multiply(F)));var N=(j=j.mod(this.curve.q)).square().subtract(r.shiftLeft(3).multiply(_)).shiftLeft(1).multiply(h).mod(this.curve.q),U=j.multiply(t).multiply(r).subtract(_.shiftLeft(1)).shiftLeft(2).multiply(_).subtract(j.square().multiply(j)).mod(this.curve.q),B=h.square().multiply(h).shiftLeft(3).mod(this.curve.q);return new Pt(this.curve,this.curve.fromBigInteger(N),this.curve.fromBigInteger(U),B)},Pt.prototype.multiply=function(t){if(this.isInfinity())return this;if(t.signum()==0)return this.curve.getInfinity();var r,o=t,h=o.multiply(new M("3")),_=this.negate(),F=this,j=this.curve.q.subtract(t),N=j.multiply(new M("3")),U=new Pt(this.curve,this.x,this.y),B=U.negate();for(r=h.bitLength()-2;r>0;--r){F=F.twice();var K=h.testBit(r);K!=o.testBit(r)&&(F=F.add(K?this:_))}for(r=N.bitLength()-2;r>0;--r){U=U.twice();var J=N.testBit(r);J!=j.testBit(r)&&(U=U.add(J?U:B))}return F},Pt.prototype.multiplyTwo=function(t,r,o){var h;h=t.bitLength()>o.bitLength()?t.bitLength()-1:o.bitLength()-1;for(var _=this.curve.getInfinity(),F=this.add(r);h>=0;)_=_.twice(),t.testBit(h)?_=o.testBit(h)?_.add(F):_.add(this):o.testBit(h)&&(_=_.add(r)),--h;return _},Xt.prototype.getQ=function(){return this.q},Xt.prototype.getA=function(){return this.a},Xt.prototype.getB=function(){return this.b},Xt.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},Xt.prototype.getInfinity=function(){return this.infinity},Xt.prototype.fromBigInteger=function(t){return new It(this.q,t)},Xt.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var r=(t.length-2)/2,o=t.substr(2,r),h=t.substr(r+2,r);return new Pt(this,this.fromBigInteger(new M(o,16)),this.fromBigInteger(new M(h,16)));default:return null}},It.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Pt.prototype.getEncoded=function(e){var t=function(F,j){var N=F.toByteArrayUnsigned();if(j<N.length)N=N.slice(N.length-j);else for(;j>N.length;)N.unshift(0);return N},r=this.getX().toBigInteger(),o=this.getY().toBigInteger(),h=t(r,32);return e?o.isEven()?h.unshift(2):h.unshift(3):(h.unshift(4),h=h.concat(t(o,32))),h},Pt.decodeFrom=function(e,t){t[0];var r=t.length-1,o=t.slice(1,1+r/2),h=t.slice(1+r/2,1+r);o.unshift(0),h.unshift(0);var _=new M(o),F=new M(h);return new Pt(e,e.fromBigInteger(_),e.fromBigInteger(F))},Pt.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,o=t.substr(2,r/2),h=t.substr(2+r/2,r/2),_=new M(o,16),F=new M(h,16);return new Pt(e,e.fromBigInteger(_),e.fromBigInteger(F))},Pt.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y).divide(t),o=r.square().subtract(this.x).subtract(e.x),h=r.multiply(this.x.subtract(o)).subtract(this.y);return new Pt(this.curve,o,h)},Pt.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var e=this.curve.fromBigInteger(M.valueOf(2)),t=this.curve.fromBigInteger(M.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),o=r.square().subtract(this.x.multiply(e)),h=r.multiply(this.x.subtract(o)).subtract(this.y);return new Pt(this.curve,o,h)},Pt.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(e.signum()==0)return this.curve.getInfinity();var t,r=e,o=r.multiply(new M("3")),h=this.negate(),_=this;for(t=o.bitLength()-2;t>0;--t){_=_.twice();var F=o.testBit(t);F!=r.testBit(t)&&(_=_.add2D(F?this:h))}return _},Pt.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),o=this.curve.getB().toBigInteger(),h=this.curve.getQ(),_=t.multiply(t).mod(h),F=e.multiply(e).multiply(e).add(r.multiply(e)).add(o).mod(h);return _.equals(F)},Pt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Pt.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(M.ONE)<0||t.compareTo(e.subtract(M.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(M.ONE)<0||r.compareTo(e.subtract(M.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var me=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function o(F,j,N){return j?r[j]:String.fromCharCode(parseInt(N,16))}var h=new String(""),_=Object.hasOwnProperty;return function(F,j){var N,U,B=F.match(e),K=B[0],J=!1;K==="{"?N={}:K==="["?N=[]:(N=[],J=!0);for(var G=[N],Z=1-J,et=B.length;Z<et;++Z){var nt;switch((K=B[Z]).charCodeAt(0)){default:(nt=G[0])[U||nt.length]=+K,U=void 0;break;case 34:if((K=K.substring(1,K.length-1)).indexOf("\\")!==-1&&(K=K.replace(t,o)),nt=G[0],!U){if(!(nt instanceof Array)){U=K||h;break}U=nt.length}nt[U]=K,U=void 0;break;case 91:nt=G[0],G.unshift(nt[U||nt.length]=[]),U=void 0;break;case 93:G.shift();break;case 102:(nt=G[0])[U||nt.length]=!1,U=void 0;break;case 110:(nt=G[0])[U||nt.length]=null,U=void 0;break;case 116:(nt=G[0])[U||nt.length]=!0,U=void 0;break;case 123:nt=G[0],G.unshift(nt[U||nt.length]={}),U=void 0;break;case 125:G.shift()}}if(J){if(G.length!==1)throw new Error;N=N[0]}else if(G.length)throw new Error;return j&&(N=function x(V,W){var z=V[W];if(z&&(z===void 0?"undefined":i(z))==="object"){var tt=null;for(var it in z)if(_.call(z,it)&&z!==V){var _t=x(z,it);_t!==void 0?z[it]=_t:(tt||(tt=[]),tt.push(it))}if(tt)for(var ut=tt.length;--ut>=0;)delete z[tt[ut]]}return j.call(V,W,z)}({"":N},"")),N}}();O!==void 0&&O||(a.KJUR=O={}),O.asn1!==void 0&&O.asn1||(O.asn1={}),O.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if(t.substr(0,1)!="-")t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var o="",h=0;h<r;h++)o+="f";t=new M(o,16).xor(e).add(M.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Se(e,t)},this.newObject=function(e){var t=O.asn1,r=t.ASN1Object,o=t.DERBoolean,h=t.DERInteger,_=t.DERBitString,F=t.DEROctetString,j=t.DERNull,N=t.DERObjectIdentifier,U=t.DEREnumerated,B=t.DERUTF8String,K=t.DERNumericString,J=t.DERPrintableString,G=t.DERTeletexString,Z=t.DERIA5String,et=t.DERUTCTime,nt=t.DERGeneralizedTime,x=t.DERVisibleString,V=t.DERBMPString,W=t.DERSequence,z=t.DERSet,tt=t.DERTaggedObject,it=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var _t=Object.keys(e);if(_t.length!=1)throw new Error("key of param shall be only one.");var ut=_t[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+ut+":")==-1)throw new Error("undefined key: "+ut);if(ut=="bool")return new o(e[ut]);if(ut=="int")return new h(e[ut]);if(ut=="bitstr")return new _(e[ut]);if(ut=="octstr")return new F(e[ut]);if(ut=="null")return new j(e[ut]);if(ut=="oid")return new N(e[ut]);if(ut=="enum")return new U(e[ut]);if(ut=="utf8str")return new B(e[ut]);if(ut=="numstr")return new K(e[ut]);if(ut=="prnstr")return new J(e[ut]);if(ut=="telstr")return new G(e[ut]);if(ut=="ia5str")return new Z(e[ut]);if(ut=="utctime")return new et(e[ut]);if(ut=="gentime")return new nt(e[ut]);if(ut=="visstr")return new x(e[ut]);if(ut=="bmpstr")return new V(e[ut]);if(ut=="asn1")return new r(e[ut]);if(ut=="seq"){for(var Ut=e[ut],mt=[],xt=0;xt<Ut.length;xt++){var Gt=it(Ut[xt]);mt.push(Gt)}return new W({array:mt})}if(ut=="set"){for(Ut=e[ut],mt=[],xt=0;xt<Ut.length;xt++)Gt=it(Ut[xt]),mt.push(Gt);return new z({array:mt})}if(ut=="tag"){var Qt=e[ut];if(Object.prototype.toString.call(Qt)==="[object Array]"&&Qt.length==3){var Yt=it(Qt[2]);return new tt({tag:Qt[0],explicit:Qt[1],obj:Yt})}return new tt(Qt)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},O.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),o=(t=Math.floor(r/40)+"."+r%40,""),h=2;h<e.length;h+=2){var _=("00000000"+parseInt(e.substr(h,2),16).toString(2)).slice(-8);o+=_.substr(1,7),_.substr(0,1)=="0"&&(t=t+"."+new M(o,2).toString(10),o="")}return t},O.asn1.ASN1Util.oidIntToHex=function(e){var t=function(N){var U=N.toString(16);return U.length==1&&(U="0"+U),U},r=function(N){var U="",B=new M(N,10).toString(2),K=7-B.length%7;K==7&&(K=0);for(var J="",G=0;G<K;G++)J+="0";for(B=J+B,G=0;G<B.length-1;G+=7){var Z=B.substr(G,7);G!=B.length-7&&(Z="1"+Z),U+=t(parseInt(Z,2))}return U};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var o="",h=e.split("."),_=40*parseInt(h[0])+parseInt(h[1]);o+=t(_),h.splice(0,2);for(var F=0;F<h.length;F++)o+=r(h[F]);return o},O.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var t=this.hV.length/2,r=t.toString(16);if(r.length%2==1&&(r="0"+r),t<128)return r;var o=r.length/2;if(o>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+o).toString(16)+r},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(t){this.params=t},e!=null&&e.tlv!=null&&(this.hTLV=e.tlv,this.isModified=!1)},O.asn1.DERAbstractString=function(e){O.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Oe(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},e!==void 0&&(typeof e=="string"?this.setString(e):e.str!==void 0?this.setString(e.str):e.hex!==void 0&&this.setStringHex(e.hex))},u.lang.extend(O.asn1.DERAbstractString,O.asn1.ASN1Object),O.asn1.DERAbstractTime=function(e){O.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){var r=t.getTime()+6e4*t.getTimezoneOffset();return new Date(r)},this.formatDate=function(t,r,o){var h=this.zeroPadding,_=this.localDateToUTC(t),F=String(_.getFullYear());r=="utc"&&(F=F.substr(2,2));var j=F+h(String(_.getMonth()+1),2)+h(String(_.getDate()),2)+h(String(_.getHours()),2)+h(String(_.getMinutes()),2)+h(String(_.getSeconds()),2);if(o===!0){var N=_.getMilliseconds();if(N!=0){var U=h(String(N),3);j=j+"."+(U=U.replace(/[0]+$/,""))}}return j+"Z"},this.zeroPadding=function(t,r){return t.length>=r?t:new Array(r-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Ft(t)},this.setByDateValue=function(t,r,o,h,_,F){var j=new Date(Date.UTC(t,r-1,o,h,_,F,0));this.setByDate(j)},this.getFreshValueHex=function(){return this.hV}},u.lang.extend(O.asn1.DERAbstractTime,O.asn1.ASN1Object),O.asn1.DERAbstractStructured=function(e){O.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,e!==void 0&&e.array!==void 0&&(this.asn1Array=e.array)},u.lang.extend(O.asn1.DERAbstractStructured,O.asn1.ASN1Object),O.asn1.DERBoolean=function(e){O.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=e==0?"010100":"0101ff"},u.lang.extend(O.asn1.DERBoolean,O.asn1.ASN1Object),O.asn1.DERInteger=function(e){O.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=O.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var r=new M(String(t),10);this.setByBigInteger(r)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},e!==void 0&&(e.bigint!==void 0?this.setByBigInteger(e.bigint):e.int!==void 0?this.setByInteger(e.int):typeof e=="number"?this.setByInteger(e):e.hex!==void 0&&this.setValueHex(e.hex))},u.lang.extend(O.asn1.DERInteger,O.asn1.ASN1Object),O.asn1.DERBitString=function(e){if(e!==void 0&&e.obj!==void 0){var t=O.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}O.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(r){this.hTLV=null,this.isModified=!0,this.hV=r},this.setUnusedBitsAndHexValue=function(r,o){if(r<0||7<r)throw"unused bits shall be from 0 to 7: u = "+r;var h="0"+r;this.hTLV=null,this.isModified=!0,this.hV=h+o},this.setByBinaryString=function(r){var o=8-(r=r.replace(/0+$/,"")).length%8;o==8&&(o=0);for(var h=0;h<=o;h++)r+="0";var _="";for(h=0;h<r.length-1;h+=8){var F=r.substr(h,8),j=parseInt(F,2).toString(16);j.length==1&&(j="0"+j),_+=j}this.hTLV=null,this.isModified=!0,this.hV="0"+o+_},this.setByBooleanArray=function(r){for(var o="",h=0;h<r.length;h++)r[h]==1?o+="1":o+="0";this.setByBinaryString(o)},this.newFalseArray=function(r){for(var o=new Array(r),h=0;h<r;h++)o[h]=!1;return o},this.getFreshValueHex=function(){return this.hV},e!==void 0&&(typeof e=="string"&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):e.hex!==void 0?this.setHexValueIncludingUnusedBits(e.hex):e.bin!==void 0?this.setByBinaryString(e.bin):e.array!==void 0&&this.setByBooleanArray(e.array))},u.lang.extend(O.asn1.DERBitString,O.asn1.ASN1Object),O.asn1.DEROctetString=function(e){if(e!==void 0&&e.obj!==void 0){var t=O.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}O.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},u.lang.extend(O.asn1.DEROctetString,O.asn1.DERAbstractString),O.asn1.DERNull=function(){O.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},u.lang.extend(O.asn1.DERNull,O.asn1.ASN1Object),O.asn1.DERObjectIdentifier=function(e){O.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var r=function(h){var _=function(J){var G=J.toString(16);return G.length==1&&(G="0"+G),G},F=function(J){var G="",Z=parseInt(J,10).toString(2),et=7-Z.length%7;et==7&&(et=0);for(var nt="",x=0;x<et;x++)nt+="0";for(Z=nt+Z,x=0;x<Z.length-1;x+=7){var V=Z.substr(x,7);x!=Z.length-7&&(V="1"+V),G+=_(parseInt(V,2))}return G};try{if(!h.match(/^[0-9.]+$/))return null;var j="",N=h.split("."),U=40*parseInt(N[0],10)+parseInt(N[1],10);j+=_(U),N.splice(0,2);for(var B=0;B<N.length;B++)j+=F(N[B]);return j}catch{return null}}(t);if(r==null)throw new Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var r=O.asn1.x509.OID.name2oid(t);if(r==="")throw new Error("DERObjectIdentifier oidName undefined: "+t);this.setValueOidString(r)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){typeof t=="string"?this.setValueNameOrOid(t):t.oid!==void 0?this.setValueNameOrOid(t.oid):t.name!==void 0?this.setValueNameOrOid(t.name):t.hex!==void 0&&this.setValueHex(t.hex)},e!==void 0&&this.setByParam(e)},u.lang.extend(O.asn1.DERObjectIdentifier,O.asn1.ASN1Object),O.asn1.DEREnumerated=function(e){O.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=O.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var r=new M(String(t),10);this.setByBigInteger(r)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},e!==void 0&&(e.int!==void 0?this.setByInteger(e.int):typeof e=="number"?this.setByInteger(e):e.hex!==void 0&&this.setValueHex(e.hex))},u.lang.extend(O.asn1.DEREnumerated,O.asn1.ASN1Object),O.asn1.DERUTF8String=function(e){O.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},u.lang.extend(O.asn1.DERUTF8String,O.asn1.DERAbstractString),O.asn1.DERNumericString=function(e){O.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},u.lang.extend(O.asn1.DERNumericString,O.asn1.DERAbstractString),O.asn1.DERPrintableString=function(e){O.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},u.lang.extend(O.asn1.DERPrintableString,O.asn1.DERAbstractString),O.asn1.DERTeletexString=function(e){O.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},u.lang.extend(O.asn1.DERTeletexString,O.asn1.DERAbstractString),O.asn1.DERIA5String=function(e){O.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},u.lang.extend(O.asn1.DERIA5String,O.asn1.DERAbstractString),O.asn1.DERVisibleString=function(e){O.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},u.lang.extend(O.asn1.DERVisibleString,O.asn1.DERAbstractString),O.asn1.DERBMPString=function(e){O.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},u.lang.extend(O.asn1.DERBMPString,O.asn1.DERAbstractString),O.asn1.DERUTCTime=function(e){O.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=Ft(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ft(this.s)),this.hV},e!==void 0&&(e.str!==void 0?this.setString(e.str):typeof e=="string"&&e.match(/^[0-9]{12}Z$/)?this.setString(e):e.hex!==void 0?this.setStringHex(e.hex):e.date!==void 0&&this.setByDate(e.date))},u.lang.extend(O.asn1.DERUTCTime,O.asn1.DERAbstractTime),O.asn1.DERGeneralizedTime=function(e){O.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ft(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ft(this.s)),this.hV},e!==void 0&&(e.str!==void 0?this.setString(e.str):typeof e=="string"&&e.match(/^[0-9]{14}Z$/)?this.setString(e):e.hex!==void 0?this.setStringHex(e.hex):e.date!==void 0&&this.setByDate(e.date),e.millis===!0&&(this.withMillis=!0))},u.lang.extend(O.asn1.DERGeneralizedTime,O.asn1.DERAbstractTime),O.asn1.DERSequence=function(e){O.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var t="",r=0;r<this.asn1Array.length;r++)t+=this.asn1Array[r].getEncodedHex();return this.hV=t,this.hV}},u.lang.extend(O.asn1.DERSequence,O.asn1.DERAbstractStructured),O.asn1.DERSet=function(e){O.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,r=0;r<this.asn1Array.length;r++){var o=this.asn1Array[r];t.push(o.getEncodedHex())}return this.sortFlag==1&&t.sort(),this.hV=t.join(""),this.hV},e!==void 0&&e.sortflag!==void 0&&e.sortflag==0&&(this.sortFlag=!1)},u.lang.extend(O.asn1.DERSet,O.asn1.DERAbstractStructured),O.asn1.DERTaggedObject=function(e){O.asn1.DERTaggedObject.superclass.constructor.call(this);var t=O.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(r,o,h){this.hT=o,this.isExplicit=r,this.asn1Object=h,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=h.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,o),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(r){r.tag!=null&&(this.hT=r.tag),r.explicit!=null&&(this.isExplicit=r.explicit),r.tage!=null&&(this.hT=r.tage,this.isExplicit=!0),r.tagi!=null&&(this.hT=r.tagi,this.isExplicit=!1),r.obj!=null&&(r.obj instanceof t.ASN1Object?(this.asn1Object=r.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):i(r.obj)=="object"&&(this.asn1Object=t.ASN1Util.newObject(r.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},e!=null&&this.setByParam(e)},u.lang.extend(O.asn1.DERTaggedObject,O.asn1.ASN1Object);var O,Ae,ge,st=new function(){};function qt(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function Wt(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function zt(e){for(var t="",r=0;r<e.length;r++){var o=e[r].toString(16);o.length==1&&(o="0"+o),t+=o}return t}function Ft(e){return zt(qt(e))}function Ht(e){return e=(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Kt(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e=(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function Dt(e){return e.length%2==1&&(e="0"+e),Ht(X(e))}function Bt(e){return Q(Kt(e))}function Oe(e){return Pr(Cr(e))}function re(e){return decodeURIComponent(kr(e))}function le(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function be(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function Ye(e){return X(e)}function rn(e){var t=Ye(e).replace(/(.{64})/g,`$1\r
`);return t=t.replace(/\r\n$/,"")}function qn(e){return Q(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Se(e,t){return"-----BEGIN "+t+`-----\r
`+rn(e)+`\r
-----END `+t+`-----\r
`}function Le(e,t){if(e.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+t;return qn(e=t!==void 0?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function nn(e){var t,r,o,h,_,F,j,N,U,B,K;if(K=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return N=K[1],t=parseInt(N),N.length===2&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),r=parseInt(K[2])-1,o=parseInt(K[3]),h=parseInt(K[4]),_=parseInt(K[5]),F=parseInt(K[6]),j=0,(U=K[7])!==""&&(B=(U.substr(1)+"00").substr(0,3),j=parseInt(B)),Date.UTC(t,r,o,h,_,F,j);throw"unsupported zulu format: "+e}function Wn(e){return~~(nn(e)/1e3)}function Pr(e){return e.replace(/%/g,"")}function kr(e){return e.replace(/(..)/g,"%$1")}function Jn(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var r=(e=e.toLowerCase()).split(":").length-1;if(r<2)throw t;var o=":".repeat(7-r+2),h=(e=e.replace("::",o)).split(":");if(h.length!=8)throw t;for(var _=0;_<8;_++)h[_]=("0000"+h[_]).slice(-4);return h.join("")}function zn(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)t[r]=t[r].replace(/^0+/,""),t[r]==""&&(t[r]="0");var o=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(o===null)return e.slice(1,-1);var h="";for(r=0;r<o.length;r++)o[r].length>h.length&&(h=o[r]);return(e=e.replace(h,"::")).slice(1,-1)}function on(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(e.length!=8)return e.length==32?zn(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch{throw t}}function Cr(e){for(var t=encodeURIComponent(e),r="",o=0;o<t.length;o++)t[o]=="%"?(r+=t.substr(o,3),o+=2):r=r+"%"+Ft(t[o]);return r}function $n(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function sn(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}st.getLblen=function(e,t){if(e.substr(t+2,1)!="8")return 1;var r=parseInt(e.substr(t+3,1));return r==0?-1:0<r&&r<10?r+1:-2},st.getL=function(e,t){var r=st.getLblen(e,t);return r<1?"":e.substr(t+2,2*r)},st.getVblen=function(e,t){var r;return(r=st.getL(e,t))==""?-1:(r.substr(0,1)==="8"?new M(r.substr(2),16):new M(r,16)).intValue()},st.getVidx=function(e,t){var r=st.getLblen(e,t);return r<0?r:t+2*(r+1)},st.getV=function(e,t){var r=st.getVidx(e,t),o=st.getVblen(e,t);return e.substr(r,2*o)},st.getTLV=function(e,t){return e.substr(t,2)+st.getL(e,t)+st.getV(e,t)},st.getTLVblen=function(e,t){return 2+2*st.getLblen(e,t)+2*st.getVblen(e,t)},st.getNextSiblingIdx=function(e,t){return st.getVidx(e,t)+2*st.getVblen(e,t)},st.getChildIdx=function(e,t){var r,o,h,_=st,F=[];r=_.getVidx(e,t),o=2*_.getVblen(e,t),e.substr(t,2)=="03"&&(r+=2,o-=2),h=0;for(var j=r;h<=o;){var N=_.getTLVblen(e,j);if((h+=N)<=o&&F.push(j),j+=N,h>=o)break}return F},st.getNthChildIdx=function(e,t,r){return st.getChildIdx(e,t)[r]},st.getIdxbyList=function(e,t,r,o){var h,_,F=st;return r.length==0?o!==void 0&&e.substr(t,2)!==o?-1:t:(h=r.shift())>=(_=F.getChildIdx(e,t)).length?-1:F.getIdxbyList(e,_[h],r,o)},st.getIdxbyListEx=function(e,t,r,o){var h,_,F=st;if(r.length==0)return o!==void 0&&e.substr(t,2)!==o?-1:t;h=r.shift(),_=F.getChildIdx(e,t);for(var j=0,N=0;N<_.length;N++){var U=e.substr(_[N],2);if(typeof h=="number"&&!F.isContextTag(U)&&j==h||typeof h=="string"&&F.isContextTag(U,h))return F.getIdxbyListEx(e,_[N],r,o);F.isContextTag(U)||j++}return-1},st.getTLVbyList=function(e,t,r,o){var h=st,_=h.getIdxbyList(e,t,r,o);return _==-1||_>=e.length?null:h.getTLV(e,_)},st.getTLVbyListEx=function(e,t,r,o){var h=st,_=h.getIdxbyListEx(e,t,r,o);return _==-1?null:h.getTLV(e,_)},st.getVbyList=function(e,t,r,o,h){var _,F,j=st;return(_=j.getIdxbyList(e,t,r,o))==-1||_>=e.length?null:(F=j.getV(e,_),h===!0&&(F=F.substr(2)),F)},st.getVbyListEx=function(e,t,r,o,h){var _,F,j=st;return(_=j.getIdxbyListEx(e,t,r,o))==-1?null:(F=j.getV(e,_),e.substr(_,2)=="03"&&h!==!1&&(F=F.substr(2)),F)},st.getInt=function(e,t,r){r==null&&(r=-1);try{var o=e.substr(t,2);if(o!="02"&&o!="03")return r;var h=st.getV(e,t);return o=="02"?parseInt(h,16):function(F){try{var j=F.substr(0,2);if(j=="00")return parseInt(F.substr(2),16);var N=parseInt(j,16),U=F.substr(2),B=parseInt(U,16).toString(2);return B=="0"&&(B="00000000"),B=B.slice(0,0-N),parseInt(B,2)}catch{return-1}}(h)}catch{return r}},st.getOID=function(e,t,r){r==null&&(r=null);try{return e.substr(t,2)!="06"?r:function(h){if(!$n(h))return null;try{var _=[],F=h.substr(0,2),j=parseInt(F,16);_[0]=new String(Math.floor(j/40)),_[1]=new String(j%40);for(var N=h.substr(2),U=[],B=0;B<N.length/2;B++)U.push(parseInt(N.substr(2*B,2),16));var K=[],J="";for(B=0;B<U.length;B++)128&U[B]?J+=Gn((127&U[B]).toString(2),7):(J+=Gn((127&U[B]).toString(2),7),K.push(new String(parseInt(J,2))),J="");var G=_.join(".");return K.length>0&&(G=G+"."+K.join(".")),G}catch{return null}}(st.getV(e,t))}catch{return r}},st.getOIDName=function(e,t,r){r==null&&(r=null);try{var o=st.getOID(e,t,r);if(o==r)return r;var h=O.asn1.x509.OID.oid2name(o);return h==""?o:h}catch{return r}},st.getString=function(e,t,r){r==null&&(r=null);try{return le(st.getV(e,t))}catch{return r}},st.hextooidstr=function(e){var t=function(J,G){return J.length>=G?J:new Array(G-J.length+1).join("0")+J},r=[],o=e.substr(0,2),h=parseInt(o,16);r[0]=new String(Math.floor(h/40)),r[1]=new String(h%40);for(var _=e.substr(2),F=[],j=0;j<_.length/2;j++)F.push(parseInt(_.substr(2*j,2),16));var N=[],U="";for(j=0;j<F.length;j++)128&F[j]?U+=t((127&F[j]).toString(2),7):(U+=t((127&F[j]).toString(2),7),N.push(new String(parseInt(U,2))),U="");var B=r.join(".");return N.length>0&&(B=B+"."+N.join(".")),B},st.dump=function(e,t,r,o){var h=st,_=h.getV,F=h.dump,j=h.getChildIdx,N=e;e instanceof O.asn1.ASN1Object&&(N=e.getEncodedHex());var U=function(ut,Ut){return ut.length<=2*Ut?ut:ut.substr(0,Ut)+"..(total "+ut.length/2+"bytes).."+ut.substr(ut.length-Ut,Ut)};t===void 0&&(t={ommit_long_octet:32}),r===void 0&&(r=0),o===void 0&&(o="");var B,K=t.ommit_long_octet;if((B=N.substr(r,2))=="01")return(J=_(N,r))=="00"?o+`BOOLEAN FALSE
`:o+`BOOLEAN TRUE
`;if(B=="02")return o+"INTEGER "+U(J=_(N,r),K)+`
`;if(B=="03"){var J=_(N,r);if(h.isASN1HEX(J.substr(2))){var G=o+`BITSTRING, encapsulates
`;return G+=F(J.substr(2),t,0,o+"  ")}return o+"BITSTRING "+U(J,K)+`
`}if(B=="04")return J=_(N,r),h.isASN1HEX(J)?(G=o+`OCTETSTRING, encapsulates
`,G+=F(J,t,0,o+"  ")):o+"OCTETSTRING "+U(J,K)+`
`;if(B=="05")return o+`NULL
`;if(B=="06"){var Z=_(N,r),et=O.asn1.ASN1Util.oidHexToInt(Z),nt=O.asn1.x509.OID.oid2name(et),x=et.replace(/\./g," ");return nt!=""?o+"ObjectIdentifier "+nt+" ("+x+`)
`:o+"ObjectIdentifier ("+x+`)
`}if(B=="0a")return o+"ENUMERATED "+parseInt(_(N,r))+`
`;if(B=="0c")return o+"UTF8String '"+re(_(N,r))+`'
`;if(B=="13")return o+"PrintableString '"+re(_(N,r))+`'
`;if(B=="14")return o+"TeletexString '"+re(_(N,r))+`'
`;if(B=="16")return o+"IA5String '"+re(_(N,r))+`'
`;if(B=="17")return o+"UTCTime "+re(_(N,r))+`
`;if(B=="18")return o+"GeneralizedTime "+re(_(N,r))+`
`;if(B=="1a")return o+"VisualString '"+re(_(N,r))+`'
`;if(B=="1e")return o+"BMPString '"+re(_(N,r))+`'
`;if(B=="30"){if(N.substr(r,4)=="3000")return o+`SEQUENCE {}
`;G=o+`SEQUENCE
`;var V=t;if(((tt=j(N,r)).length==2||tt.length==3)&&N.substr(tt[0],2)=="06"&&N.substr(tt[tt.length-1],2)=="04"){nt=h.oidname(_(N,tt[0]));var W=JSON.parse(JSON.stringify(t));W.x509ExtName=nt,V=W}for(var z=0;z<tt.length;z++)G+=F(N,V,tt[z],o+"  ");return G}if(B=="31"){G=o+`SET
`;var tt=j(N,r);for(z=0;z<tt.length;z++)G+=F(N,t,tt[z],o+"  ");return G}if(128&(B=parseInt(B,16))){var it=31&B;if(32&B){for(G=o+"["+it+`]
`,tt=j(N,r),z=0;z<tt.length;z++)G+=F(N,t,tt[z],o+"  ");return G}if(J=_(N,r),st.isASN1HEX(J)){var G=o+"["+it+`]
`;return G+=F(J,t,0,o+"  ")}return(J.substr(0,8)=="68747470"||t.x509ExtName==="subjectAltName"&&it==2)&&(J=re(J)),G=o+"["+it+"] "+J+`
`}return o+"UNKNOWN("+B+") "+_(N,r)+`
`},st.isContextTag=function(e,t){var r,o;e=e.toLowerCase();try{r=parseInt(e,16)}catch{return-1}if(t===void 0)return(192&r)==128;try{return t.match(/^\[[0-9]+\]$/)!=null&&!((o=parseInt(t.substr(1,t.length-1),10))>31)&&(192&r)==128&&(31&r)==o}catch{return!1}},st.isASN1HEX=function(e){var t=st;if(e.length%2==1)return!1;var r=t.getVblen(e,0),o=e.substr(0,2),h=t.getL(e,0);return e.length-o.length-h.length==2*r},st.checkStrictDER=function(e,t,r,o,h){var _=st;if(r===void 0){if(typeof e!="string")throw new Error("not hex string");if(e=e.toLowerCase(),!O.lang.String.isHex(e))throw new Error("not hex string");r=e.length,h=(o=e.length/2)<128?1:Math.ceil(o.toString(16))+1}if(_.getL(e,t).length>2*h)throw new Error("L of TLV too long: idx="+t);var F=_.getVblen(e,t);if(F>o)throw new Error("value of L too long than hex: idx="+t);var j=_.getTLV(e,t),N=j.length-2-_.getL(e,t).length;if(N!==2*F)throw new Error("V string length and L's value not the same:"+N+"/"+2*F);if(t===0&&e.length!=j.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+j.length);var U=e.substr(t,2);if(U==="02"){var B=_.getVidx(e,t);if(e.substr(B,2)=="00"&&e.charCodeAt(B+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(U,16)){for(var K=_.getVblen(e,t),J=0,G=_.getChildIdx(e,t),Z=0;Z<G.length;Z++)J+=_.getTLV(e,G[Z]).length,_.checkStrictDER(e,G[Z],r,o,h);if(2*K!=J)throw new Error("sum of children's TLV length and L unmatch: "+2*K+"!="+J)}},st.oidname=function(e){var t=O.asn1;O.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return r===""&&(r=e),r},O!==void 0&&O||(a.KJUR=O={}),O.lang!==void 0&&O.lang||(O.lang={}),O.lang.String=function(){},typeof d=="function"?(a.utf8tob64u=Ae=function(t){return Ht(d.from(t,"utf8").toString("base64"))},a.b64utoutf8=ge=function(t){return d.from(Kt(t),"base64").toString("utf8")}):(a.utf8tob64u=Ae=function(t){return Dt(Pr(Cr(t)))},a.b64utoutf8=ge=function(t){return decodeURIComponent(kr(Bt(t)))}),O.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},O.lang.String.isHex=function(e){return $n(e)},O.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},O.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=Kt(e),O.lang.String.isBase64(e))},O.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},O.lang.String.isPrintable=function(e){return e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},O.lang.String.isIA5=function(e){return e.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},O.lang.String.isMail=function(e){return e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Gn=function(t,r,o){return o==null&&(o="0"),t.length>=r?t:new Array(r-t.length+1).join(o)+t};O!==void 0&&O||(a.KJUR=O={}),O.crypto!==void 0&&O.crypto||(O.crypto={}),O.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:T.algo.MD5,sha1:T.algo.SHA1,sha224:T.algo.SHA224,sha256:T.algo.SHA256,sha384:T.algo.SHA384,sha512:T.algo.SHA512,ripemd160:T.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(this.DIGESTINFOHEAD[t]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var o=this.getDigestInfoHex(e,t),h=r/4;if(o.length+22>h)throw"key is too short for SigAlg: keylen="+r+","+t;for(var _="0001",F="00"+o,j="",N=h-_.length-F.length,U=0;U<N;U+=2)j+="ff";return _+j+F},this.hashString=function(e,t){return new O.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new O.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ht||e instanceof O.crypto.DSA||e instanceof O.crypto.ECDSA}},O.crypto.Util.md5=function(e){return new O.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},O.crypto.Util.ripemd160=function(e){return new O.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},O.crypto.Util.SECURERANDOMGEN=new At,O.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return O.crypto.Util.SECURERANDOMGEN.nextBytes(t),zt(t)},O.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new M(O.crypto.Util.getRandomHexOfNbytes(e),16)},O.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=new Array((e-t)/8+1);return O.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],zt(r)},O.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new M(O.crypto.Util.getRandomHexOfNbits(e),16)},O.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=O.crypto.Util.getRandomBigIntegerOfNbits(t);if(e.compareTo(r)!=-1)return r}},O.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(r==1)throw"biMin is greater than biMax";if(r==0)return e;var o=t.subtract(e);return O.crypto.Util.getRandomBigIntegerZeroToMax(o).add(e)},O.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(t,r){if((t=O.crypto.MessageDigest.getCanonicalAlgName(t))!==null&&r===void 0&&(r=O.crypto.Util.DEFAULTPROVIDER[t]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)!=-1&&r=="cryptojs"){try{this.md=O.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(o){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var h=T.enc.Hex.parse(o);this.md.update(h)},this.digest=function(){return this.md.finalize().toString(T.enc.Hex)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}if(":sha256:".indexOf(t)!=-1&&r=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(o){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var h=sjcl.codec.hex.toBits(o);this.md.update(h)},this.digest=function(){var o=this.md.finalize();return sjcl.codec.hex.fromBits(o)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},e!==void 0&&e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=O.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},O.crypto.MessageDigest.getCanonicalAlgName=function(e){return typeof e=="string"&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},O.crypto.MessageDigest.getHashLength=function(e){var t=O.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(t.HASHLENGTH[r]===void 0)throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},O.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},O.crypto.Mac=function(e){this.setAlgAndProvider=function(t,r){if((t=t.toLowerCase())==null&&(t="hmacsha1"),(t=t.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+t;r===void 0&&(r=O.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+r;var o=t.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(o)!=-1&&r=="cryptojs"){try{var h=O.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[o];this.mac=T.algo.HMAC.create(h,this.pass)}catch(_){throw"setAlgAndProvider hash alg set fail hashAlg="+o+"/"+_}this.updateString=function(_){this.mac.update(_)},this.updateHex=function(_){var F=T.enc.Hex.parse(_);this.mac.update(F)},this.doFinal=function(){return this.mac.finalize().toString(T.enc.Hex)},this.doFinalString=function(_){return this.updateString(_),this.doFinal()},this.doFinalHex=function(_){return this.updateHex(_),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if(typeof t=="string"){var r=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(r=be(t)),void(this.pass=T.enc.Hex.parse(r))}if((t===void 0?"undefined":i(t))!="object")throw"KJUR.crypto.Mac unsupported password type: "+t;if(r=null,t.hex!==void 0){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;r=t.hex}if(t.utf8!==void 0&&(r=Oe(t.utf8)),t.rstr!==void 0&&(r=be(t.rstr)),t.b64!==void 0&&(r=Q(t.b64)),t.b64u!==void 0&&(r=Bt(t.b64u)),r==null)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=T.enc.Hex.parse(r)},e!==void 0&&(e.pass!==void 0&&this.setPassword(e.pass),e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=O.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},O.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var r=this.algName.match(/^(.+)with(.+)$/);r&&(this.mdAlgName=r[1].toLowerCase(),this.pubkeyAlgName=r[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(r,o){for(var h="",_=o/4-r.length,F=0;F<_;F++)h+="0";return h+r},this.setAlgAndProvider=function(r,o){if(this._setAlgNames(),o!="cryptojs/jsrsa")throw new Error("provider not supported: "+o);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new O.crypto.MessageDigest({alg:this.mdAlgName})}catch(h){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+h)}this.init=function(h,_){var F=null;try{F=_===void 0?ie.getKey(h):ie.getKey(h,_)}catch(j){throw"init failed:"+j}if(F.isPrivate===!0)this.prvKey=F,this.state="SIGN";else{if(F.isPublic!==!0)throw"init failed.:"+F;this.pubKey=F,this.state="VERIFY"}},this.updateString=function(h){this.md.updateString(h)},this.updateHex=function(h){this.md.updateHex(h)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&O.crypto.ECDSA!==void 0&&(this.prvKey=new O.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ht&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ht&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof O.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof O.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(h){return this.updateString(h),this.sign()},this.signHex=function(h){return this.updateHex(h),this.sign()},this.verify=function(h){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&O.crypto.ECDSA!==void 0&&(this.pubKey=new O.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ht&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,h,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ht&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,h);if(O.crypto.ECDSA!==void 0&&this.pubKey instanceof O.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,h);if(O.crypto.DSA!==void 0&&this.pubKey instanceof O.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,h);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(r,o){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(r){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(r){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(r){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(r){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,e!==void 0&&(e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0?this.provName=O.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),e.psssaltlen!==void 0&&(this.pssSaltLen=e.psssaltlen),e.prvkeypem!==void 0)){if(e.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{t=ie.getKey(e.prvkeypem),this.init(t)}catch(r){throw"fatal error to load pem private key: "+r}}},O.crypto.Cipher=function(e){},O.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof ht&&t.isPublic){var o=O.crypto.Cipher.getAlgByKeyAndName(t,r);if(o==="RSA")return t.encrypt(e);if(o==="RSAOAEP")return t.encryptOAEP(e,"sha1");var h=o.match(/^RSAOAEP(\d+)$/);if(h!==null)return t.encryptOAEP(e,"sha"+h[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},O.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof ht&&t.isPrivate){var o=O.crypto.Cipher.getAlgByKeyAndName(t,r);if(o==="RSA")return t.decrypt(e);if(o==="RSAOAEP")return t.decryptOAEP(e,"sha1");var h=o.match(/^RSAOAEP(\d+)$/);if(h!==null)return t.decryptOAEP(e,"sha"+h[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},O.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ht){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t)!=-1)return t;if(t==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},O.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},O!==void 0&&O||(a.KJUR=O={}),O.crypto!==void 0&&O.crypto||(O.crypto={}),O.crypto.ECDSA=function(e){var t=Error,r=M,o=Pt,h=O.crypto.ECDSA,_=O.crypto.ECParameterDB,F=h.getName,j=st,N=j.getVbyListEx,U=j.isASN1HEX,B=new At;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(K){return new r(K.bitLength(),B).mod(K.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(K){this.ecparams=_.getByName(K),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=K},this.setPrivateKeyHex=function(K){this.isPrivate=!0,this.prvKeyHex=K},this.setPublicKeyHex=function(K){this.isPublic=!0,this.pubKeyHex=K},this.getPublicKeyXYHex=function(){var K=this.pubKeyHex;if(K.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var J=this.ecparams.keylen/4;if(K.length!==2+2*J)throw"malformed public key hex length";var G={};return G.x=K.substr(2,J),G.y=K.substr(2+J),G},this.getShortNISTPCurveName=function(){var K=this.curveName;return K==="secp256r1"||K==="NIST P-256"||K==="P-256"||K==="prime256v1"?"P-256":K==="secp384r1"||K==="NIST P-384"||K==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var K=this.ecparams.n,J=this.getBigRandom(K),G=this.ecparams.G.multiply(J),Z=G.getX().toBigInteger(),et=G.getY().toBigInteger(),nt=this.ecparams.keylen/4,x=("0000000000"+J.toString(16)).slice(-nt),V="04"+("0000000000"+Z.toString(16)).slice(-nt)+("0000000000"+et.toString(16)).slice(-nt);return this.setPrivateKeyHex(x),this.setPublicKeyHex(V),{ecprvhex:x,ecpubhex:V}},this.signWithMessageHash=function(K){return this.signHex(K,this.prvKeyHex)},this.signHex=function(K,J){var G=new r(J,16),Z=this.ecparams.n,et=new r(K.substring(0,this.ecparams.keylen/4),16);do var nt=this.getBigRandom(Z),x=this.ecparams.G.multiply(nt).getX().toBigInteger().mod(Z);while(x.compareTo(r.ZERO)<=0);var V=nt.modInverse(Z).multiply(et.add(G.multiply(x))).mod(Z);return h.biRSSigToASN1Sig(x,V)},this.sign=function(K,J){var G=J,Z=this.ecparams.n,et=r.fromByteArrayUnsigned(K);do var nt=this.getBigRandom(Z),x=this.ecparams.G.multiply(nt).getX().toBigInteger().mod(Z);while(x.compareTo(M.ZERO)<=0);var V=nt.modInverse(Z).multiply(et.add(G.multiply(x))).mod(Z);return this.serializeSig(x,V)},this.verifyWithMessageHash=function(K,J){return this.verifyHex(K,J,this.pubKeyHex)},this.verifyHex=function(K,J,G){try{var Z,et,nt=h.parseSigHex(J);Z=nt.r,et=nt.s;var x=o.decodeFromHex(this.ecparams.curve,G),V=new r(K.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(V,Z,et,x)}catch{return!1}},this.verify=function(K,J,G){var Z,et,nt;if(Bitcoin.Util.isArray(J)){var x=this.parseSig(J);Z=x.r,et=x.s}else{if((J===void 0?"undefined":i(J))!=="object"||!J.r||!J.s)throw"Invalid value for signature";Z=J.r,et=J.s}if(G instanceof Pt)nt=G;else{if(!Bitcoin.Util.isArray(G))throw"Invalid format for pubkey value, must be byte array or ECPointFp";nt=o.decodeFrom(this.ecparams.curve,G)}var V=r.fromByteArrayUnsigned(K);return this.verifyRaw(V,Z,et,nt)},this.verifyRaw=function(K,J,G,Z){var et=this.ecparams.n,nt=this.ecparams.G;if(J.compareTo(r.ONE)<0||J.compareTo(et)>=0||G.compareTo(r.ONE)<0||G.compareTo(et)>=0)return!1;var x=G.modInverse(et),V=K.multiply(x).mod(et),W=J.multiply(x).mod(et);return nt.multiply(V).add(Z.multiply(W)).getX().toBigInteger().mod(et).equals(J)},this.serializeSig=function(K,J){var G=K.toByteArraySigned(),Z=J.toByteArraySigned(),et=[];return et.push(2),et.push(G.length),(et=et.concat(G)).push(2),et.push(Z.length),(et=et.concat(Z)).unshift(et.length),et.unshift(48),et},this.parseSig=function(K){var J;if(K[0]!=48)throw new Error("Signature not a valid DERSequence");if(K[J=2]!=2)throw new Error("First element in signature must be a DERInteger");var G=K.slice(J+2,J+2+K[J+1]);if(K[J+=2+K[J+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var Z=K.slice(J+2,J+2+K[J+1]);return J+=2+K[J+1],{r:r.fromByteArrayUnsigned(G),s:r.fromByteArrayUnsigned(Z)}},this.parseSigCompact=function(K){if(K.length!==65)throw"Signature has the wrong length";var J=K[0]-27;if(J<0||J>7)throw"Invalid signature type";var G=this.ecparams.n;return{r:r.fromByteArrayUnsigned(K.slice(1,33)).mod(G),s:r.fromByteArrayUnsigned(K.slice(33,65)).mod(G),i:J}},this.readPKCS5PrvKeyHex=function(K){if(U(K)===!1)throw new Error("not ASN.1 hex string");var J,G,Z;try{J=N(K,0,["[0]",0],"06"),G=N(K,0,[1],"04");try{Z=N(K,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=F(J),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(Z),this.setPrivateKeyHex(G),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(K){if(U(K)===!1)throw new t("not ASN.1 hex string");var J,G,Z;try{N(K,0,[1,0],"06"),J=N(K,0,[1,1],"06"),G=N(K,0,[2,0,1],"04");try{Z=N(K,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=F(J),this.curveName===void 0)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Z),this.setPrivateKeyHex(G),this.isPublic=!1},this.readPKCS8PubKeyHex=function(K){if(U(K)===!1)throw new t("not ASN.1 hex string");var J,G;try{N(K,0,[0,0],"06"),J=N(K,0,[0,1],"06"),G=N(K,0,[1],"03")}catch{throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=F(J),this.curveName===null)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(G)},this.readCertPubKeyHex=function(K,J){if(U(K)===!1)throw new t("not ASN.1 hex string");var G,Z;try{G=N(K,0,[0,5,0,1],"06"),Z=N(K,0,[0,5,1],"03")}catch{throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=F(G),this.curveName===null)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Z)},e!==void 0&&e.curve!==void 0&&(this.curveName=e.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),e!==void 0&&(e.prv!==void 0&&this.setPrivateKeyHex(e.prv),e.pub!==void 0&&this.setPublicKeyHex(e.pub))},O.crypto.ECDSA.parseSigHex=function(e){var t=O.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new M(t.r,16),s:new M(t.s,16)}},O.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=st,r=t.getChildIdx,o=t.getV;if(t.checkStrictDER(e,0),e.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var h=r(e,0);if(h.length!=2)throw new Error("signature shall have two elements");var _=h[0],F=h[1];if(e.substr(_,2)!="02")throw new Error("1st item not ASN.1 integer");if(e.substr(F,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:o(e,_),s:o(e,F)}},O.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=O.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,o=t.s;if(r.substr(0,2)=="00"&&r.length%32==2&&(r=r.substr(2)),o.substr(0,2)=="00"&&o.length%32==2&&(o=o.substr(2)),r.length%32==30&&(r="00"+r),o.length%32==30&&(o="00"+o),r.length%32!=0)throw"unknown ECDSA sig r length error";if(o.length%32!=0)throw"unknown ECDSA sig s length error";return r+o},O.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return O.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},O.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new M(e,16),o=new M(t,16);return O.crypto.ECDSA.biRSSigToASN1Sig(r,o)},O.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=O.asn1,o=new r.DERInteger({bigint:e}),h=new r.DERInteger({bigint:t});return new r.DERSequence({array:[o,h]}).getEncodedHex()},O.crypto.ECDSA.getName=function(e){return e==="2b8104001f"?"secp192k1":e==="2a8648ce3d030107"?"secp256r1":e==="2b8104000a"?"secp256k1":e==="2b81040021"?"secp224r1":e==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)!==-1?"secp256r1":"|secp256k1|".indexOf(e)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(e)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(e)!==-1?"secp384r1":null},O!==void 0&&O||(a.KJUR=O={}),O.crypto!==void 0&&O.crypto||(O.crypto={}),O.crypto.ECParameterDB=new function(){var e={},t={};function r(o){return new M(o,16)}this.getByName=function(o){var h=o;if(t[h]!==void 0&&(h=t[o]),e[h]!==void 0)return e[h];throw"unregistered EC curve name: "+h},this.regist=function(o,h,_,F,j,N,U,B,K,J,G,Z){e[o]={};var et=r(_),nt=r(F),x=r(j),V=r(N),W=r(U),z=new Xt(et,nt,x),tt=z.decodePointHex("04"+B+K);e[o].name=o,e[o].keylen=h,e[o].curve=z,e[o].G=tt,e[o].n=V,e[o].h=W,e[o].oid=G,e[o].info=Z;for(var it=0;it<J.length;it++)t[J[it]]=o}},O.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),O.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),O.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),O.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),O.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),O.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),O.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),O.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),O.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),O.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var ie=function(){var e=function(U,B,K){return t(T.AES,U,B,K)},t=function(U,B,K,J){var G=T.enc.Hex.parse(B),Z=T.enc.Hex.parse(K),et=T.enc.Hex.parse(J),nt={};nt.key=Z,nt.iv=et,nt.ciphertext=G;var x=U.decrypt(nt,Z,{iv:et});return T.enc.Hex.stringify(x)},r=function(U,B,K){return o(T.AES,U,B,K)},o=function(U,B,K,J){var G=T.enc.Hex.parse(B),Z=T.enc.Hex.parse(K),et=T.enc.Hex.parse(J),nt=U.encrypt(G,Z,{iv:et}),x=T.enc.Hex.parse(nt.toString());return T.enc.Base64.stringify(x)},h={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(U,B,K){return t(T.TripleDES,U,B,K)},eproc:function(U,B,K){return o(T.TripleDES,U,B,K)},keylen:24,ivlen:8},"DES-CBC":{proc:function(U,B,K){return t(T.DES,U,B,K)},eproc:function(U,B,K){return o(T.DES,U,B,K)},keylen:8,ivlen:8}},_=function(U){var B={},K=U.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));K&&(B.cipher=K[1],B.ivsalt=K[2]);var J=U.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));J&&(B.type=J[1]);var G=-1,Z=0;U.indexOf(`\r
\r
`)!=-1&&(G=U.indexOf(`\r
\r
`),Z=2),U.indexOf(`

`)!=-1&&(G=U.indexOf(`

`),Z=1);var et=U.indexOf("-----END");if(G!=-1&&et!=-1){var nt=U.substring(G+2*Z,et-Z);nt=nt.replace(/\s+/g,""),B.data=nt}return B},F=function(U,B,K){for(var J=K.substring(0,16),G=T.enc.Hex.parse(J),Z=T.enc.Utf8.parse(B),et=h[U].keylen+h[U].ivlen,nt="",x=null;;){var V=T.algo.MD5.create();if(x!=null&&V.update(x),V.update(Z),V.update(G),x=V.finalize(),(nt+=T.enc.Hex.stringify(x)).length>=2*et)break}var W={};return W.keyhex=nt.substr(0,2*h[U].keylen),W.ivhex=nt.substr(2*h[U].keylen,2*h[U].ivlen),W},j=function(U,B,K,J){var G=T.enc.Base64.parse(U),Z=T.enc.Hex.stringify(G);return(0,h[B].proc)(Z,K,J)};return{version:"1.0.0",parsePKCS5PEM:function(U){return _(U)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(U,B,K){return F(U,B,K)},decryptKeyB64:function(U,B,K,J){return j(U,B,K,J)},getDecryptedKeyHex:function(U,B){var K=_(U),J=K.cipher,G=K.ivsalt,Z=K.data,et=F(J,B,G).keyhex;return j(Z,J,et,G)},getEncryptedPKCS5PEMFromPrvKeyHex:function(U,B,K,J,G){var Z="";if(J!==void 0&&J!=null||(J="AES-256-CBC"),h[J]===void 0)throw"KEYUTIL unsupported algorithm: "+J;G!==void 0&&G!=null||(G=function(x){var V=T.lib.WordArray.random(x);return T.enc.Hex.stringify(V)}(h[J].ivlen).toUpperCase());var et=function(x,V,W,z){return(0,h[V].eproc)(x,W,z)}(B,J,F(J,K,G).keyhex,G);return Z="-----BEGIN "+U+` PRIVATE KEY-----\r
`,Z+=`Proc-Type: 4,ENCRYPTED\r
`,Z+="DEK-Info: "+J+","+G+`\r
`,Z+=`\r
`,Z+=et.replace(/(.{64})/g,`$1\r
`),Z+=`\r
-----END `+U+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(U){var B=st,K=B.getChildIdx,J=B.getV,G={},Z=K(U,0);if(Z.length!=2)throw"malformed format: SEQUENCE(0).items != 2: "+Z.length;G.ciphertext=J(U,Z[1]);var et=K(U,Z[0]);if(et.length!=2)throw"malformed format: SEQUENCE(0.0).items != 2: "+et.length;if(J(U,et[0])!="2a864886f70d01050d")throw"this only supports pkcs5PBES2";var nt=K(U,et[1]);if(et.length!=2)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+nt.length;var x=K(U,nt[1]);if(x.length!=2)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+x.length;if(J(U,x[0])!="2a864886f70d0307")throw"this only supports TripleDES";G.encryptionSchemeAlg="TripleDES",G.encryptionSchemeIV=J(U,x[1]);var V=K(U,nt[0]);if(V.length!=2)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+V.length;if(J(U,V[0])!="2a864886f70d01050c")throw"this only supports pkcs5PBKDF2";var W=K(U,V[1]);if(W.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+W.length;G.pbkdf2Salt=J(U,W[0]);var z=J(U,W[1]);try{G.pbkdf2Iter=parseInt(z,16)}catch{throw"malformed format pbkdf2Iter: "+z}return G},getPBKDF2KeyHexFromParam:function(U,B){var K=T.enc.Hex.parse(U.pbkdf2Salt),J=U.pbkdf2Iter,G=T.PBKDF2(B,K,{keySize:6,iterations:J});return T.enc.Hex.stringify(G)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(U,B){var K=Le(U,"ENCRYPTED PRIVATE KEY"),J=this.parseHexOfEncryptedPKCS8(K),G=ie.getPBKDF2KeyHexFromParam(J,B),Z={};Z.ciphertext=T.enc.Hex.parse(J.ciphertext);var et=T.enc.Hex.parse(G),nt=T.enc.Hex.parse(J.encryptionSchemeIV),x=T.TripleDES.decrypt(Z,et,{iv:nt});return T.enc.Hex.stringify(x)},getKeyFromEncryptedPKCS8PEM:function(U,B){var K=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(U,B);return this.getKeyFromPlainPrivatePKCS8Hex(K)},parsePlainPrivatePKCS8Hex:function(U){var B=st,K=B.getChildIdx,J=B.getV,G={algparam:null};if(U.substr(0,2)!="30")throw"malformed plain PKCS8 private key(code:001)";var Z=K(U,0);if(Z.length!=3)throw"malformed plain PKCS8 private key(code:002)";if(U.substr(Z[1],2)!="30")throw"malformed PKCS8 private key(code:003)";var et=K(U,Z[1]);if(et.length!=2)throw"malformed PKCS8 private key(code:004)";if(U.substr(et[0],2)!="06")throw"malformed PKCS8 private key(code:005)";if(G.algoid=J(U,et[0]),U.substr(et[1],2)=="06"&&(G.algparam=J(U,et[1])),U.substr(Z[2],2)!="04")throw"malformed PKCS8 private key(code:006)";return G.keyidx=B.getVidx(U,Z[2]),G},getKeyFromPlainPrivatePKCS8PEM:function(U){var B=Le(U,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(B)},getKeyFromPlainPrivatePKCS8Hex:function(U){var B,K=this.parsePlainPrivatePKCS8Hex(U);if(K.algoid=="2a864886f70d010101")B=new ht;else if(K.algoid=="2a8648ce380401")B=new O.crypto.DSA;else{if(K.algoid!="2a8648ce3d0201")throw"unsupported private key algorithm";B=new O.crypto.ECDSA}return B.readPKCS8PrvKeyHex(U),B},_getKeyFromPublicPKCS8Hex:function(U){var B,K=st.getVbyList(U,0,[0,0],"06");if(K==="2a864886f70d010101")B=new ht;else if(K==="2a8648ce380401")B=new O.crypto.DSA;else{if(K!=="2a8648ce3d0201")throw"unsupported PKCS#8 public key hex";B=new O.crypto.ECDSA}return B.readPKCS8PubKeyHex(U),B},parsePublicRawRSAKeyHex:function(U){var B=st,K=B.getChildIdx,J=B.getV,G={};if(U.substr(0,2)!="30")throw"malformed RSA key(code:001)";var Z=K(U,0);if(Z.length!=2)throw"malformed RSA key(code:002)";if(U.substr(Z[0],2)!="02")throw"malformed RSA key(code:003)";if(G.n=J(U,Z[0]),U.substr(Z[1],2)!="02")throw"malformed RSA key(code:004)";return G.e=J(U,Z[1]),G},parsePublicPKCS8Hex:function(U){var B=st,K=B.getChildIdx,J=B.getV,G={algparam:null},Z=K(U,0);if(Z.length!=2)throw"outer DERSequence shall have 2 elements: "+Z.length;var et=Z[0];if(U.substr(et,2)!="30")throw"malformed PKCS8 public key(code:001)";var nt=K(U,et);if(nt.length!=2)throw"malformed PKCS8 public key(code:002)";if(U.substr(nt[0],2)!="06")throw"malformed PKCS8 public key(code:003)";if(G.algoid=J(U,nt[0]),U.substr(nt[1],2)=="06"?G.algparam=J(U,nt[1]):U.substr(nt[1],2)=="30"&&(G.algparam={},G.algparam.p=B.getVbyList(U,nt[1],[0],"02"),G.algparam.q=B.getVbyList(U,nt[1],[1],"02"),G.algparam.g=B.getVbyList(U,nt[1],[2],"02")),U.substr(Z[1],2)!="03")throw"malformed PKCS8 public key(code:004)";return G.key=J(U,Z[1]).substr(2),G}}}();ie.getKey=function(e,t,r){var o=(nt=st).getChildIdx,h=(nt.getV,nt.getVbyList),_=O.crypto,F=_.ECDSA,j=_.DSA,N=ht,U=Le,B=ie;if(N!==void 0&&e instanceof N||F!==void 0&&e instanceof F||j!==void 0&&e instanceof j)return e;if(e.curve!==void 0&&e.xy!==void 0&&e.d===void 0)return new F({pub:e.xy,curve:e.curve});if(e.curve!==void 0&&e.d!==void 0)return new F({prv:e.d,curve:e.curve});if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d===void 0)return(xt=new N).setPublic(e.n,e.e),xt;if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.co!==void 0&&e.qi===void 0)return(xt=new N).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),xt;if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p===void 0)return(xt=new N).setPrivate(e.n,e.e,e.d),xt;if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x===void 0)return(xt=new j).setPublic(e.p,e.q,e.g,e.y),xt;if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x!==void 0)return(xt=new j).setPrivate(e.p,e.q,e.g,e.y,e.x),xt;if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d===void 0)return(xt=new N).setPublic(Bt(e.n),Bt(e.e)),xt;if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.qi!==void 0)return(xt=new N).setPrivateEx(Bt(e.n),Bt(e.e),Bt(e.d),Bt(e.p),Bt(e.q),Bt(e.dp),Bt(e.dq),Bt(e.qi)),xt;if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0)return(xt=new N).setPrivate(Bt(e.n),Bt(e.e),Bt(e.d)),xt;if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d===void 0){var K=(mt=new F({curve:e.crv})).ecparams.keylen/4,J="04"+("0000000000"+Bt(e.x)).slice(-K)+("0000000000"+Bt(e.y)).slice(-K);return mt.setPublicKeyHex(J),mt}if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d!==void 0){K=(mt=new F({curve:e.crv})).ecparams.keylen/4,J="04"+("0000000000"+Bt(e.x)).slice(-K)+("0000000000"+Bt(e.y)).slice(-K);var G=("0000000000"+Bt(e.d)).slice(-K);return mt.setPublicKeyHex(J),mt.setPrivateKeyHex(G),mt}if(r==="pkcs5prv"){var Z,et=e,nt=st;if((Z=o(et,0)).length===9)(xt=new N).readPKCS5PrvKeyHex(et);else if(Z.length===6)(xt=new j).readPKCS5PrvKeyHex(et);else{if(!(Z.length>2&&et.substr(Z[1],2)==="04"))throw"unsupported PKCS#1/5 hexadecimal key";(xt=new F).readPKCS5PrvKeyHex(et)}return xt}if(r==="pkcs8prv")return xt=B.getKeyFromPlainPrivatePKCS8Hex(e);if(r==="pkcs8pub")return B._getKeyFromPublicPKCS8Hex(e);if(r==="x509pub")return oe.getPublicKeyFromCertHex(e);if(e.indexOf("-END CERTIFICATE-",0)!=-1||e.indexOf("-END X509 CERTIFICATE-",0)!=-1||e.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return oe.getPublicKeyFromCertPEM(e);if(e.indexOf("-END PUBLIC KEY-")!=-1){var x=Le(e,"PUBLIC KEY");return B._getKeyFromPublicPKCS8Hex(x)}if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var V=U(e,"RSA PRIVATE KEY");return B.getKey(V,null,"pkcs5prv")}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var W=h(Yt=U(e,"DSA PRIVATE KEY"),0,[1],"02"),z=h(Yt,0,[2],"02"),tt=h(Yt,0,[3],"02"),it=h(Yt,0,[4],"02"),_t=h(Yt,0,[5],"02");return(xt=new j).setPrivate(new M(W,16),new M(z,16),new M(tt,16),new M(it,16),new M(_t,16)),xt}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1)return V=U(e,"EC PRIVATE KEY"),B.getKey(V,null,"pkcs5prv");if(e.indexOf("-END PRIVATE KEY-")!=-1)return B.getKeyFromPlainPrivatePKCS8PEM(e);if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var ut=B.getDecryptedKeyHex(e,t),Ut=new ht;return Ut.readPKCS5PrvKeyHex(ut),Ut}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var mt,xt=h(Yt=B.getDecryptedKeyHex(e,t),0,[1],"04"),Gt=h(Yt,0,[2,0],"06"),Qt=h(Yt,0,[3,0],"03").substr(2);if(O.crypto.OID.oidhex2name[Gt]===void 0)throw"undefined OID(hex) in KJUR.crypto.OID: "+Gt;return(mt=new F({curve:O.crypto.OID.oidhex2name[Gt]})).setPublicKeyHex(Qt),mt.setPrivateKeyHex(xt),mt.isPublic=!1,mt}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var Yt;return W=h(Yt=B.getDecryptedKeyHex(e,t),0,[1],"02"),z=h(Yt,0,[2],"02"),tt=h(Yt,0,[3],"02"),it=h(Yt,0,[4],"02"),_t=h(Yt,0,[5],"02"),(xt=new j).setPrivate(new M(W,16),new M(z,16),new M(tt,16),new M(it,16),new M(_t,16)),xt}if(e.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return B.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},ie.generateKeypair=function(e,t){if(e=="RSA"){var r=t;(F=new ht).generate(r,"10001"),F.isPrivate=!0,F.isPublic=!0;var o=new ht,h=F.n.toString(16),_=F.e.toString(16);return o.setPublic(h,_),o.isPrivate=!1,o.isPublic=!0,(j={}).prvKeyObj=F,j.pubKeyObj=o,j}if(e=="EC"){var F,j,N=t,U=new O.crypto.ECDSA({curve:N}).generateKeyPairHex();return(F=new O.crypto.ECDSA({curve:N})).setPublicKeyHex(U.ecpubhex),F.setPrivateKeyHex(U.ecprvhex),F.isPrivate=!0,F.isPublic=!1,(o=new O.crypto.ECDSA({curve:N})).setPublicKeyHex(U.ecpubhex),o.isPrivate=!1,o.isPublic=!0,(j={}).prvKeyObj=F,j.pubKeyObj=o,j}throw"unknown algorithm: "+e},ie.getPEM=function(e,t,r,o,h,_){var F=O,j=F.asn1,N=j.DERObjectIdentifier,U=j.DERInteger,B=j.ASN1Util.newObject,K=j.x509.SubjectPublicKeyInfo,J=F.crypto,G=J.DSA,Z=J.ECDSA,et=ht;function nt(mt){return B({seq:[{int:0},{int:{bigint:mt.n}},{int:mt.e},{int:{bigint:mt.d}},{int:{bigint:mt.p}},{int:{bigint:mt.q}},{int:{bigint:mt.dmp1}},{int:{bigint:mt.dmq1}},{int:{bigint:mt.coeff}}]})}function x(mt){return B({seq:[{int:1},{octstr:{hex:mt.prvKeyHex}},{tag:["a0",!0,{oid:{name:mt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+mt.pubKeyHex}}]}]})}function V(mt){return B({seq:[{int:0},{int:{bigint:mt.p}},{int:{bigint:mt.q}},{int:{bigint:mt.g}},{int:{bigint:mt.y}},{int:{bigint:mt.x}}]})}if((et!==void 0&&e instanceof et||G!==void 0&&e instanceof G||Z!==void 0&&e instanceof Z)&&e.isPublic==1&&(t===void 0||t=="PKCS8PUB"))return Se(it=new K(e).getEncodedHex(),"PUBLIC KEY");if(t=="PKCS1PRV"&&et!==void 0&&e instanceof et&&(r===void 0||r==null)&&e.isPrivate==1)return Se(it=nt(e).getEncodedHex(),"RSA PRIVATE KEY");if(t=="PKCS1PRV"&&Z!==void 0&&e instanceof Z&&(r===void 0||r==null)&&e.isPrivate==1){var W=new N({name:e.curveName}).getEncodedHex(),z=x(e).getEncodedHex(),tt="";return tt+=Se(W,"EC PARAMETERS"),tt+=Se(z,"EC PRIVATE KEY")}if(t=="PKCS1PRV"&&G!==void 0&&e instanceof G&&(r===void 0||r==null)&&e.isPrivate==1)return Se(it=V(e).getEncodedHex(),"DSA PRIVATE KEY");if(t=="PKCS5PRV"&&et!==void 0&&e instanceof et&&r!==void 0&&r!=null&&e.isPrivate==1){var it=nt(e).getEncodedHex();return o===void 0&&(o="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",it,r,o,_)}if(t=="PKCS5PRV"&&Z!==void 0&&e instanceof Z&&r!==void 0&&r!=null&&e.isPrivate==1)return it=x(e).getEncodedHex(),o===void 0&&(o="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",it,r,o,_);if(t=="PKCS5PRV"&&G!==void 0&&e instanceof G&&r!==void 0&&r!=null&&e.isPrivate==1)return it=V(e).getEncodedHex(),o===void 0&&(o="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",it,r,o,_);var _t=function(xt,Gt){var Qt=ut(xt,Gt);return new B({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Qt.pbkdf2Salt}},{int:Qt.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Qt.encryptionSchemeIV}}]}]}]},{octstr:{hex:Qt.ciphertext}}]}).getEncodedHex()},ut=function(xt,Gt){var Qt=T.lib.WordArray.random(8),Yt=T.lib.WordArray.random(8),we=T.PBKDF2(Gt,Qt,{keySize:6,iterations:100}),pe=T.enc.Hex.parse(xt),ye=T.TripleDES.encrypt(pe,we,{iv:Yt})+"",ne={};return ne.ciphertext=ye,ne.pbkdf2Salt=T.enc.Hex.stringify(Qt),ne.pbkdf2Iter=100,ne.encryptionSchemeAlg="DES-EDE3-CBC",ne.encryptionSchemeIV=T.enc.Hex.stringify(Yt),ne};if(t=="PKCS8PRV"&&et!=null&&e instanceof et&&e.isPrivate==1){var Ut=nt(e).getEncodedHex();return it=B({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Ut}}]}).getEncodedHex(),r===void 0||r==null?Se(it,"PRIVATE KEY"):Se(z=_t(it,r),"ENCRYPTED PRIVATE KEY")}if(t=="PKCS8PRV"&&Z!==void 0&&e instanceof Z&&e.isPrivate==1)return Ut=new B({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),it=B({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:Ut}}]}).getEncodedHex(),r===void 0||r==null?Se(it,"PRIVATE KEY"):Se(z=_t(it,r),"ENCRYPTED PRIVATE KEY");if(t=="PKCS8PRV"&&G!==void 0&&e instanceof G&&e.isPrivate==1)return Ut=new U({bigint:e.x}).getEncodedHex(),it=B({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:Ut}}]}).getEncodedHex(),r===void 0||r==null?Se(it,"PRIVATE KEY"):Se(z=_t(it,r),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},ie.getKeyFromCSRPEM=function(e){var t=Le(e,"CERTIFICATE REQUEST");return ie.getKeyFromCSRHex(t)},ie.getKeyFromCSRHex=function(e){var t=ie.parseCSRHex(e);return ie.getKey(t.p8pubkeyhex,null,"pkcs8pub")},ie.parseCSRHex=function(e){var t=st,r=t.getChildIdx,o=t.getTLV,h={},_=e;if(_.substr(0,2)!="30")throw"malformed CSR(code:001)";var F=r(_,0);if(F.length<1)throw"malformed CSR(code:002)";if(_.substr(F[0],2)!="30")throw"malformed CSR(code:003)";var j=r(_,F[0]);if(j.length<3)throw"malformed CSR(code:004)";return h.p8pubkeyhex=o(_,j[2]),h},ie.getKeyID=function(e){var t=ie,r=st;typeof e=="string"&&e.indexOf("BEGIN ")!=-1&&(e=t.getKey(e));var o=Le(t.getPEM(e)),h=r.getIdxbyList(o,0,[1]),_=r.getV(o,h).substring(2);return O.crypto.Util.hashHex(_,"sha1")},ie.getJWKFromKey=function(e){var t={};if(e instanceof ht&&e.isPrivate)return t.kty="RSA",t.n=Dt(e.n.toString(16)),t.e=Dt(e.e.toString(16)),t.d=Dt(e.d.toString(16)),t.p=Dt(e.p.toString(16)),t.q=Dt(e.q.toString(16)),t.dp=Dt(e.dmp1.toString(16)),t.dq=Dt(e.dmq1.toString(16)),t.qi=Dt(e.coeff.toString(16)),t;if(e instanceof ht&&e.isPublic)return t.kty="RSA",t.n=Dt(e.n.toString(16)),t.e=Dt(e.e.toString(16)),t;if(e instanceof O.crypto.ECDSA&&e.isPrivate){if((o=e.getShortNISTPCurveName())!=="P-256"&&o!=="P-384")throw"unsupported curve name for JWT: "+o;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=o,t.x=Dt(r.x),t.y=Dt(r.y),t.d=Dt(e.prvKeyHex),t}if(e instanceof O.crypto.ECDSA&&e.isPublic){var o;if((o=e.getShortNISTPCurveName())!=="P-256"&&o!=="P-384")throw"unsupported curve name for JWT: "+o;return r=e.getPublicKeyXYHex(),t.kty="EC",t.crv=o,t.x=Dt(r.x),t.y=Dt(r.y),t}throw"not supported key object"},ht.getPosArrayOfChildrenFromHex=function(e){return st.getChildIdx(e,0)},ht.getHexValueArrayOfChildrenFromHex=function(e){var t,r=st.getV,o=r(e,(t=ht.getPosArrayOfChildrenFromHex(e))[0]),h=r(e,t[1]),_=r(e,t[2]),F=r(e,t[3]),j=r(e,t[4]),N=r(e,t[5]),U=r(e,t[6]),B=r(e,t[7]),K=r(e,t[8]);return(t=new Array).push(o,h,_,F,j,N,U,B,K),t},ht.prototype.readPrivateKeyFromPEMString=function(e){var t=Le(e),r=ht.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},ht.prototype.readPKCS5PrvKeyHex=function(e){var t=ht.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ht.prototype.readPKCS8PrvKeyHex=function(e){var t,r,o,h,_,F,j,N,U=st,B=U.getVbyListEx;if(U.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");try{t=B(e,0,[2,0,1],"02"),r=B(e,0,[2,0,2],"02"),o=B(e,0,[2,0,3],"02"),h=B(e,0,[2,0,4],"02"),_=B(e,0,[2,0,5],"02"),F=B(e,0,[2,0,6],"02"),j=B(e,0,[2,0,7],"02"),N=B(e,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,r,o,h,_,F,j,N)},ht.prototype.readPKCS5PubKeyHex=function(e){var t=st,r=t.getV;if(t.isASN1HEX(e)===!1)throw new Error("keyHex is not ASN.1 hex string");var o=t.getChildIdx(e,0);if(o.length!==2||e.substr(o[0],2)!=="02"||e.substr(o[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var h=r(e,o[0]),_=r(e,o[1]);this.setPublic(h,_)},ht.prototype.readPKCS8PubKeyHex=function(e){var t=st;if(t.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");if(t.getTLVbyListEx(e,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var r=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},ht.prototype.readCertPubKeyHex=function(e,t){var r,o;(r=new oe).readCertHex(e),o=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(o)};var Io=new RegExp("[^0-9a-f]","gi");function Yn(e,t){for(var r="",o=t/4-e.length,h=0;h<o;h++)r+="0";return r+e}function Xn(e,t,r){for(var o="",h=0;o.length<t;)o+=le(r(be(e+String.fromCharCode.apply(String,[(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])))),h+=1;return o}function Qn(e){for(var t in O.crypto.Util.DIGESTINFOHEAD){var r=O.crypto.Util.DIGESTINFOHEAD[t],o=r.length;if(e.substring(0,o)==r)return[t,e.substring(o)]}return[]}function oe(e){var t,r=st,o=r.getChildIdx,h=r.getV,_=r.getTLV,F=r.getVbyList,j=r.getVbyListEx,N=r.getTLVbyList,U=r.getTLVbyListEx,B=r.getIdxbyList,K=r.getIdxbyListEx,J=r.getVidx,G=r.oidname,Z=r.hextooidstr,et=oe,nt=Le;try{t=O.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return this.hex===null||this.version!==0?this.version:N(this.hex,0,[0,0])!=="a003020102"?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return j(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var x=U(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(x)},this.getAlgorithmIdentifierName=function(x){for(var V in t)if(x===t[V])return V;return G(j(x,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return N(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return et.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return N(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return et.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var x=F(this.hex,0,[0,4+this.foffset,0]);return x=x.replace(/(..)/g,"%$1"),x=decodeURIComponent(x)},this.getNotAfter=function(){var x=F(this.hex,0,[0,4+this.foffset,1]);return x=x.replace(/(..)/g,"%$1"),x=decodeURIComponent(x)},this.getPublicKeyHex=function(){return r.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return B(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var x=this.getPublicKeyIdx();return B(this.hex,x,[1,0],"30")},this.getPublicKey=function(){return ie.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var x=N(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(x)},this.getSignatureValueHex=function(){return F(this.hex,0,[2],"03",!0)},this.verifySignature=function(x){var V=this.getSignatureAlgorithmField(),W=this.getSignatureValueHex(),z=N(this.hex,0,[0],"30"),tt=new O.crypto.Signature({alg:V});return tt.init(x),tt.updateHex(z),tt.verify(W)},this.parseExt=function(x){var V,W,z;if(x===void 0){if(z=this.hex,this.version!==3)return-1;V=B(z,0,[0,7,0],"30"),W=o(z,V)}else{z=Le(x);var tt=B(z,0,[0,3,0,0],"06");if(h(z,tt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);V=B(z,0,[0,3,0,1,0],"30"),W=o(z,V),this.hex=z}this.aExtInfo=new Array;for(var it=0;it<W.length;it++){var _t={critical:!1},ut=0;o(z,W[it]).length===3&&(_t.critical=!0,ut=1),_t.oid=r.hextooidstr(F(z,W[it],[0],"06"));var Ut=B(z,W[it],[1+ut]);_t.vidx=J(z,Ut),this.aExtInfo.push(_t)}},this.getExtInfo=function(x){var V=this.aExtInfo,W=x;if(x.match(/^[0-9.]+$/)||(W=O.asn1.x509.OID.name2oid(x)),W!==""){for(var z=0;z<V.length;z++)if(V[z].oid===W)return V[z]}},this.getExtBasicConstraints=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("basicConstraints");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"basicConstraints"};if(V&&(z.critical=!0),x==="3000")return z;if(x==="30030101ff")return z.cA=!0,z;if(x.substr(0,12)==="30060101ff02"){var tt=h(x,10),it=parseInt(tt,16);return z.cA=!0,z.pathLen=it,z}throw new Error("hExtV parse error: "+x)},this.getExtKeyUsage=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("keyUsage");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"keyUsage"};return V&&(z.critical=!0),z.names=this.getExtKeyUsageString(x).split(","),z},this.getExtKeyUsageBin=function(x){if(x===void 0){var V=this.getExtInfo("keyUsage");if(V===void 0)return"";x=_(this.hex,V.vidx)}if(x.length!=8&&x.length!=10)throw new Error("malformed key usage value: "+x);var W="000000000000000"+parseInt(x.substr(6),16).toString(2);return x.length==8&&(W=W.slice(-8)),x.length==10&&(W=W.slice(-16)),(W=W.replace(/0+$/,""))==""&&(W="0"),W},this.getExtKeyUsageString=function(x){for(var V=this.getExtKeyUsageBin(x),W=new Array,z=0;z<V.length;z++)V.substr(z,1)=="1"&&W.push(oe.KEYUSAGE_NAME[z]);return W.join(",")},this.getExtSubjectKeyIdentifier=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("subjectKeyIdentifier");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"subjectKeyIdentifier"};V&&(z.critical=!0);var tt=h(x,0);return z.kid={hex:tt},z},this.getExtAuthorityKeyIdentifier=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("authorityKeyIdentifier");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"authorityKeyIdentifier"};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++){var _t=x.substr(tt[it],2);if(_t==="80"&&(z.kid={hex:h(x,tt[it])}),_t==="a1"){var ut=_(x,tt[it]),Ut=this.getGeneralNames(ut);z.issuer=Ut[0].dn}_t==="82"&&(z.sn={hex:h(x,tt[it])})}return z},this.getExtExtKeyUsage=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("extKeyUsage");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"extKeyUsage",array:[]};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++)z.array.push(G(h(x,tt[it])));return z},this.getExtExtKeyUsageName=function(){var x=this.getExtInfo("extKeyUsage");if(x===void 0)return x;var V=new Array,W=_(this.hex,x.vidx);if(W==="")return V;for(var z=o(W,0),tt=0;tt<z.length;tt++)V.push(G(h(W,z[tt])));return V},this.getExtSubjectAltName=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("subjectAltName");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"subjectAltName",array:[]};return V&&(z.critical=!0),z.array=this.getGeneralNames(x),z},this.getExtIssuerAltName=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("issuerAltName");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"issuerAltName",array:[]};return V&&(z.critical=!0),z.array=this.getGeneralNames(x),z},this.getGeneralNames=function(x){for(var V=o(x,0),W=[],z=0;z<V.length;z++){var tt=this.getGeneralName(_(x,V[z]));tt!==void 0&&W.push(tt)}return W},this.getGeneralName=function(x){var V=x.substr(0,2),W=h(x,0),z=le(W);return V=="81"?{rfc822:z}:V=="82"?{dns:z}:V=="86"?{uri:z}:V=="87"?{ip:on(W)}:V=="a4"?{dn:this.getX500Name(W)}:void 0},this.getExtSubjectAltName2=function(){var x,V,W,z=this.getExtInfo("subjectAltName");if(z===void 0)return z;for(var tt=new Array,it=_(this.hex,z.vidx),_t=o(it,0),ut=0;ut<_t.length;ut++)W=it.substr(_t[ut],2),x=h(it,_t[ut]),W==="81"&&(V=re(x),tt.push(["MAIL",V])),W==="82"&&(V=re(x),tt.push(["DNS",V])),W==="84"&&(V=oe.hex2dn(x,0),tt.push(["DN",V])),W==="86"&&(V=re(x),tt.push(["URI",V])),W==="87"&&(V=on(x),tt.push(["IP",V]));return tt},this.getExtCRLDistributionPoints=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("cRLDistributionPoints");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"cRLDistributionPoints",array:[]};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++){var _t=_(x,tt[it]);z.array.push(this.getDistributionPoint(_t))}return z},this.getDistributionPoint=function(x){for(var V={},W=o(x,0),z=0;z<W.length;z++){var tt=x.substr(W[z],2),it=_(x,W[z]);tt=="a0"&&(V.dpname=this.getDistributionPointName(it))}return V},this.getDistributionPointName=function(x){for(var V={},W=o(x,0),z=0;z<W.length;z++){var tt=x.substr(W[z],2),it=_(x,W[z]);tt=="a0"&&(V.full=this.getGeneralNames(it))}return V},this.getExtCRLDistributionPointsURI=function(){var x=this.getExtInfo("cRLDistributionPoints");if(x===void 0)return x;for(var V=new Array,W=o(this.hex,x.vidx),z=0;z<W.length;z++)try{var tt=re(F(this.hex,W[z],[0,0,0],"86"));V.push(tt)}catch{}return V},this.getExtAIAInfo=function(){var x=this.getExtInfo("authorityInfoAccess");if(x===void 0)return x;for(var V={ocsp:[],caissuer:[]},W=o(this.hex,x.vidx),z=0;z<W.length;z++){var tt=F(this.hex,W[z],[0],"06"),it=F(this.hex,W[z],[1],"86");tt==="2b06010505073001"&&V.ocsp.push(re(it)),tt==="2b06010505073002"&&V.caissuer.push(re(it))}return V},this.getExtAuthorityInfoAccess=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("authorityInfoAccess");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"authorityInfoAccess",array:[]};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++){var _t=j(x,tt[it],[0],"06"),ut=re(F(x,tt[it],[1],"86"));if(_t=="2b06010505073001")z.array.push({ocsp:ut});else{if(_t!="2b06010505073002")throw new Error("unknown method: "+_t);z.array.push({caissuer:ut})}}return z},this.getExtCertificatePolicies=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("certificatePolicies");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"certificatePolicies",array:[]};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++){var _t=_(x,tt[it]),ut=this.getPolicyInformation(_t);z.array.push(ut)}return z},this.getPolicyInformation=function(x){var V={},W=F(x,0,[0],"06");V.policyoid=G(W);var z=K(x,0,[1],"30");if(z!=-1){V.array=[];for(var tt=o(x,z),it=0;it<tt.length;it++){var _t=_(x,tt[it]),ut=this.getPolicyQualifierInfo(_t);V.array.push(ut)}}return V},this.getPolicyQualifierInfo=function(x){var V={},W=F(x,0,[0],"06");if(W==="2b06010505070201"){var z=j(x,0,[1],"16");V.cps=le(z)}else if(W==="2b06010505070202"){var tt=N(x,0,[1],"30");V.unotice=this.getUserNotice(tt)}return V},this.getUserNotice=function(x){for(var V={},W=o(x,0),z=0;z<W.length;z++){var tt=_(x,W[z]);tt.substr(0,2)!="30"&&(V.exptext=this.getDisplayText(tt))}return V},this.getDisplayText=function(x){var V={};return V.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[x.substr(0,2)],V.str=le(h(x,0)),V},this.getExtCRLNumber=function(x,V){var W={extname:"cRLNumber"};if(V&&(W.critical=!0),x.substr(0,2)=="02")return W.num={hex:h(x,0)},W;throw new Error("hExtV parse error: "+x)},this.getExtCRLReason=function(x,V){var W={extname:"cRLReason"};if(V&&(W.critical=!0),x.substr(0,2)=="0a")return W.code=parseInt(h(x,0),16),W;throw new Error("hExtV parse error: "+x)},this.getExtOcspNonce=function(x,V){var W={extname:"ocspNonce"};V&&(W.critical=!0);var z=h(x,0);return W.hex=z,W},this.getExtOcspNoCheck=function(x,V){var W={extname:"ocspNoCheck"};return V&&(W.critical=!0),W},this.getExtAdobeTimeStamp=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("adobeTimeStamp");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"adobeTimeStamp"};V&&(z.critical=!0);var tt=o(x,0);if(tt.length>1){var it=_(x,tt[1]),_t=this.getGeneralName(it);_t.uri!=null&&(z.uri=_t.uri)}if(tt.length>2){var ut=_(x,tt[2]);ut=="0101ff"&&(z.reqauth=!0),ut=="010100"&&(z.reqauth=!1)}return z},this.getX500NameRule=function(x){for(var V=null,W=[],z=0;z<x.length;z++)for(var tt=x[z],it=0;it<tt.length;it++)W.push(tt[it]);for(z=0;z<W.length;z++){var _t=W[z],ut=_t.ds,Ut=_t.value,mt=_t.type;if(ut!="prn"&&ut!="utf8"&&ut!="ia5")return"mixed";if(ut=="ia5"){if(mt!="CN")return"mixed";if(O.lang.String.isMail(Ut))continue;return"mixed"}if(mt=="C"){if(ut=="prn")continue;return"mixed"}if(V==null)V=ut;else if(V!==ut)return"mixed"}return V??"prn"},this.getX500Name=function(x){var V=this.getX500NameArray(x);return{array:V,str:this.dnarraytostr(V)}},this.getX500NameArray=function(x){for(var V=[],W=o(x,0),z=0;z<W.length;z++)V.push(this.getRDN(_(x,W[z])));return V},this.getRDN=function(x){for(var V=[],W=o(x,0),z=0;z<W.length;z++)V.push(this.getAttrTypeAndValue(_(x,W[z])));return V},this.getAttrTypeAndValue=function(x){var V={type:null,value:null,ds:null},W=o(x,0),z=F(x,W[0],[],"06"),tt=F(x,W[1],[]),it=O.asn1.ASN1Util.oidHexToInt(z);return V.type=O.asn1.x509.OID.oid2atype(it),V.value=le(tt),V.ds=this.HEX2STAG[x.substr(W[1],2)],V},this.readCertPEM=function(x){this.readCertHex(nt(x))},this.readCertHex=function(x){this.hex=x,this.getVersion();try{B(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var x={};return x.version=this.getVersion(),x.serial={hex:this.getSerialNumberHex()},x.sigalg=this.getSignatureAlgorithmField(),x.issuer=this.getIssuer(),x.notbefore=this.getNotBefore(),x.notafter=this.getNotAfter(),x.subject=this.getSubject(),x.sbjpubkey=Se(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(x.ext=this.getExtParamArray()),x.sighex=this.getSignatureValueHex(),x},this.getExtParamArray=function(x){x==null&&K(this.hex,0,[0,"[3]"])!=-1&&(x=U(this.hex,0,[0,"[3]",0],"30"));for(var V=[],W=o(x,0),z=0;z<W.length;z++){var tt=_(x,W[z]),it=this.getExtParam(tt);it!=null&&V.push(it)}return V},this.getExtParam=function(x){var V=o(x,0).length;if(V!=2&&V!=3)throw new Error("wrong number elements in Extension: "+V+" "+x);var W=Z(F(x,0,[0],"06")),z=!1;V==3&&N(x,0,[1])=="0101ff"&&(z=!0);var tt=N(x,0,[V-1,0]),it=void 0;if(W=="2.5.29.14"?it=this.getExtSubjectKeyIdentifier(tt,z):W=="2.5.29.15"?it=this.getExtKeyUsage(tt,z):W=="2.5.29.17"?it=this.getExtSubjectAltName(tt,z):W=="2.5.29.18"?it=this.getExtIssuerAltName(tt,z):W=="2.5.29.19"?it=this.getExtBasicConstraints(tt,z):W=="2.5.29.31"?it=this.getExtCRLDistributionPoints(tt,z):W=="2.5.29.32"?it=this.getExtCertificatePolicies(tt,z):W=="2.5.29.35"?it=this.getExtAuthorityKeyIdentifier(tt,z):W=="2.5.29.37"?it=this.getExtExtKeyUsage(tt,z):W=="1.3.6.1.5.5.7.1.1"?it=this.getExtAuthorityInfoAccess(tt,z):W=="2.5.29.20"?it=this.getExtCRLNumber(tt,z):W=="2.5.29.21"?it=this.getExtCRLReason(tt,z):W=="1.3.6.1.5.5.7.48.1.2"?it=this.getExtOcspNonce(tt,z):W=="1.3.6.1.5.5.7.48.1.5"?it=this.getExtOcspNoCheck(tt,z):W=="1.2.840.113583.1.1.9.1"&&(it=this.getExtAdobeTimeStamp(tt,z)),it!=null)return it;var _t={extname:W,extn:tt};return z&&(_t.critical=!0),_t},this.findExt=function(x,V){for(var W=0;W<x.length;W++)if(x[W].extname==V)return x[W];return null},this.updateExtCDPFullURI=function(x,V){var W=this.findExt(x,"cRLDistributionPoints");if(W!=null&&W.array!=null){for(var z=W.array,tt=0;tt<z.length;tt++)if(z[tt].dpname!=null&&z[tt].dpname.full!=null)for(var it=z[tt].dpname.full,_t=0;_t<it.length;_t++){var ut=it[tt];ut.uri!=null&&(ut.uri=V)}}},this.updateExtAIAOCSP=function(x,V){var W=this.findExt(x,"authorityInfoAccess");if(W!=null&&W.array!=null)for(var z=W.array,tt=0;tt<z.length;tt++)z[tt].ocsp!=null&&(z[tt].ocsp=V)},this.updateExtAIACAIssuer=function(x,V){var W=this.findExt(x,"authorityInfoAccess");if(W!=null&&W.array!=null)for(var z=W.array,tt=0;tt<z.length;tt++)z[tt].caissuer!=null&&(z[tt].caissuer=V)},this.dnarraytostr=function(x){return"/"+x.map(function(V){return function(z){return z.map(function(tt){return function(_t){return _t.type+"="+_t.value}(tt)}).join("+")}(V)}).join("/")},this.getInfo=function(){var x,V,W,z=function(we){return JSON.stringify(we.array).replace(/[\[\]\{\}\"]/g,"")},tt=function(we){for(var pe="",ye=we.array,ne=0;ne<ye.length;ne++){var ae=ye[ne];if(pe+="    policy oid: "+ae.policyoid+`
`,ae.array!==void 0)for(var he=0;he<ae.array.length;he++){var _e=ae.array[he];_e.cps!==void 0&&(pe+="    cps: "+_e.cps+`
`)}}return pe},it=function(we){for(var pe="",ye=we.array,ne=0;ne<ye.length;ne++){var ae=ye[ne];try{ae.dpname.full[0].uri!==void 0&&(pe+="    "+ae.dpname.full[0].uri+`
`)}catch{}try{ae.dname.full[0].dn.hex!==void 0&&(pe+="    "+oe.hex2dn(ae.dpname.full[0].dn.hex)+`
`)}catch{}}return pe},_t=function(we){for(var pe="",ye=we.array,ne=0;ne<ye.length;ne++){var ae=ye[ne];ae.caissuer!==void 0&&(pe+="    caissuer: "+ae.caissuer+`
`),ae.ocsp!==void 0&&(pe+="    ocsp: "+ae.ocsp+`
`)}return pe};if(x=`Basic Fields
`,x+="  serial number: "+this.getSerialNumberHex()+`
`,x+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,x+="  issuer: "+this.getIssuerString()+`
`,x+="  notBefore: "+this.getNotBefore()+`
`,x+="  notAfter: "+this.getNotAfter()+`
`,x+="  subject: "+this.getSubjectString()+`
`,x+=`  subject public key info: 
`,x+="    key algorithm: "+(V=this.getPublicKey()).type+`
`,V.type==="RSA"&&(x+="    n="+sn(V.n.toString(16)).substr(0,16)+`...
`,x+="    e="+sn(V.e.toString(16))+`
`),(W=this.aExtInfo)!=null){x+=`X509v3 Extensions:
`;for(var ut=0;ut<W.length;ut++){var Ut=W[ut],mt=O.asn1.x509.OID.oid2name(Ut.oid);mt===""&&(mt=Ut.oid);var xt="";if(Ut.critical===!0&&(xt="CRITICAL"),x+="  "+mt+" "+xt+`:
`,mt==="basicConstraints"){var Gt=this.getExtBasicConstraints();Gt.cA===void 0?x+=`    {}
`:(x+="    cA=true",Gt.pathLen!==void 0&&(x+=", pathLen="+Gt.pathLen),x+=`
`)}else if(mt==="keyUsage")x+="    "+this.getExtKeyUsageString()+`
`;else if(mt==="subjectKeyIdentifier")x+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(mt==="authorityKeyIdentifier"){var Qt=this.getExtAuthorityKeyIdentifier();Qt.kid!==void 0&&(x+="    kid="+Qt.kid.hex+`
`)}else mt==="extKeyUsage"?x+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:mt==="subjectAltName"?x+="    "+z(this.getExtSubjectAltName())+`
`:mt==="cRLDistributionPoints"?x+=it(this.getExtCRLDistributionPoints()):mt==="authorityInfoAccess"?x+=_t(this.getExtAuthorityInfoAccess()):mt==="certificatePolicies"&&(x+=tt(this.getExtCertificatePolicies()))}}return x+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,x+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof e=="string"&&(e.indexOf("-----BEGIN")!=-1?this.readCertPEM(e):O.lang.String.isHex(e)&&this.readCertHex(e))}ht.prototype.sign=function(e,t){var r=function(h){return O.crypto.Util.hashString(h,t)}(e);return this.signWithMessageHash(r,t)},ht.prototype.signWithMessageHash=function(e,t){var r=Lt(O.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return Yn(this.doPrivate(r).toString(16),this.n.bitLength())},ht.prototype.signPSS=function(e,t,r){var o=function(_){return O.crypto.Util.hashHex(_,t)}(be(e));return r===void 0&&(r=-1),this.signWithMessageHashPSS(o,t,r)},ht.prototype.signWithMessageHashPSS=function(e,t,r){var o,h=le(e),_=h.length,F=this.n.bitLength()-1,j=Math.ceil(F/8),N=function(x){return O.crypto.Util.hashHex(x,t)};if(r===-1||r===void 0)r=_;else if(r===-2)r=j-_-2;else if(r<-2)throw new Error("invalid salt length");if(j<_+r+2)throw new Error("data too long");var U="";r>0&&(U=new Array(r),new At().nextBytes(U),U=String.fromCharCode.apply(String,U));var B=le(N(be("\0\0\0\0\0\0\0\0"+h+U))),K=[];for(o=0;o<j-r-_-2;o+=1)K[o]=0;var J=String.fromCharCode.apply(String,K)+""+U,G=Xn(B,J.length,N),Z=[];for(o=0;o<J.length;o+=1)Z[o]=J.charCodeAt(o)^G.charCodeAt(o);var et=65280>>8*j-F&255;for(Z[0]&=~et,o=0;o<_;o++)Z.push(B.charCodeAt(o));return Z.push(188),Yn(this.doPrivate(new M(Z)).toString(16),this.n.bitLength())},ht.prototype.verify=function(e,t){var r=Lt(t=(t=t.replace(Io,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var o=Qn(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(o.length==0)return!1;var h=o[0];return o[1]==function(F){return O.crypto.Util.hashString(F,h)}(e)},ht.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=Lt(t,16);if(r.bitLength()>this.n.bitLength())return 0;var o=Qn(this.doPublic(r).toString(16).replace(/^1f+00/,""));return o.length==0?!1:(o[0],o[1]==e)},ht.prototype.verifyPSS=function(e,t,r,o){var h=function(F){return O.crypto.Util.hashHex(F,r)}(be(e));return o===void 0&&(o=-1),this.verifyWithMessageHashPSS(h,t,r,o)},ht.prototype.verifyWithMessageHashPSS=function(e,t,r,o){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var h,_=new M(t,16),F=function(W){return O.crypto.Util.hashHex(W,r)},j=le(e),N=j.length,U=this.n.bitLength()-1,B=Math.ceil(U/8);if(o===-1||o===void 0)o=N;else if(o===-2)o=B-N-2;else if(o<-2)throw new Error("invalid salt length");if(B<N+o+2)throw new Error("data too long");var K=this.doPublic(_).toByteArray();for(h=0;h<K.length;h+=1)K[h]&=255;for(;K.length<B;)K.unshift(0);if(K[B-1]!==188)throw new Error("encoded message does not end in 0xbc");var J=(K=String.fromCharCode.apply(String,K)).substr(0,B-N-1),G=K.substr(J.length,N),Z=65280>>8*B-U&255;if(J.charCodeAt(0)&Z)throw new Error("bits beyond keysize not zero");var et=Xn(G,J.length,F),nt=[];for(h=0;h<J.length;h+=1)nt[h]=J.charCodeAt(h)^et.charCodeAt(h);nt[0]&=~Z;var x=B-N-o-2;for(h=0;h<x;h+=1)if(nt[h]!==0)throw new Error("leftmost octets not zero");if(nt[x]!==1)throw new Error("0x01 marker not found");return G===le(F(be("\0\0\0\0\0\0\0\0"+j+String.fromCharCode.apply(String,nt.slice(-o)))))},ht.SALT_LEN_HLEN=-1,ht.SALT_LEN_MAX=-2,ht.SALT_LEN_RECOVER=-2,oe.hex2dn=function(e,t){if(t===void 0&&(t=0),e.substr(t,2)!=="30")throw new Error("malformed DN");for(var r=new Array,o=st.getChildIdx(e,t),h=0;h<o.length;h++)r.push(oe.hex2rdn(e,o[h]));return"/"+(r=r.map(function(_){return _.replace("/","\\/")})).join("/")},oe.hex2rdn=function(e,t){if(t===void 0&&(t=0),e.substr(t,2)!=="31")throw new Error("malformed RDN");for(var r=new Array,o=st.getChildIdx(e,t),h=0;h<o.length;h++)r.push(oe.hex2attrTypeValue(e,o[h]));return(r=r.map(function(_){return _.replace("+","\\+")})).join("+")},oe.hex2attrTypeValue=function(e,t){var r=st,o=r.getV;if(t===void 0&&(t=0),e.substr(t,2)!=="30")throw new Error("malformed attribute type and value");var h=r.getChildIdx(e,t);h.length!==2||e.substr(h[0],2);var _=o(e,h[0]),F=O.asn1.ASN1Util.oidHexToInt(_);return O.asn1.x509.OID.oid2atype(F)+"="+le(o(e,h[1]))},oe.getPublicKeyFromCertHex=function(e){var t=new oe;return t.readCertHex(e),t.getPublicKey()},oe.getPublicKeyFromCertPEM=function(e){var t=new oe;return t.readCertPEM(e),t.getPublicKey()},oe.getPublicKeyInfoPropOfCertPEM=function(e){var t,r,o=st.getVbyList,h={};return h.algparam=null,(t=new oe).readCertPEM(e),r=t.getPublicKeyHex(),h.keyhex=o(r,0,[1],"03").substr(2),h.algoid=o(r,0,[0,0],"06"),h.algoid==="2a8648ce3d0201"&&(h.algparam=o(r,0,[0,1],"06")),h},oe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],O!==void 0&&O||(a.KJUR=O={}),O.jws!==void 0&&O.jws||(O.jws={}),O.jws.JWS=function(){var e=O.jws.JWS.isSafeJSONString;this.parseJWS=function(t,r){if(this.parsedJWS===void 0||!r&&this.parsedJWS.sigvalH===void 0){var o=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(o==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var h=o[1],_=o[2],F=o[3],j=h+"."+_;if(this.parsedJWS={},this.parsedJWS.headB64U=h,this.parsedJWS.payloadB64U=_,this.parsedJWS.sigvalB64U=F,this.parsedJWS.si=j,!r){var N=Bt(F),U=Lt(N,16);this.parsedJWS.sigvalH=N,this.parsedJWS.sigvalBI=U}var B=ge(h),K=ge(_);if(this.parsedJWS.headS=B,this.parsedJWS.payloadS=K,!e(B,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+B}}},O.jws.JWS.sign=function(e,t,r,o,h){var _,F,j,N=O,U=N.jws.JWS,B=U.readSafeJSONString,K=U.isSafeJSONString,J=N.crypto,G=(J.ECDSA,J.Mac),Z=J.Signature,et=JSON;if(typeof t!="string"&&(t===void 0?"undefined":i(t))!="object")throw"spHeader must be JSON string or object: "+t;if((t===void 0?"undefined":i(t))=="object"&&(F=t,_=et.stringify(F)),typeof t=="string"){if(!K(_=t))throw"JWS Head is not safe JSON string: "+_;F=B(_)}if(j=r,(r===void 0?"undefined":i(r))=="object"&&(j=et.stringify(r)),e!=""&&e!=null||F.alg===void 0||(e=F.alg),e!=""&&e!=null&&F.alg===void 0&&(F.alg=e,_=et.stringify(F)),e!==F.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+F.alg;var nt=null;if(U.jwsalg2sigalg[e]===void 0)throw"unsupported alg name: "+e;nt=U.jwsalg2sigalg[e];var x=Ae(_)+"."+Ae(j),V="";if(nt.substr(0,4)=="Hmac"){if(o===void 0)throw"mac key shall be specified for HS* alg";var W=new G({alg:nt,prov:"cryptojs",pass:o});W.updateString(x),V=W.doFinal()}else if(nt.indexOf("withECDSA")!=-1){(tt=new Z({alg:nt})).init(o,h),tt.updateString(x);var z=tt.sign();V=O.crypto.ECDSA.asn1SigToConcatSig(z)}else{var tt;nt!="none"&&((tt=new Z({alg:nt})).init(o,h),tt.updateString(x),V=tt.sign())}return x+"."+Dt(V)},O.jws.JWS.verify=function(e,t,r){var o,h=O,_=h.jws.JWS,F=_.readSafeJSONString,j=h.crypto,N=j.ECDSA,U=j.Mac,B=j.Signature;i(ht)!==void 0&&(o=ht);var K=e.split(".");if(K.length!==3)return!1;var J=K[0]+"."+K[1],G=Bt(K[2]),Z=F(ge(K[0])),et=null,nt=null;if(Z.alg===void 0)throw"algorithm not specified in header";if(nt=(et=Z.alg).substr(0,2),r!=null&&Object.prototype.toString.call(r)==="[object Array]"&&r.length>0&&(":"+r.join(":")+":").indexOf(":"+et+":")==-1)throw"algorithm '"+et+"' not accepted in the list";if(et!="none"&&t===null)throw"key shall be specified to verify.";if(typeof t=="string"&&t.indexOf("-----BEGIN ")!=-1&&(t=ie.getKey(t)),!(nt!="RS"&&nt!="PS"||t instanceof o))throw"key shall be a RSAKey obj for RS* and PS* algs";if(nt=="ES"&&!(t instanceof N))throw"key shall be a ECDSA obj for ES* algs";var x=null;if(_.jwsalg2sigalg[Z.alg]===void 0)throw"unsupported alg name: "+et;if((x=_.jwsalg2sigalg[et])=="none")throw"not supported";if(x.substr(0,4)=="Hmac"){if(t===void 0)throw"hexadecimal key shall be specified for HMAC";var V=new U({alg:x,pass:t});return V.updateString(J),G==V.doFinal()}if(x.indexOf("withECDSA")!=-1){var W,z=null;try{z=N.concatSigToASN1Sig(G)}catch{return!1}return(W=new B({alg:x})).init(t),W.updateString(J),W.verify(z)}return(W=new B({alg:x})).init(t),W.updateString(J),W.verify(G)},O.jws.JWS.parse=function(e){var t,r,o,h=e.split("."),_={};if(h.length!=2&&h.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return t=h[0],r=h[1],h.length==3&&(o=h[2]),_.headerObj=O.jws.JWS.readSafeJSONString(ge(t)),_.payloadObj=O.jws.JWS.readSafeJSONString(ge(r)),_.headerPP=JSON.stringify(_.headerObj,null,"  "),_.payloadObj==null?_.payloadPP=ge(r):_.payloadPP=JSON.stringify(_.payloadObj,null,"  "),o!==void 0&&(_.sigHex=Bt(o)),_},O.jws.JWS.verifyJWT=function(e,t,r){var o=O.jws,h=o.JWS,_=h.readSafeJSONString,F=h.inArray,j=h.includedArray,N=e.split("."),U=N[0],B=N[1],K=(Bt(N[2]),_(ge(U))),J=_(ge(B));if(K.alg===void 0)return!1;if(r.alg===void 0)throw"acceptField.alg shall be specified";if(!F(K.alg,r.alg)||J.iss!==void 0&&i(r.iss)==="object"&&!F(J.iss,r.iss)||J.sub!==void 0&&i(r.sub)==="object"&&!F(J.sub,r.sub))return!1;if(J.aud!==void 0&&i(r.aud)==="object"){if(typeof J.aud=="string"){if(!F(J.aud,r.aud))return!1}else if(i(J.aud)=="object"&&!j(J.aud,r.aud))return!1}var G=o.IntDate.getNow();return r.verifyAt!==void 0&&typeof r.verifyAt=="number"&&(G=r.verifyAt),r.gracePeriod!==void 0&&typeof r.gracePeriod=="number"||(r.gracePeriod=0),!(J.exp!==void 0&&typeof J.exp=="number"&&J.exp+r.gracePeriod<G)&&!(J.nbf!==void 0&&typeof J.nbf=="number"&&G<J.nbf-r.gracePeriod)&&!(J.iat!==void 0&&typeof J.iat=="number"&&G<J.iat-r.gracePeriod)&&(J.jti===void 0||r.jti===void 0||J.jti===r.jti)&&!!h.verify(e,t,r.alg)},O.jws.JWS.includedArray=function(e,t){var r=O.jws.JWS.inArray;if(e===null||(e===void 0?"undefined":i(e))!=="object"||typeof e.length!="number")return!1;for(var o=0;o<e.length;o++)if(!r(e[o],t))return!1;return!0},O.jws.JWS.inArray=function(e,t){if(t===null||(t===void 0?"undefined":i(t))!=="object"||typeof t.length!="number")return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},O.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},O.jws.JWS.isSafeJSONString=function(e,t,r){var o=null;try{return((o=me(e))===void 0?"undefined":i(o))!="object"||o.constructor===Array?0:(t&&(t[r]=o),1)}catch{return 0}},O.jws.JWS.readSafeJSONString=function(e){var t=null;try{return((t=me(e))===void 0?"undefined":i(t))!="object"||t.constructor===Array?null:t}catch{return null}},O.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(t==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},O.jws.JWS.getJWKthumbprint=function(e){if(e.kty!=="RSA"&&e.kty!=="EC"&&e.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var t="{";if(e.kty==="RSA"){if(typeof e.n!="string"||typeof e.e!="string")throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if(e.kty==="EC"){if(typeof e.crv!="string"||typeof e.x!="string"||typeof e.y!="string")throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if(e.kty==="oct"){if(typeof e.k!="string")throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=be(t);return Dt(O.crypto.Util.hashHex(r,"sha256"))},O.jws.IntDate={},O.jws.IntDate.get=function(e){var t=O.jws.IntDate,r=t.getNow,o=t.getZulu;if(e=="now")return r();if(e=="now + 1hour")return r()+3600;if(e=="now + 1day")return r()+86400;if(e=="now + 1month")return r()+2592e3;if(e=="now + 1year")return r()+31536e3;if(e.match(/Z$/))return o(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},O.jws.IntDate.getZulu=function(e){return Wn(e)},O.jws.IntDate.getNow=function(){return~~(new Date/1e3)},O.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},O.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},a.SecureRandom=At,a.rng_seed_time=Y,a.BigInteger=M,a.RSAKey=ht;var Oo=O.crypto.EDSA;a.EDSA=Oo;var Lo=O.crypto.DSA;a.DSA=Lo;var No=O.crypto.Signature;a.Signature=No;var Do=O.crypto.MessageDigest;a.MessageDigest=Do;var Uo=O.crypto.Mac;a.Mac=Uo;var jo=O.crypto.Cipher;a.Cipher=jo,a.KEYUTIL=ie,a.ASN1HEX=st,a.X509=oe,a.CryptoJS=T,a.b64tohex=Q,a.b64toBA=rt,a.stoBA=qt,a.BAtos=Wt,a.BAtohex=zt,a.stohex=Ft,a.stob64=function(t){return X(Ft(t))},a.stob64u=function(t){return Ht(X(Ft(t)))},a.b64utos=function(t){return Wt(rt(Kt(t)))},a.b64tob64u=Ht,a.b64utob64=Kt,a.hex2b64=X,a.hextob64u=Dt,a.b64utohex=Bt,a.utf8tob64u=Ae,a.b64utoutf8=ge,a.utf8tob64=function(t){return X(Pr(Cr(t)))},a.b64toutf8=function(t){return decodeURIComponent(kr(Q(t)))},a.utf8tohex=Oe,a.hextoutf8=re,a.hextorstr=le,a.rstrtohex=be,a.hextob64=Ye,a.hextob64nl=rn,a.b64nltohex=qn,a.hextopem=Se,a.pemtohex=Le,a.hextoArrayBuffer=function(t){if(t.length%2!=0)throw"input is not even length";if(t.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var r=new ArrayBuffer(t.length/2),o=new DataView(r),h=0;h<t.length/2;h++)o.setUint8(h,parseInt(t.substr(2*h,2),16));return r},a.ArrayBuffertohex=function(t){for(var r="",o=new DataView(t),h=0;h<t.byteLength;h++)r+=("00"+o.getUint8(h).toString(16)).slice(-2);return r},a.zulutomsec=nn,a.zulutosec=Wn,a.zulutodate=function(t){return new Date(nn(t))},a.datetozulu=function(t,r,o){var h,_=t.getUTCFullYear();if(r){if(_<1950||2049<_)throw"not proper year for UTCTime: "+_;h=(""+_).slice(-2)}else h=("000"+_).slice(-4);if(h+=("0"+(t.getUTCMonth()+1)).slice(-2),h+=("0"+t.getUTCDate()).slice(-2),h+=("0"+t.getUTCHours()).slice(-2),h+=("0"+t.getUTCMinutes()).slice(-2),h+=("0"+t.getUTCSeconds()).slice(-2),o){var F=t.getUTCMilliseconds();F!==0&&(h+="."+(F=(F=("00"+F).slice(-3)).replace(/0+$/g,"")))}return h+="Z"},a.uricmptohex=Pr,a.hextouricmp=kr,a.ipv6tohex=Jn,a.hextoipv6=zn,a.hextoip=on,a.iptohex=function(t){var r="malformed IP address";if(!(t=t.toLowerCase(t)).match(/^[0-9.]+$/)){if(t.match(/^[0-9a-f:]+$/)&&t.indexOf(":")!==-1)return Jn(t);throw r}var o=t.split(".");if(o.length!==4)throw r;var h="";try{for(var _=0;_<4;_++)h+=("0"+parseInt(o[_]).toString(16)).slice(-2);return h}catch{throw r}},a.encodeURIComponentAll=Cr,a.newline_toUnix=function(t){return t=t.replace(/\r\n/gm,`
`)},a.newline_toDos=function(t){return t=(t=t.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},a.hextoposhex=sn,a.intarystrtohex=function(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map(function(r,o,h){var _=parseInt(r);if(_<0||255<_)throw"integer not in range 0-255";return("00"+_.toString(16)).slice(-2)}).join("")}catch(r){throw"malformed integer array string: "+r}},a.strdiffidx=function(t,r){var o=t.length;t.length>r.length&&(o=r.length);for(var h=0;h<o;h++)if(t.charCodeAt(h)!=r.charCodeAt(h))return h;return t.length!=r.length?o:-1},a.KJUR=O;var Mo=O.crypto;a.crypto=Mo;var Bo=O.asn1;a.asn1=Bo;var Ho=O.jws;a.jws=Ho;var Vo=O.lang;a.lang=Vo}).call(this,f(28).Buffer)},function(p,a,f){(function(d){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var i=f(30),v=f(31),g=f(32);function u(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(q,b){if(u()<b)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(q=new Uint8Array(b)).__proto__=c.prototype:(q===null&&(q=new c(b)),q.length=b),q}function c(q,b,m){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(q,b,m);if(typeof q=="number"){if(typeof b=="string")throw new Error("If encoding is specified then the first argument must be a string");return w(this,q)}return y(this,q,b,m)}function y(q,b,m,A){if(typeof b=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&b instanceof ArrayBuffer?function($,Y,at,ft){if(Y.byteLength,at<0||Y.byteLength<at)throw new RangeError("'offset' is out of bounds");if(Y.byteLength<at+(ft||0))throw new RangeError("'length' is out of bounds");return Y=at===void 0&&ft===void 0?new Uint8Array(Y):ft===void 0?new Uint8Array(Y,at):new Uint8Array(Y,at,ft),c.TYPED_ARRAY_SUPPORT?($=Y).__proto__=c.prototype:$=R($,Y),$}(q,b,m,A):typeof b=="string"?function($,Y,at){if(typeof at=="string"&&at!==""||(at="utf8"),!c.isEncoding(at))throw new TypeError('"encoding" must be a valid string encoding');var ft=0|C(Y,at),gt=($=l($,ft)).write(Y,at);return gt!==ft&&($=$.slice(0,gt)),$}(q,b,m):function($,Y){if(c.isBuffer(Y)){var at=0|P(Y.length);return($=l($,at)).length===0||Y.copy($,0,0,at),$}if(Y){if(typeof ArrayBuffer<"u"&&Y.buffer instanceof ArrayBuffer||"length"in Y)return typeof Y.length!="number"||function(gt){return gt!=gt}(Y.length)?l($,0):R($,Y);if(Y.type==="Buffer"&&g(Y.data))return R($,Y.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(q,b)}function S(q){if(typeof q!="number")throw new TypeError('"size" argument must be a number');if(q<0)throw new RangeError('"size" argument must not be negative')}function w(q,b){if(S(b),q=l(q,b<0?0:0|P(b)),!c.TYPED_ARRAY_SUPPORT)for(var m=0;m<b;++m)q[m]=0;return q}function R(q,b){var m=b.length<0?0:0|P(b.length);q=l(q,m);for(var A=0;A<m;A+=1)q[A]=255&b[A];return q}function P(q){if(q>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|q}function C(q,b){if(c.isBuffer(q))return q.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(q)||q instanceof ArrayBuffer))return q.byteLength;typeof q!="string"&&(q=""+q);var m=q.length;if(m===0)return 0;for(var A=!1;;)switch(b){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":case void 0:return Et(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return St(q).length;default:if(A)return Et(q).length;b=(""+b).toLowerCase(),A=!0}}function E(q,b,m){var A=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(b>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return wt(this,b,m);case"utf8":case"utf-8":return ct(this,b,m);case"ascii":return kt(this,b,m);case"latin1":case"binary":return pt(this,b,m);case"base64":return ot(this,b,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,b,m);default:if(A)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),A=!0}}function k(q,b,m){var A=q[b];q[b]=q[m],q[m]=A}function H(q,b,m,A,D){if(q.length===0)return-1;if(typeof m=="string"?(A=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,isNaN(m)&&(m=D?0:q.length-1),m<0&&(m=q.length+m),m>=q.length){if(D)return-1;m=q.length-1}else if(m<0){if(!D)return-1;m=0}if(typeof b=="string"&&(b=c.from(b,A)),c.isBuffer(b))return b.length===0?-1:T(q,b,m,A,D);if(typeof b=="number")return b&=255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(q,b,m):Uint8Array.prototype.lastIndexOf.call(q,b,m):T(q,[b],m,A,D);throw new TypeError("val must be string, number or Buffer")}function T(q,b,m,A,D){var $,Y=1,at=q.length,ft=b.length;if(A!==void 0&&((A=String(A).toLowerCase())==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(q.length<2||b.length<2)return-1;Y=2,at/=2,ft/=2,m/=2}function gt(Lt,Nt){return Y===1?Lt[Nt]:Lt.readUInt16BE(Nt*Y)}if(D){var dt=-1;for($=m;$<at;$++)if(gt(q,$)===gt(b,dt===-1?0:$-dt)){if(dt===-1&&(dt=$),$-dt+1===ft)return dt*Y}else dt!==-1&&($-=$-dt),dt=-1}else for(m+ft>at&&(m=at-ft),$=m;$>=0;$--){for(var vt=!0,At=0;At<ft;At++)if(gt(q,$+At)!==gt(b,At)){vt=!1;break}if(vt)return $}return-1}function I(q,b,m,A){m=Number(m)||0;var D=q.length-m;A?(A=Number(A))>D&&(A=D):A=D;var $=b.length;if($%2!=0)throw new TypeError("Invalid hex string");A>$/2&&(A=$/2);for(var Y=0;Y<A;++Y){var at=parseInt(b.substr(2*Y,2),16);if(isNaN(at))return Y;q[m+Y]=at}return Y}function L(q,b,m,A){return Rt(Et(b,q.length-m),q,m,A)}function X(q,b,m,A){return Rt(function($){for(var Y=[],at=0;at<$.length;++at)Y.push(255&$.charCodeAt(at));return Y}(b),q,m,A)}function Q(q,b,m,A){return X(q,b,m,A)}function rt(q,b,m,A){return Rt(St(b),q,m,A)}function M(q,b,m,A){return Rt(function($,Y){for(var at,ft,gt,dt=[],vt=0;vt<$.length&&!((Y-=2)<0);++vt)ft=(at=$.charCodeAt(vt))>>8,gt=at%256,dt.push(gt),dt.push(ft);return dt}(b,q.length-m),q,m,A)}function ot(q,b,m){return b===0&&m===q.length?i.fromByteArray(q):i.fromByteArray(q.slice(b,m))}function ct(q,b,m){m=Math.min(q.length,m);for(var A=[],D=b;D<m;){var $,Y,at,ft,gt=q[D],dt=null,vt=gt>239?4:gt>223?3:gt>191?2:1;if(D+vt<=m)switch(vt){case 1:gt<128&&(dt=gt);break;case 2:(192&($=q[D+1]))==128&&(ft=(31&gt)<<6|63&$)>127&&(dt=ft);break;case 3:$=q[D+1],Y=q[D+2],(192&$)==128&&(192&Y)==128&&(ft=(15&gt)<<12|(63&$)<<6|63&Y)>2047&&(ft<55296||ft>57343)&&(dt=ft);break;case 4:$=q[D+1],Y=q[D+2],at=q[D+3],(192&$)==128&&(192&Y)==128&&(192&at)==128&&(ft=(15&gt)<<18|(63&$)<<12|(63&Y)<<6|63&at)>65535&&ft<1114112&&(dt=ft)}dt===null?(dt=65533,vt=1):dt>65535&&(dt-=65536,A.push(dt>>>10&1023|55296),dt=56320|1023&dt),A.push(dt),D+=vt}return function(Lt){var Nt=Lt.length;if(Nt<=bt)return String.fromCharCode.apply(String,Lt);for(var ht="",It=0;It<Nt;)ht+=String.fromCharCode.apply(String,Lt.slice(It,It+=bt));return ht}(A)}a.Buffer=c,a.SlowBuffer=function(b){return+b!=b&&(b=0),c.alloc(+b)},a.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=d.TYPED_ARRAY_SUPPORT!==void 0?d.TYPED_ARRAY_SUPPORT:function(){try{var b=new Uint8Array(1);return b.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},b.foo()===42&&typeof b.subarray=="function"&&b.subarray(1,1).byteLength===0}catch{return!1}}(),a.kMaxLength=u(),c.poolSize=8192,c._augment=function(q){return q.__proto__=c.prototype,q},c.from=function(q,b,m){return y(null,q,b,m)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(q,b,m){return function(D,$,Y,at){return S($),$<=0?l(D,$):Y!==void 0?typeof at=="string"?l(D,$).fill(Y,at):l(D,$).fill(Y):l(D,$)}(null,q,b,m)},c.allocUnsafe=function(q){return w(null,q)},c.allocUnsafeSlow=function(q){return w(null,q)},c.isBuffer=function(b){return!(b==null||!b._isBuffer)},c.compare=function(b,m){if(!c.isBuffer(b)||!c.isBuffer(m))throw new TypeError("Arguments must be Buffers");if(b===m)return 0;for(var A=b.length,D=m.length,$=0,Y=Math.min(A,D);$<Y;++$)if(b[$]!==m[$]){A=b[$],D=m[$];break}return A<D?-1:D<A?1:0},c.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(b,m){if(!g(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return c.alloc(0);var A;if(m===void 0)for(m=0,A=0;A<b.length;++A)m+=b[A].length;var D=c.allocUnsafe(m),$=0;for(A=0;A<b.length;++A){var Y=b[A];if(!c.isBuffer(Y))throw new TypeError('"list" argument must be an Array of Buffers');Y.copy(D,$),$+=Y.length}return D},c.byteLength=C,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var b=this.length;if(b%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<b;m+=2)k(this,m,m+1);return this},c.prototype.swap32=function(){var b=this.length;if(b%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<b;m+=4)k(this,m,m+3),k(this,m+1,m+2);return this},c.prototype.swap64=function(){var b=this.length;if(b%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<b;m+=8)k(this,m,m+7),k(this,m+1,m+6),k(this,m+2,m+5),k(this,m+3,m+4);return this},c.prototype.toString=function(){var b=0|this.length;return b===0?"":arguments.length===0?ct(this,0,b):E.apply(this,arguments)},c.prototype.equals=function(b){if(!c.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||c.compare(this,b)===0},c.prototype.inspect=function(){var b="",m=a.INSPECT_MAX_BYTES;return this.length>0&&(b=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(b+=" ... ")),"<Buffer "+b+">"},c.prototype.compare=function(b,m,A,D,$){if(!c.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),A===void 0&&(A=b?b.length:0),D===void 0&&(D=0),$===void 0&&($=this.length),m<0||A>b.length||D<0||$>this.length)throw new RangeError("out of range index");if(D>=$&&m>=A)return 0;if(D>=$)return-1;if(m>=A)return 1;if(this===b)return 0;for(var Y=($>>>=0)-(D>>>=0),at=(A>>>=0)-(m>>>=0),ft=Math.min(Y,at),gt=this.slice(D,$),dt=b.slice(m,A),vt=0;vt<ft;++vt)if(gt[vt]!==dt[vt]){Y=gt[vt],at=dt[vt];break}return Y<at?-1:at<Y?1:0},c.prototype.includes=function(b,m,A){return this.indexOf(b,m,A)!==-1},c.prototype.indexOf=function(b,m,A){return H(this,b,m,A,!0)},c.prototype.lastIndexOf=function(b,m,A){return H(this,b,m,A,!1)},c.prototype.write=function(b,m,A,D){if(m===void 0)D="utf8",A=this.length,m=0;else if(A===void 0&&typeof m=="string")D=m,A=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(A)?(A|=0,D===void 0&&(D="utf8")):(D=A,A=void 0)}var $=this.length-m;if((A===void 0||A>$)&&(A=$),b.length>0&&(A<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");for(var Y=!1;;)switch(D){case"hex":return I(this,b,m,A);case"utf8":case"utf-8":return L(this,b,m,A);case"ascii":return X(this,b,m,A);case"latin1":case"binary":return Q(this,b,m,A);case"base64":return rt(this,b,m,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,b,m,A);default:if(Y)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),Y=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var bt=4096;function kt(q,b,m){var A="";m=Math.min(q.length,m);for(var D=b;D<m;++D)A+=String.fromCharCode(127&q[D]);return A}function pt(q,b,m){var A="";m=Math.min(q.length,m);for(var D=b;D<m;++D)A+=String.fromCharCode(q[D]);return A}function wt(q,b,m){var A=q.length;(!b||b<0)&&(b=0),(!m||m<0||m>A)&&(m=A);for(var D="",$=b;$<m;++$)D+=lt(q[$]);return D}function yt(q,b,m){for(var A=q.slice(b,m),D="",$=0;$<A.length;$+=2)D+=String.fromCharCode(A[$]+256*A[$+1]);return D}function Ct(q,b,m){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+b>m)throw new RangeError("Trying to access beyond buffer length")}function Tt(q,b,m,A,D,$){if(!c.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>D||b<$)throw new RangeError('"value" argument is out of bounds');if(m+A>q.length)throw new RangeError("Index out of range")}function jt(q,b,m,A){b<0&&(b=65535+b+1);for(var D=0,$=Math.min(q.length-m,2);D<$;++D)q[m+D]=(b&255<<8*(A?D:1-D))>>>8*(A?D:1-D)}function Ot(q,b,m,A){b<0&&(b=4294967295+b+1);for(var D=0,$=Math.min(q.length-m,4);D<$;++D)q[m+D]=b>>>8*(A?D:3-D)&255}function Mt(q,b,m,A,D,$){if(m+A>q.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Jt(q,b,m,A,D){return D||Mt(q,0,m,4),v.write(q,b,m,A,23,4),m+4}function ee(q,b,m,A,D){return D||Mt(q,0,m,8),v.write(q,b,m,A,52,8),m+8}c.prototype.slice=function(b,m){var A,D=this.length;if((b=~~b)<0?(b+=D)<0&&(b=0):b>D&&(b=D),(m=m===void 0?D:~~m)<0?(m+=D)<0&&(m=0):m>D&&(m=D),m<b&&(m=b),c.TYPED_ARRAY_SUPPORT)(A=this.subarray(b,m)).__proto__=c.prototype;else{var $=m-b;A=new c($,void 0);for(var Y=0;Y<$;++Y)A[Y]=this[Y+b]}return A},c.prototype.readUIntLE=function(b,m,A){b|=0,m|=0,A||Ct(b,m,this.length);for(var D=this[b],$=1,Y=0;++Y<m&&($*=256);)D+=this[b+Y]*$;return D},c.prototype.readUIntBE=function(b,m,A){b|=0,m|=0,A||Ct(b,m,this.length);for(var D=this[b+--m],$=1;m>0&&($*=256);)D+=this[b+--m]*$;return D},c.prototype.readUInt8=function(b,m){return m||Ct(b,1,this.length),this[b]},c.prototype.readUInt16LE=function(b,m){return m||Ct(b,2,this.length),this[b]|this[b+1]<<8},c.prototype.readUInt16BE=function(b,m){return m||Ct(b,2,this.length),this[b]<<8|this[b+1]},c.prototype.readUInt32LE=function(b,m){return m||Ct(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]},c.prototype.readUInt32BE=function(b,m){return m||Ct(b,4,this.length),16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])},c.prototype.readIntLE=function(b,m,A){b|=0,m|=0,A||Ct(b,m,this.length);for(var D=this[b],$=1,Y=0;++Y<m&&($*=256);)D+=this[b+Y]*$;return D>=($*=128)&&(D-=Math.pow(2,8*m)),D},c.prototype.readIntBE=function(b,m,A){b|=0,m|=0,A||Ct(b,m,this.length);for(var D=m,$=1,Y=this[b+--D];D>0&&($*=256);)Y+=this[b+--D]*$;return Y>=($*=128)&&(Y-=Math.pow(2,8*m)),Y},c.prototype.readInt8=function(b,m){return m||Ct(b,1,this.length),128&this[b]?-1*(255-this[b]+1):this[b]},c.prototype.readInt16LE=function(b,m){m||Ct(b,2,this.length);var A=this[b]|this[b+1]<<8;return 32768&A?4294901760|A:A},c.prototype.readInt16BE=function(b,m){m||Ct(b,2,this.length);var A=this[b+1]|this[b]<<8;return 32768&A?4294901760|A:A},c.prototype.readInt32LE=function(b,m){return m||Ct(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},c.prototype.readInt32BE=function(b,m){return m||Ct(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},c.prototype.readFloatLE=function(b,m){return m||Ct(b,4,this.length),v.read(this,b,!0,23,4)},c.prototype.readFloatBE=function(b,m){return m||Ct(b,4,this.length),v.read(this,b,!1,23,4)},c.prototype.readDoubleLE=function(b,m){return m||Ct(b,8,this.length),v.read(this,b,!0,52,8)},c.prototype.readDoubleBE=function(b,m){return m||Ct(b,8,this.length),v.read(this,b,!1,52,8)},c.prototype.writeUIntLE=function(b,m,A,D){b=+b,m|=0,A|=0,D||Tt(this,b,m,A,Math.pow(2,8*A)-1,0);var $=1,Y=0;for(this[m]=255&b;++Y<A&&($*=256);)this[m+Y]=b/$&255;return m+A},c.prototype.writeUIntBE=function(b,m,A,D){b=+b,m|=0,A|=0,D||Tt(this,b,m,A,Math.pow(2,8*A)-1,0);var $=A-1,Y=1;for(this[m+$]=255&b;--$>=0&&(Y*=256);)this[m+$]=b/Y&255;return m+A},c.prototype.writeUInt8=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,1,255,0),c.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),this[m]=255&b,m+1},c.prototype.writeUInt16LE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[m]=255&b,this[m+1]=b>>>8):jt(this,b,m,!0),m+2},c.prototype.writeUInt16BE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[m]=b>>>8,this[m+1]=255&b):jt(this,b,m,!1),m+2},c.prototype.writeUInt32LE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[m+3]=b>>>24,this[m+2]=b>>>16,this[m+1]=b>>>8,this[m]=255&b):Ot(this,b,m,!0),m+4},c.prototype.writeUInt32BE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[m]=b>>>24,this[m+1]=b>>>16,this[m+2]=b>>>8,this[m+3]=255&b):Ot(this,b,m,!1),m+4},c.prototype.writeIntLE=function(b,m,A,D){if(b=+b,m|=0,!D){var $=Math.pow(2,8*A-1);Tt(this,b,m,A,$-1,-$)}var Y=0,at=1,ft=0;for(this[m]=255&b;++Y<A&&(at*=256);)b<0&&ft===0&&this[m+Y-1]!==0&&(ft=1),this[m+Y]=(b/at>>0)-ft&255;return m+A},c.prototype.writeIntBE=function(b,m,A,D){if(b=+b,m|=0,!D){var $=Math.pow(2,8*A-1);Tt(this,b,m,A,$-1,-$)}var Y=A-1,at=1,ft=0;for(this[m+Y]=255&b;--Y>=0&&(at*=256);)b<0&&ft===0&&this[m+Y+1]!==0&&(ft=1),this[m+Y]=(b/at>>0)-ft&255;return m+A},c.prototype.writeInt8=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,1,127,-128),c.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),b<0&&(b=255+b+1),this[m]=255&b,m+1},c.prototype.writeInt16LE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[m]=255&b,this[m+1]=b>>>8):jt(this,b,m,!0),m+2},c.prototype.writeInt16BE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[m]=b>>>8,this[m+1]=255&b):jt(this,b,m,!1),m+2},c.prototype.writeInt32LE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[m]=255&b,this[m+1]=b>>>8,this[m+2]=b>>>16,this[m+3]=b>>>24):Ot(this,b,m,!0),m+4},c.prototype.writeInt32BE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),c.TYPED_ARRAY_SUPPORT?(this[m]=b>>>24,this[m+1]=b>>>16,this[m+2]=b>>>8,this[m+3]=255&b):Ot(this,b,m,!1),m+4},c.prototype.writeFloatLE=function(b,m,A){return Jt(this,b,m,!0,A)},c.prototype.writeFloatBE=function(b,m,A){return Jt(this,b,m,!1,A)},c.prototype.writeDoubleLE=function(b,m,A){return ee(this,b,m,!0,A)},c.prototype.writeDoubleBE=function(b,m,A){return ee(this,b,m,!1,A)},c.prototype.copy=function(b,m,A,D){if(A||(A=0),D||D===0||(D=this.length),m>=b.length&&(m=b.length),m||(m=0),D>0&&D<A&&(D=A),D===A||b.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),b.length-m<D-A&&(D=b.length-m+A);var $,Y=D-A;if(this===b&&A<m&&m<D)for($=Y-1;$>=0;--$)b[$+m]=this[$+A];else if(Y<1e3||!c.TYPED_ARRAY_SUPPORT)for($=0;$<Y;++$)b[$+m]=this[$+A];else Uint8Array.prototype.set.call(b,this.subarray(A,A+Y),m);return Y},c.prototype.fill=function(b,m,A,D){if(typeof b=="string"){if(typeof m=="string"?(D=m,m=0,A=this.length):typeof A=="string"&&(D=A,A=this.length),b.length===1){var $=b.charCodeAt(0);$<256&&(b=$)}if(D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!c.isEncoding(D))throw new TypeError("Unknown encoding: "+D)}else typeof b=="number"&&(b&=255);if(m<0||this.length<m||this.length<A)throw new RangeError("Out of range index");if(A<=m)return this;var Y;if(m>>>=0,A=A===void 0?this.length:A>>>0,b||(b=0),typeof b=="number")for(Y=m;Y<A;++Y)this[Y]=b;else{var at=c.isBuffer(b)?b:Et(new c(b,D).toString()),ft=at.length;for(Y=0;Y<A-m;++Y)this[Y+m]=at[Y%ft]}return this};var $t=/[^+\/0-9A-Za-z-_]/g;function lt(q){return q<16?"0"+q.toString(16):q.toString(16)}function Et(q,b){var m;b=b||1/0;for(var A=q.length,D=null,$=[],Y=0;Y<A;++Y){if((m=q.charCodeAt(Y))>55295&&m<57344){if(!D){if(m>56319){(b-=3)>-1&&$.push(239,191,189);continue}if(Y+1===A){(b-=3)>-1&&$.push(239,191,189);continue}D=m;continue}if(m<56320){(b-=3)>-1&&$.push(239,191,189),D=m;continue}m=65536+(D-55296<<10|m-56320)}else D&&(b-=3)>-1&&$.push(239,191,189);if(D=null,m<128){if((b-=1)<0)break;$.push(m)}else if(m<2048){if((b-=2)<0)break;$.push(m>>6|192,63&m|128)}else if(m<65536){if((b-=3)<0)break;$.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;$.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return $}function St(q){return i.toByteArray(function(m){if((m=function(D){return D.trim?D.trim():D.replace(/^\s+|\s+$/g,"")}(m).replace($t,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(q))}function Rt(q,b,m,A){for(var D=0;D<A&&!(D+m>=b.length||D>=q.length);++D)b[D+m]=q[D];return D}}).call(this,f(29))},function(p,a){var f;f=function(){return this}();try{f=f||new Function("return this")()}catch{typeof window=="object"&&(f=window)}p.exports=f},function(p,a,f){a.byteLength=function(w){var R=c(w),P=R[0],C=R[1];return 3*(P+C)/4-C},a.toByteArray=function(w){var R,P,C=c(w),E=C[0],k=C[1],H=new v(function(X,Q,rt){return 3*(Q+rt)/4-rt}(0,E,k)),T=0,I=k>0?E-4:E;for(P=0;P<I;P+=4)R=i[w.charCodeAt(P)]<<18|i[w.charCodeAt(P+1)]<<12|i[w.charCodeAt(P+2)]<<6|i[w.charCodeAt(P+3)],H[T++]=R>>16&255,H[T++]=R>>8&255,H[T++]=255&R;return k===2&&(R=i[w.charCodeAt(P)]<<2|i[w.charCodeAt(P+1)]>>4,H[T++]=255&R),k===1&&(R=i[w.charCodeAt(P)]<<10|i[w.charCodeAt(P+1)]<<4|i[w.charCodeAt(P+2)]>>2,H[T++]=R>>8&255,H[T++]=255&R),H},a.fromByteArray=function(w){for(var R,P=w.length,C=P%3,E=[],k=16383,H=0,T=P-C;H<T;H+=k)E.push(y(w,H,H+k>T?T:H+k));return C===1?(R=w[P-1],E.push(d[R>>2]+d[R<<4&63]+"==")):C===2&&(R=(w[P-2]<<8)+w[P-1],E.push(d[R>>10]+d[R>>4&63]+d[R<<2&63]+"=")),E.join("")};for(var d=[],i=[],v=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=g.length;u<l;++u)d[u]=g[u],i[g.charCodeAt(u)]=u;function c(S){var w=S.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=S.indexOf("=");return R===-1&&(R=w),[R,R===w?0:4-R%4]}function y(S,w,R){for(var P,C,E=[],k=w;k<R;k+=3)P=(S[k]<<16&16711680)+(S[k+1]<<8&65280)+(255&S[k+2]),E.push(d[(C=P)>>18&63]+d[C>>12&63]+d[C>>6&63]+d[63&C]);return E.join("")}i[45]=62,i[95]=63},function(p,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(f,d,i,v,g){var u,l,c=8*g-v-1,y=(1<<c)-1,S=y>>1,w=-7,R=i?g-1:0,P=i?-1:1,C=f[d+R];for(R+=P,u=C&(1<<-w)-1,C>>=-w,w+=c;w>0;u=256*u+f[d+R],R+=P,w-=8);for(l=u&(1<<-w)-1,u>>=-w,w+=v;w>0;l=256*l+f[d+R],R+=P,w-=8);if(u===0)u=1-S;else{if(u===y)return l?NaN:1/0*(C?-1:1);l+=Math.pow(2,v),u-=S}return(C?-1:1)*l*Math.pow(2,u-v)},a.write=function(f,d,i,v,g,u){var l,c,y,S=8*u-g-1,w=(1<<S)-1,R=w>>1,P=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=v?0:u-1,E=v?1:-1,k=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(c=isNaN(d)?1:0,l=w):(l=Math.floor(Math.log(d)/Math.LN2),d*(y=Math.pow(2,-l))<1&&(l--,y*=2),(d+=l+R>=1?P/y:P*Math.pow(2,1-R))*y>=2&&(l++,y/=2),l+R>=w?(c=0,l=w):l+R>=1?(c=(d*y-1)*Math.pow(2,g),l+=R):(c=d*Math.pow(2,R-1)*Math.pow(2,g),l=0));g>=8;f[i+C]=255&c,C+=E,c/=256,g-=8);for(l=l<<g|c,S+=g;S>0;f[i+C]=255&l,C+=E,l/=256,S-=8);f[i+C-E]|=128*k}},function(p,a){var f={}.toString;p.exports=Array.isArray||function(d){return f.call(d)=="[object Array]"}},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(v){var g=v.jws,u=v.KeyUtil,l=v.X509,c=v.crypto,y=v.hextob64u,S=v.b64tohex,w=v.AllowedSigningAlgs;return function(){function R(){(function(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")})(this,R)}return R.parseJwt=function(C){d.Log.debug("JoseUtil.parseJwt");try{var E=g.JWS.parse(C);return{header:E.headerObj,payload:E.payloadObj}}catch(k){d.Log.error(k)}},R.validateJwt=function(C,E,k,H,T,I,L){d.Log.debug("JoseUtil.validateJwt");try{if(E.kty==="RSA")if(E.e&&E.n)E=u.getKey(E);else{if(!E.x5c||!E.x5c.length)return d.Log.error("JoseUtil.validateJwt: RSA key missing key material",E),Promise.reject(new Error("RSA key missing key material"));var X=S(E.x5c[0]);E=l.getPublicKeyFromCertHex(X)}else{if(E.kty!=="EC")return d.Log.error("JoseUtil.validateJwt: Unsupported key type",E&&E.kty),Promise.reject(new Error(E.kty));if(!(E.crv&&E.x&&E.y))return d.Log.error("JoseUtil.validateJwt: EC key missing key material",E),Promise.reject(new Error("EC key missing key material"));E=u.getKey(E)}return R._validateJwt(C,E,k,H,T,I,L)}catch(Q){return d.Log.error(Q&&Q.message||Q),Promise.reject("JWT validation failed")}},R.validateJwtAttributes=function(C,E,k,H,T,I){H||(H=0),T||(T=parseInt(Date.now()/1e3));var L=R.parseJwt(C).payload;if(!L.iss)return d.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(L.iss!==E)return d.Log.error("JoseUtil._validateJwt: Invalid issuer in token",L.iss),Promise.reject(new Error("Invalid issuer in token: "+L.iss));if(!L.aud)return d.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(L.aud===k||Array.isArray(L.aud)&&L.aud.indexOf(k)>=0))return d.Log.error("JoseUtil._validateJwt: Invalid audience in token",L.aud),Promise.reject(new Error("Invalid audience in token: "+L.aud));if(L.azp&&L.azp!==k)return d.Log.error("JoseUtil._validateJwt: Invalid azp in token",L.azp),Promise.reject(new Error("Invalid azp in token: "+L.azp));if(!I){var X=T+H,Q=T-H;if(!L.iat)return d.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(X<L.iat)return d.Log.error("JoseUtil._validateJwt: iat is in the future",L.iat),Promise.reject(new Error("iat is in the future: "+L.iat));if(L.nbf&&X<L.nbf)return d.Log.error("JoseUtil._validateJwt: nbf is in the future",L.nbf),Promise.reject(new Error("nbf is in the future: "+L.nbf));if(!L.exp)return d.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(L.exp<Q)return d.Log.error("JoseUtil._validateJwt: exp is in the past",L.exp),Promise.reject(new Error("exp is in the past:"+L.exp))}return Promise.resolve(L)},R._validateJwt=function(C,E,k,H,T,I,L){return R.validateJwtAttributes(C,k,H,T,I,L).then(function(X){try{return g.JWS.verify(C,E,w)?X:(d.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Q){return d.Log.error(Q&&Q.message||Q),Promise.reject(new Error("signature validation failed"))}})},R.hashString=function(C,E){try{return c.Util.hashString(C,E)}catch(k){d.Log.error(k)}},R.hexToBase64Url=function(C){try{return y(C)}catch(E){d.Log.error(E)}},R}()};var d=f(0);p.exports=a.default},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SigninResponse=void 0;var d=function(){function g(u,l){for(var c=0;c<l.length;c++){var y=l[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}return function(u,l,c){return l&&g(u.prototype,l),c&&g(u,c),u}}(),i=f(3);function v(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}a.SigninResponse=function(){function g(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";v(this,g);var c=i.UrlUtility.parseUrlFragment(u,l);this.error=c.error,this.error_description=c.error_description,this.error_uri=c.error_uri,this.code=c.code,this.state=c.state,this.id_token=c.id_token,this.session_state=c.session_state,this.access_token=c.access_token,this.token_type=c.token_type,this.scope=c.scope,this.profile=void 0,this.expires_in=c.expires_in}return d(g,[{key:"expires_in",get:function(){if(this.expires_at){var l=parseInt(Date.now()/1e3);return this.expires_at-l}},set:function(l){var c=parseInt(l);if(typeof c=="number"&&c>0){var y=parseInt(Date.now()/1e3);this.expires_at=y+c}}},{key:"expired",get:function(){var l=this.expires_in;if(l!==void 0)return l<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SignoutRequest=void 0;var d=f(0),i=f(3),v=f(9);a.SignoutRequest=function g(u){var l=u.url,c=u.id_token_hint,y=u.post_logout_redirect_uri,S=u.data,w=u.extraQueryParams,R=u.request_type;if(function(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}(this,g),!l)throw d.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var P in c&&(l=i.UrlUtility.addQueryParam(l,"id_token_hint",c)),y&&(l=i.UrlUtility.addQueryParam(l,"post_logout_redirect_uri",y),S&&(this.state=new v.State({data:S,request_type:R}),l=i.UrlUtility.addQueryParam(l,"state",this.state.id))),w)l=i.UrlUtility.addQueryParam(l,P,w[P]);this.url=l}},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SignoutResponse=void 0;var d=f(3);a.SignoutResponse=function i(v){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i);var g=d.UrlUtility.parseUrlFragment(v,"?");this.error=g.error,this.error_description=g.error_description,this.error_uri=g.error_uri,this.state=g.state}},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.InMemoryWebStorage=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.InMemoryWebStorage=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v),this._data={}}return v.prototype.getItem=function(u){return i.Log.debug("InMemoryWebStorage.getItem",u),this._data[u]},v.prototype.setItem=function(u,l){i.Log.debug("InMemoryWebStorage.setItem",u),this._data[u]=l},v.prototype.removeItem=function(u){i.Log.debug("InMemoryWebStorage.removeItem",u),delete this._data[u]},v.prototype.key=function(u){return Object.getOwnPropertyNames(this._data)[u]},d(v,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UserManager=void 0;var d=function(){function k(H,T){for(var I=0;I<T.length;I++){var L=T[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(H,L.key,L)}}return function(H,T,I){return T&&k(H.prototype,T),I&&k(H,I),H}}(),i=f(0),v=f(10),g=f(39),u=f(15),l=f(45),c=f(47),y=f(18),S=f(8),w=f(20),R=f(11),P=f(4);function C(k,H){if(!(k instanceof H))throw new TypeError("Cannot call a class as a function")}function E(k,H){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||typeof H!="object"&&typeof H!="function"?k:H}a.UserManager=function(k){function H(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.SilentRenewService,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.SessionMonitor,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w.TokenRevocationClient,Q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:R.TokenClient,rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:P.JoseUtil;C(this,H),T instanceof g.UserManagerSettings||(T=new g.UserManagerSettings(T));var M=E(this,k.call(this,T));return M._events=new l.UserManagerEvents(T),M._silentRenewService=new I(M),M.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),M.startSilentRenew()),M.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),M._sessionMonitor=new L(M)),M._tokenRevocationClient=new X(M._settings),M._tokenClient=new Q(M._settings),M._joseUtil=rt,M}return function(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}(H,k),H.prototype.getUser=function(){var I=this;return this._loadUser().then(function(L){return L?(i.Log.info("UserManager.getUser: user loaded"),I._events.load(L,!1),L):(i.Log.info("UserManager.getUser: user not found in storage"),null)})},H.prototype.removeUser=function(){var I=this;return this.storeUser(null).then(function(){i.Log.info("UserManager.removeUser: user removed from storage"),I._events.unload()})},H.prototype.signinRedirect=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="si:r";var L={useReplaceToNavigate:I.useReplaceToNavigate};return this._signinStart(I,this._redirectNavigator,L).then(function(){i.Log.info("UserManager.signinRedirect: successful")})},H.prototype.signinRedirectCallback=function(I){return this._signinEnd(I||this._redirectNavigator.url).then(function(L){return L.profile&&L.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",L.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),L})},H.prototype.signinPopup=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="si:p";var L=I.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return L?(I.redirect_uri=L,I.display="popup",this._signin(I,this._popupNavigator,{startUrl:L,popupWindowFeatures:I.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:I.popupWindowTarget||this.settings.popupWindowTarget}).then(function(X){return X&&(X.profile&&X.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",X.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),X})):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},H.prototype.signinPopupCallback=function(I){return this._signinCallback(I,this._popupNavigator).then(function(L){return L&&(L.profile&&L.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",L.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),L}).catch(function(L){i.Log.error(L.message)})},H.prototype.signinSilent=function(){var I=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return L=Object.assign({},L),this._loadUser().then(function(X){return X&&X.refresh_token?(L.refresh_token=X.refresh_token,I._useRefreshToken(L)):(L.request_type="si:s",L.id_token_hint=L.id_token_hint||I.settings.includeIdTokenInSilentRenew&&X&&X.id_token,X&&I._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",X.profile.sub),L.current_sub=X.profile.sub),I._signinSilentIframe(L))})},H.prototype._useRefreshToken=function(){var I=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(L).then(function(X){return X?X.access_token?I._loadUser().then(function(Q){if(Q){var rt=Promise.resolve();return X.id_token&&(rt=I._validateIdTokenFromTokenRefreshToken(Q.profile,X.id_token)),rt.then(function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),Q.id_token=X.id_token||Q.id_token,Q.access_token=X.access_token,Q.refresh_token=X.refresh_token||Q.refresh_token,Q.expires_in=X.expires_in,I.storeUser(Q).then(function(){return I._events.load(Q),Q})})}return null}):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},H.prototype._validateIdTokenFromTokenRefreshToken=function(I,L){var X=this;return this._metadataService.getIssuer().then(function(Q){return X.settings.getEpochTime().then(function(rt){return X._joseUtil.validateJwtAttributes(L,Q,X._settings.client_id,X._settings.clockSkew,rt).then(function(M){return M?M.sub!==I.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):M.auth_time&&M.auth_time!==I.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):M.azp&&M.azp!==I.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!M.azp&&I.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},H.prototype._signinSilentIframe=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=I.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return L?(I.redirect_uri=L,I.prompt=I.prompt||"none",this._signin(I,this._iframeNavigator,{startUrl:L,silentRequestTimeout:I.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(X){return X&&(X.profile&&X.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",X.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),X})):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},H.prototype.signinSilentCallback=function(I){return this._signinCallback(I,this._iframeNavigator).then(function(L){return L&&(L.profile&&L.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",L.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),L})},H.prototype.signinCallback=function(I){var L=this;return this.readSigninResponseState(I).then(function(X){var Q=X.state;return X.response,Q.request_type==="si:r"?L.signinRedirectCallback(I):Q.request_type==="si:p"?L.signinPopupCallback(I):Q.request_type==="si:s"?L.signinSilentCallback(I):Promise.reject(new Error("invalid response_type in state"))})},H.prototype.signoutCallback=function(I,L){var X=this;return this.readSignoutResponseState(I).then(function(Q){var rt=Q.state,M=Q.response;return rt?rt.request_type==="so:r"?X.signoutRedirectCallback(I):rt.request_type==="so:p"?X.signoutPopupCallback(I,L):Promise.reject(new Error("invalid response_type in state")):M})},H.prototype.querySessionStatus=function(){var I=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(L=Object.assign({},L)).request_type="si:s";var X=L.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return X?(L.redirect_uri=X,L.prompt="none",L.response_type=L.response_type||this.settings.query_status_response_type,L.scope=L.scope||"openid",L.skipUserInfo=!0,this._signinStart(L,this._iframeNavigator,{startUrl:X,silentRequestTimeout:L.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return I.processSigninResponse(Q.url).then(function(rt){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),rt.session_state&&rt.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",rt.profile.sub),{session_state:rt.session_state,sub:rt.profile.sub,sid:rt.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(rt){if(rt.session_state&&I.settings.monitorAnonymousSession&&(rt.message=="login_required"||rt.message=="consent_required"||rt.message=="interaction_required"||rt.message=="account_selection_required"))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:rt.session_state};throw rt})})):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},H.prototype._signin=function(I,L){var X=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(I,L,Q).then(function(rt){return X._signinEnd(rt.url,I)})},H.prototype._signinStart=function(I,L){var X=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L.prepare(Q).then(function(rt){return i.Log.debug("UserManager._signinStart: got navigator window handle"),X.createSigninRequest(I).then(function(M){return i.Log.debug("UserManager._signinStart: got signin request"),Q.url=M.url,Q.id=M.state.id,rt.navigate(Q)}).catch(function(M){throw rt.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),rt.close()),M})})},H.prototype._signinEnd=function(I){var L=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(I).then(function(Q){i.Log.debug("UserManager._signinEnd: got signin response");var rt=new u.User(Q);if(X.current_sub){if(X.current_sub!==rt.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",rt.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return L.storeUser(rt).then(function(){return i.Log.debug("UserManager._signinEnd: user stored"),L._events.load(rt),rt})})},H.prototype._signinCallback=function(I,L){i.Log.debug("UserManager._signinCallback");var X=this._settings.response_mode==="query"||!this._settings.response_mode&&S.SigninRequest.isCode(this._settings.response_type)?"?":"#";return L.callback(I,void 0,X)},H.prototype.signoutRedirect=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="so:r";var L=I.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;L&&(I.post_logout_redirect_uri=L);var X={useReplaceToNavigate:I.useReplaceToNavigate};return this._signoutStart(I,this._redirectNavigator,X).then(function(){i.Log.info("UserManager.signoutRedirect: successful")})},H.prototype.signoutRedirectCallback=function(I){return this._signoutEnd(I||this._redirectNavigator.url).then(function(L){return i.Log.info("UserManager.signoutRedirectCallback: successful"),L})},H.prototype.signoutPopup=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="so:p";var L=I.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return I.post_logout_redirect_uri=L,I.display="popup",I.post_logout_redirect_uri&&(I.state=I.state||{}),this._signout(I,this._popupNavigator,{startUrl:L,popupWindowFeatures:I.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:I.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){i.Log.info("UserManager.signoutPopup: successful")})},H.prototype.signoutPopupCallback=function(I,L){return L===void 0&&typeof I=="boolean"&&(L=I,I=null),this._popupNavigator.callback(I,L,"?").then(function(){i.Log.info("UserManager.signoutPopupCallback: successful")})},H.prototype._signout=function(I,L){var X=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(I,L,Q).then(function(rt){return X._signoutEnd(rt.url)})},H.prototype._signoutStart=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=this,X=arguments[1],Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return X.prepare(Q).then(function(rt){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),L._loadUser().then(function(M){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(L._settings.revokeAccessTokenOnSignout?L._revokeInternal(M):Promise.resolve()).then(function(){var ot=I.id_token_hint||M&&M.id_token;return ot&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),I.id_token_hint=ot),L.removeUser().then(function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),L.createSignoutRequest(I).then(function(ct){return i.Log.debug("UserManager._signoutStart: got signout request"),Q.url=ct.url,ct.state&&(Q.id=ct.state.id),rt.navigate(Q)})})})}).catch(function(M){throw rt.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),rt.close()),M})})},H.prototype._signoutEnd=function(I){return this.processSignoutResponse(I).then(function(L){return i.Log.debug("UserManager._signoutEnd: got signout response"),L})},H.prototype.revokeAccessToken=function(){var I=this;return this._loadUser().then(function(L){return I._revokeInternal(L,!0).then(function(X){if(X)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),L.access_token=null,L.refresh_token=null,L.expires_at=null,L.token_type=null,I.storeUser(L).then(function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),I._events.load(L)})})}).then(function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},H.prototype._revokeInternal=function(I,L){var X=this;if(I){var Q=I.access_token,rt=I.refresh_token;return this._revokeAccessTokenInternal(Q,L).then(function(M){return X._revokeRefreshTokenInternal(rt,L).then(function(ot){return M||ot||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),M||ot})})}return Promise.resolve(!1)},H.prototype._revokeAccessTokenInternal=function(I,L){return!I||I.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(I,L).then(function(){return!0})},H.prototype._revokeRefreshTokenInternal=function(I,L){return I?this._tokenRevocationClient.revoke(I,L,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},H.prototype.startSilentRenew=function(){this._silentRenewService.start()},H.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},H.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(I){return I?(i.Log.debug("UserManager._loadUser: user storageString loaded"),u.User.fromStorageString(I)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)})},H.prototype.storeUser=function(I){if(I){i.Log.debug("UserManager.storeUser: storing user");var L=I.toStorageString();return this._userStore.set(this._userStoreKey,L)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},d(H,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),H}(v.OidcClient)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UserManagerSettings=void 0;var d=function(){function R(P,C){for(var E=0;E<C.length;E++){var k=C[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,k.key,k)}}return function(P,C,E){return C&&R(P.prototype,C),E&&R(P,E),P}}(),i=(f(0),f(5)),v=f(40),g=f(41),u=f(43),l=f(6),c=f(1),y=f(8);function S(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function w(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?R:P}a.UserManagerSettings=function(R){function P(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=C.popup_redirect_uri,k=C.popup_post_logout_redirect_uri,H=C.popupWindowFeatures,T=C.popupWindowTarget,I=C.silent_redirect_uri,L=C.silentRequestTimeout,X=C.automaticSilentRenew,Q=X!==void 0&&X,rt=C.validateSubOnSilentRenew,M=rt!==void 0&&rt,ot=C.includeIdTokenInSilentRenew,ct=ot===void 0||ot,bt=C.monitorSession,kt=bt===void 0||bt,pt=C.monitorAnonymousSession,wt=pt!==void 0&&pt,yt=C.checkSessionInterval,Ct=yt===void 0?2e3:yt,Tt=C.stopCheckSessionOnError,jt=Tt===void 0||Tt,Ot=C.query_status_response_type,Mt=C.revokeAccessTokenOnSignout,Jt=Mt!==void 0&&Mt,ee=C.accessTokenExpiringNotificationTime,$t=ee===void 0?60:ee,lt=C.redirectNavigator,Et=lt===void 0?new v.RedirectNavigator:lt,St=C.popupNavigator,Rt=St===void 0?new g.PopupNavigator:St,q=C.iframeNavigator,b=q===void 0?new u.IFrameNavigator:q,m=C.userStore,A=m===void 0?new l.WebStorageStateStore({store:c.Global.sessionStorage}):m;S(this,P);var D=w(this,R.call(this,arguments[0]));return D._popup_redirect_uri=E,D._popup_post_logout_redirect_uri=k,D._popupWindowFeatures=H,D._popupWindowTarget=T,D._silent_redirect_uri=I,D._silentRequestTimeout=L,D._automaticSilentRenew=Q,D._validateSubOnSilentRenew=M,D._includeIdTokenInSilentRenew=ct,D._accessTokenExpiringNotificationTime=$t,D._monitorSession=kt,D._monitorAnonymousSession=wt,D._checkSessionInterval=Ct,D._stopCheckSessionOnError=jt,Ot?D._query_status_response_type=Ot:arguments[0]&&arguments[0].response_type?D._query_status_response_type=y.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":D._query_status_response_type="id_token",D._revokeAccessTokenOnSignout=Jt,D._redirectNavigator=Et,D._popupNavigator=Rt,D._iframeNavigator=b,D._userStore=A,D}return function(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}(P,R),d(P,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),P}(i.OidcClientSettings)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.RedirectNavigator=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.RedirectNavigator=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return v.prototype.prepare=function(){return Promise.resolve(this)},v.prototype.navigate=function(u){return u&&u.url?(u.useReplaceToNavigate?window.location.replace(u.url):window.location=u.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},d(v,[{key:"url",get:function(){return window.location.href}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.PopupNavigator=void 0;var d=f(0),i=f(42);a.PopupNavigator=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return v.prototype.prepare=function(u){var l=new i.PopupWindow(u);return Promise.resolve(l)},v.prototype.callback=function(u,l,c){d.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(u,l,c),Promise.resolve()}catch(y){return Promise.reject(y)}},v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.PopupWindow=void 0;var d=function(){function g(u,l){for(var c=0;c<l.length;c++){var y=l[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}return function(u,l,c){return l&&g(u.prototype,l),c&&g(u,c),u}}(),i=f(0),v=f(3);a.PopupWindow=function(){function g(u){var l=this;(function(w,R){if(!(w instanceof R))throw new TypeError("Cannot call a class as a function")})(this,g),this._promise=new Promise(function(S,w){l._resolve=S,l._reject=w});var c=u.popupWindowTarget||"_blank",y=u.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",c,y),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return g.prototype.navigate=function(l){return this._popup?l&&l.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=l.id,this._id&&(window["popupCallback_"+l.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=l.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},g.prototype._success=function(l){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(l)},g.prototype._error=function(l){i.Log.error("PopupWindow.error: ",l),this._cleanup(),this._reject(new Error(l))},g.prototype.close=function(){this._cleanup(!1)},g.prototype._cleanup=function(l){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!l&&this._popup.close(),this._popup=null},g.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},g.prototype._callback=function(l,c){this._cleanup(c),l?(i.Log.debug("PopupWindow.callback success"),this._success({url:l})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},g.notifyOpener=function(l,c,y){if(window.opener){if(l=l||window.location.href){var S=v.UrlUtility.parseUrlFragment(l,y);if(S.state){var w="popupCallback_"+S.state,R=window.opener[w];R?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),R(l,c)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},d(g,[{key:"promise",get:function(){return this._promise}}]),g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.IFrameNavigator=void 0;var d=f(0),i=f(44);a.IFrameNavigator=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return v.prototype.prepare=function(u){var l=new i.IFrameWindow(u);return Promise.resolve(l)},v.prototype.callback=function(u){d.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(u),Promise.resolve()}catch(l){return Promise.reject(l)}},v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.IFrameWindow=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.IFrameWindow=function(){function v(g){var u=this;(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v),this._promise=new Promise(function(l,c){u._resolve=l,u._reject=c}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return v.prototype.navigate=function(u){if(u&&u.url){var l=u.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",l),this._timer=window.setTimeout(this._timeout.bind(this),l),this._frame.src=u.url}else this._error("No url provided");return this.promise},v.prototype._success=function(u){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(u)},v.prototype._error=function(u){this._cleanup(),i.Log.error(u),this._reject(new Error(u))},v.prototype.close=function(){this._cleanup()},v.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},v.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},v.prototype._message=function(u){if(i.Log.debug("IFrameWindow.message"),this._timer&&u.origin===this._origin&&u.source===this._frame.contentWindow&&typeof u.data=="string"&&(u.data.startsWith("http://")||u.data.startsWith("https://"))){var l=u.data;l?this._success({url:l}):this._error("Invalid response from frame")}},v.notifyParent=function(u){i.Log.debug("IFrameWindow.notifyParent"),(u=u||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(u,location.protocol+"//"+location.host))},d(v,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UserManagerEvents=void 0;var d=f(0),i=f(16),v=f(17);a.UserManagerEvents=function(g){function u(l){(function(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u);var c=function(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?S:w}(this,g.call(this,l));return c._userLoaded=new v.Event("User loaded"),c._userUnloaded=new v.Event("User unloaded"),c._silentRenewError=new v.Event("Silent renew error"),c._userSignedIn=new v.Event("User signed in"),c._userSignedOut=new v.Event("User signed out"),c._userSessionChanged=new v.Event("User session changed"),c}return function(c,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(c,y):c.__proto__=y)}(u,g),u.prototype.load=function(c){var y=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];d.Log.debug("UserManagerEvents.load"),g.prototype.load.call(this,c),y&&this._userLoaded.raise(c)},u.prototype.unload=function(){d.Log.debug("UserManagerEvents.unload"),g.prototype.unload.call(this),this._userUnloaded.raise()},u.prototype.addUserLoaded=function(c){this._userLoaded.addHandler(c)},u.prototype.removeUserLoaded=function(c){this._userLoaded.removeHandler(c)},u.prototype.addUserUnloaded=function(c){this._userUnloaded.addHandler(c)},u.prototype.removeUserUnloaded=function(c){this._userUnloaded.removeHandler(c)},u.prototype.addSilentRenewError=function(c){this._silentRenewError.addHandler(c)},u.prototype.removeSilentRenewError=function(c){this._silentRenewError.removeHandler(c)},u.prototype._raiseSilentRenewError=function(c){d.Log.debug("UserManagerEvents._raiseSilentRenewError",c.message),this._silentRenewError.raise(c)},u.prototype.addUserSignedIn=function(c){this._userSignedIn.addHandler(c)},u.prototype.removeUserSignedIn=function(c){this._userSignedIn.removeHandler(c)},u.prototype._raiseUserSignedIn=function(){d.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},u.prototype.addUserSignedOut=function(c){this._userSignedOut.addHandler(c)},u.prototype.removeUserSignedOut=function(c){this._userSignedOut.removeHandler(c)},u.prototype._raiseUserSignedOut=function(){d.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},u.prototype.addUserSessionChanged=function(c){this._userSessionChanged.addHandler(c)},u.prototype.removeUserSessionChanged=function(c){this._userSessionChanged.removeHandler(c)},u.prototype._raiseUserSessionChanged=function(){d.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},u}(i.AccessTokenEvents)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.Timer=void 0;var d=function(){function c(y,S){for(var w=0;w<S.length;w++){var R=S[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(y,R.key,R)}}return function(y,S,w){return S&&c(y.prototype,S),w&&c(y,w),y}}(),i=f(0),v=f(1),g=f(17);function u(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}function l(c,y){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?c:y}a.Timer=function(c){function y(S){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.Global.timer,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;u(this,y);var P=l(this,c.call(this,S));return P._timer=w,P._nowFunc=R||function(){return Date.now()/1e3},P}return function(w,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);w.prototype=Object.create(R&&R.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(w,R):w.__proto__=R)}(y,c),y.prototype.init=function(w){w<=0&&(w=1),w=parseInt(w);var R=this.now+w;if(this.expiration===R&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",w),this._expiration=R;var P=5;w<P&&(P=w),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*P)}},y.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},y.prototype._callback=function(){var w=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",w),this._expiration<=this.now&&(this.cancel(),c.prototype.raise.call(this))},d(y,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),y}(g.Event)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SilentRenewService=void 0;var d=f(0);a.SilentRenewService=function(){function i(v){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),this._userManager=v}return i.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(g){}).catch(function(g){d.Log.error("SilentRenewService.start: Error from getUser:",g.message)}))},i.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},i.prototype._tokenExpiring=function(){var g=this;this._userManager.signinSilent().then(function(u){d.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(u){d.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",u.message),g._userManager.events._raiseSilentRenewError(u)})},i}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.CordovaPopupNavigator=void 0;var d=f(21);a.CordovaPopupNavigator=function(){function i(){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,i)}return i.prototype.prepare=function(g){var u=new d.CordovaPopupWindow(g);return Promise.resolve(u)},i}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.CordovaIFrameNavigator=void 0;var d=f(21);a.CordovaIFrameNavigator=function(){function i(){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,i)}return i.prototype.prepare=function(g){g.popupWindowFeatures="hidden=yes";var u=new d.CordovaPopupWindow(g);return Promise.resolve(u)},i}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.Version="1.11.5"}])})}(is)),is.exports}(function(n,s){(function(p,a){n.exports=a(c0,l0())})(typeof self<"u"?self:fa,function(p,a){return function(f){var d={};function i(v){if(d[v])return d[v].exports;var g=d[v]={i:v,l:!1,exports:{}};return f[v].call(g.exports,g,g.exports,i),g.l=!0,g.exports}return i.m=f,i.c=d,i.d=function(v,g,u){i.o(v,g)||Object.defineProperty(v,g,{enumerable:!0,get:u})},i.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},i.t=function(v,g){if(1&g&&(v=i(v)),8&g||4&g&&typeof v=="object"&&v&&v.__esModule)return v;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:v}),2&g&&typeof v!="string")for(var l in v)i.d(u,l,(function(c){return v[c]}).bind(null,l));return u},i.n=function(v){var g=v&&v.__esModule?function(){return v.default}:function(){return v};return i.d(g,"a",g),g},i.o=function(v,g){return Object.prototype.hasOwnProperty.call(v,g)},i.p="",i(i.s="fae3")}({"00ee":function(f,d,i){var v=i("b622"),g=v("toStringTag"),u={};u[g]="z",f.exports=String(u)==="[object z]"},"0366":function(f,d,i){var v=i("1c0b");f.exports=function(g,u,l){if(v(g),u===void 0)return g;switch(l){case 0:return function(){return g.call(u)};case 1:return function(c){return g.call(u,c)};case 2:return function(c,y){return g.call(u,c,y)};case 3:return function(c,y,S){return g.call(u,c,y,S)}}return function(){return g.apply(u,arguments)}}},"057f":function(f,d,i){var v=i("fc6a"),g=i("241c").f,u={}.toString,l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(y){try{return g(y)}catch{return l.slice()}};f.exports.f=function(y){return l&&u.call(y)=="[object Window]"?c(y):g(v(y))}},"06cf":function(f,d,i){var v=i("83ab"),g=i("d1e7"),u=i("5c6c"),l=i("fc6a"),c=i("c04e"),y=i("5135"),S=i("0cfb"),w=Object.getOwnPropertyDescriptor;d.f=v?w:function(R,P){if(R=l(R),P=c(P,!0),S)try{return w(R,P)}catch{}if(y(R,P))return u(!g.f.call(R,P),R[P])}},"0cb2":function(f,d,i){var v=i("7b0b"),g=Math.floor,u="".replace,l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;f.exports=function(y,S,w,R,P,C){var E=w+y.length,k=R.length,H=c;return P!==void 0&&(P=v(P),H=l),u.call(C,H,function(T,I){var L;switch(I.charAt(0)){case"$":return"$";case"&":return y;case"`":return S.slice(0,w);case"'":return S.slice(E);case"<":L=P[I.slice(1,-1)];break;default:var X=+I;if(X===0)return T;if(X>k){var Q=g(X/10);return Q===0?T:Q<=k?R[Q-1]===void 0?I.charAt(1):R[Q-1]+I.charAt(1):T}L=R[X-1]}return L===void 0?"":L})}},"0cfb":function(f,d,i){var v=i("83ab"),g=i("d039"),u=i("cc12");f.exports=!v&&!g(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"14c3":function(f,d,i){var v=i("c6b6"),g=i("9263");f.exports=function(u,l){var c=u.exec;if(typeof c=="function"){var y=c.call(u,l);if(typeof y!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return y}if(v(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return g.call(u,l)}},"159b":function(f,d,i){var v=i("da84"),g=i("fdbc"),u=i("17c2"),l=i("9112");for(var c in g){var y=v[c],S=y&&y.prototype;if(S&&S.forEach!==u)try{l(S,"forEach",u)}catch{S.forEach=u}}},"17c2":function(f,d,i){var v=i("b727").forEach,g=i("a640"),u=g("forEach");f.exports=u?[].forEach:function(l){return v(this,l,arguments.length>1?arguments[1]:void 0)}},"19aa":function(f,d){f.exports=function(i,v,g){if(!(i instanceof v))throw TypeError("Incorrect "+(g?g+" ":"")+"invocation");return i}},"1be4":function(f,d,i){var v=i("d066");f.exports=v("document","documentElement")},"1c0b":function(f,d){f.exports=function(i){if(typeof i!="function")throw TypeError(String(i)+" is not a function");return i}},"1c7e":function(f,d,i){var v=i("b622"),g=v("iterator"),u=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){u=!0}};c[g]=function(){return this},Array.from(c,function(){throw 2})}catch{}f.exports=function(y,S){if(!S&&!u)return!1;var w=!1;try{var R={};R[g]=function(){return{next:function(){return{done:w=!0}}}},y(R)}catch{}return w}},"1cdc":function(f,d,i){var v=i("342f");f.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(v)},"1d80":function(f,d){f.exports=function(i){if(i==null)throw TypeError("Can't call method on "+i);return i}},"1dde":function(f,d,i){var v=i("d039"),g=i("b622"),u=i("2d00"),l=g("species");f.exports=function(c){return u>=51||!v(function(){var y=[],S=y.constructor={};return S[l]=function(){return{foo:1}},y[c](Boolean).foo!==1})}},2266:function(f,d,i){var v=i("825a"),g=i("e95a"),u=i("50c4"),l=i("0366"),c=i("35a1"),y=i("2a62"),S=function(w,R){this.stopped=w,this.result=R};f.exports=function(w,R,P){var C,E,k,H,T,I,L,X=P&&P.that,Q=!(!P||!P.AS_ENTRIES),rt=!(!P||!P.IS_ITERATOR),M=!(!P||!P.INTERRUPTED),ot=l(R,X,1+Q+M),ct=function(kt){return C&&y(C),new S(!0,kt)},bt=function(kt){return Q?(v(kt),M?ot(kt[0],kt[1],ct):ot(kt[0],kt[1])):M?ot(kt,ct):ot(kt)};if(rt)C=w;else{if(E=c(w),typeof E!="function")throw TypeError("Target is not iterable");if(g(E)){for(k=0,H=u(w.length);H>k;k++)if(T=bt(w[k]),T&&T instanceof S)return T;return new S(!1)}C=E.call(w)}for(I=C.next;!(L=I.call(C)).done;){try{T=bt(L.value)}catch(kt){throw y(C),kt}if(typeof T=="object"&&T&&T instanceof S)return T}return new S(!1)}},"23cb":function(f,d,i){var v=i("a691"),g=Math.max,u=Math.min;f.exports=function(l,c){var y=v(l);return y<0?g(y+c,0):u(y,c)}},"23e7":function(f,d,i){var v=i("da84"),g=i("06cf").f,u=i("9112"),l=i("6eeb"),c=i("ce4e"),y=i("e893"),S=i("94ca");f.exports=function(w,R){var P,C,E,k,H,T,I=w.target,L=w.global,X=w.stat;if(C=L?v:X?v[I]||c(I,{}):(v[I]||{}).prototype,C)for(E in R){if(H=R[E],w.noTargetGet?(T=g(C,E),k=T&&T.value):k=C[E],P=S(L?E:I+(X?".":"#")+E,w.forced),!P&&k!==void 0){if(typeof H==typeof k)continue;y(H,k)}(w.sham||k&&k.sham)&&u(H,"sham",!0),l(C,E,H,w)}}},"241c":function(f,d,i){var v=i("ca84"),g=i("7839"),u=g.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(l){return v(l,u)}},"25f0":function(f,d,i){var v=i("6eeb"),g=i("825a"),u=i("d039"),l=i("ad6d"),c="toString",y=RegExp.prototype,S=y[c],w=u(function(){return S.call({source:"a",flags:"b"})!="/a/b"}),R=S.name!=c;(w||R)&&v(RegExp.prototype,c,function(){var P=g(this),C=String(P.source),E=P.flags,k=String(E===void 0&&P instanceof RegExp&&!("flags"in y)?l.call(P):E);return"/"+C+"/"+k},{unsafe:!0})},2626:function(f,d,i){var v=i("d066"),g=i("9bf2"),u=i("b622"),l=i("83ab"),c=u("species");f.exports=function(y){var S=v(y),w=g.f;l&&S&&!S[c]&&w(S,c,{configurable:!0,get:function(){return this}})}},"2a62":function(f,d,i){var v=i("825a");f.exports=function(g){var u=g.return;if(u!==void 0)return v(u.call(g)).value}},"2cf4":function(f,d,i){var v,g,u,l=i("da84"),c=i("d039"),y=i("0366"),S=i("1be4"),w=i("cc12"),R=i("1cdc"),P=i("605d"),C=l.location,E=l.setImmediate,k=l.clearImmediate,H=l.process,T=l.MessageChannel,I=l.Dispatch,L=0,X={},Q="onreadystatechange",rt=function(bt){if(X.hasOwnProperty(bt)){var kt=X[bt];delete X[bt],kt()}},M=function(bt){return function(){rt(bt)}},ot=function(bt){rt(bt.data)},ct=function(bt){l.postMessage(bt+"",C.protocol+"//"+C.host)};E&&k||(E=function(bt){for(var kt=[],pt=1;arguments.length>pt;)kt.push(arguments[pt++]);return X[++L]=function(){(typeof bt=="function"?bt:Function(bt)).apply(void 0,kt)},v(L),L},k=function(bt){delete X[bt]},P?v=function(bt){H.nextTick(M(bt))}:I&&I.now?v=function(bt){I.now(M(bt))}:T&&!R?(g=new T,u=g.port2,g.port1.onmessage=ot,v=y(u.postMessage,u,1)):l.addEventListener&&typeof postMessage=="function"&&!l.importScripts&&C&&C.protocol!=="file:"&&!c(ct)?(v=ct,l.addEventListener("message",ot,!1)):v=Q in w("script")?function(bt){S.appendChild(w("script"))[Q]=function(){S.removeChild(this),rt(bt)}}:function(bt){setTimeout(M(bt),0)}),f.exports={set:E,clear:k}},"2d00":function(f,d,i){var v,g,u=i("da84"),l=i("342f"),c=u.process,y=c&&c.versions,S=y&&y.v8;S?(v=S.split("."),g=v[0]+v[1]):l&&(v=l.match(/Edge\/(\d+)/),(!v||v[1]>=74)&&(v=l.match(/Chrome\/(\d+)/),v&&(g=v[1]))),f.exports=g&&+g},"342f":function(f,d,i){var v=i("d066");f.exports=v("navigator","userAgent")||""},"35a1":function(f,d,i){var v=i("f5df"),g=i("3f8c"),u=i("b622"),l=u("iterator");f.exports=function(c){if(c!=null)return c[l]||c["@@iterator"]||g[v(c)]}},"37e8":function(f,d,i){var v=i("83ab"),g=i("9bf2"),u=i("825a"),l=i("df75");f.exports=v?Object.defineProperties:function(c,y){u(c);for(var S,w=l(y),R=w.length,P=0;R>P;)g.f(c,S=w[P++],y[S]);return c}},"3bbe":function(f,d,i){var v=i("861d");f.exports=function(g){if(!v(g)&&g!==null)throw TypeError("Can't set "+String(g)+" as a prototype");return g}},"3f8c":function(f,d){f.exports={}},"428f":function(f,d,i){var v=i("da84");f.exports=v},"44ad":function(f,d,i){var v=i("d039"),g=i("c6b6"),u="".split;f.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(l){return g(l)=="String"?u.call(l,""):Object(l)}:Object},"44de":function(f,d,i){var v=i("da84");f.exports=function(g,u){var l=v.console;l&&l.error&&(arguments.length===1?l.error(g):l.error(g,u))}},"44e7":function(f,d,i){var v=i("861d"),g=i("c6b6"),u=i("b622"),l=u("match");f.exports=function(c){var y;return v(c)&&((y=c[l])!==void 0?!!y:g(c)=="RegExp")}},4840:function(f,d,i){var v=i("825a"),g=i("1c0b"),u=i("b622"),l=u("species");f.exports=function(c,y){var S,w=v(c).constructor;return w===void 0||(S=v(w)[l])==null?y:g(S)}},4930:function(f,d,i){var v=i("605d"),g=i("2d00"),u=i("d039");f.exports=!!Object.getOwnPropertySymbols&&!u(function(){return!Symbol.sham&&(v?g===38:g>37&&g<41)})},"4d63":function(f,d,i){var v=i("83ab"),g=i("da84"),u=i("94ca"),l=i("7156"),c=i("9bf2").f,y=i("241c").f,S=i("44e7"),w=i("ad6d"),R=i("9f7f"),P=i("6eeb"),C=i("d039"),E=i("69f3").enforce,k=i("2626"),H=i("b622"),T=H("match"),I=g.RegExp,L=I.prototype,X=/a/g,Q=/a/g,rt=new I(X)!==X,M=R.UNSUPPORTED_Y,ot=v&&u("RegExp",!rt||M||C(function(){return Q[T]=!1,I(X)!=X||I(Q)==Q||I(X,"i")!="/a/i"}));if(ot){for(var ct=function(wt,yt){var Ct,Tt=this instanceof ct,jt=S(wt),Ot=yt===void 0;if(!Tt&&jt&&wt.constructor===ct&&Ot)return wt;rt?jt&&!Ot&&(wt=wt.source):wt instanceof ct&&(Ot&&(yt=w.call(wt)),wt=wt.source),M&&(Ct=!!yt&&yt.indexOf("y")>-1,Ct&&(yt=yt.replace(/y/g,"")));var Mt=l(rt?new I(wt,yt):I(wt,yt),Tt?this:L,ct);if(M&&Ct){var Jt=E(Mt);Jt.sticky=!0}return Mt},bt=function(wt){wt in ct||c(ct,wt,{configurable:!0,get:function(){return I[wt]},set:function(yt){I[wt]=yt}})},kt=y(I),pt=0;kt.length>pt;)bt(kt[pt++]);L.constructor=ct,ct.prototype=L,P(g,"RegExp",ct)}k("RegExp")},"4d64":function(f,d,i){var v=i("fc6a"),g=i("50c4"),u=i("23cb"),l=function(c){return function(y,S,w){var R,P=v(y),C=g(P.length),E=u(w,C);if(c&&S!=S){for(;C>E;)if(R=P[E++],R!=R)return!0}else for(;C>E;E++)if((c||E in P)&&P[E]===S)return c||E||0;return!c&&-1}};f.exports={includes:l(!0),indexOf:l(!1)}},"4de4":function(f,d,i){var v=i("23e7"),g=i("b727").filter,u=i("1dde"),l=u("filter");v({target:"Array",proto:!0,forced:!l},{filter:function(c){return g(this,c,arguments.length>1?arguments[1]:void 0)}})},"50c4":function(f,d,i){var v=i("a691"),g=Math.min;f.exports=function(u){return u>0?g(v(u),9007199254740991):0}},5135:function(f,d,i){var v=i("7b0b"),g={}.hasOwnProperty;f.exports=function(u,l){return g.call(v(u),l)}},5319:function(f,d,i){var v=i("d784"),g=i("825a"),u=i("50c4"),l=i("a691"),c=i("1d80"),y=i("8aa5"),S=i("0cb2"),w=i("14c3"),R=Math.max,P=Math.min,C=function(E){return E===void 0?E:String(E)};v("replace",2,function(E,k,H,T){var I=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,L=T.REPLACE_KEEPS_$0,X=I?"$":"$0";return[function(Q,rt){var M=c(this),ot=Q==null?void 0:Q[E];return ot!==void 0?ot.call(Q,M,rt):k.call(String(M),Q,rt)},function(Q,rt){if(!I&&L||typeof rt=="string"&&rt.indexOf(X)===-1){var M=H(k,Q,this,rt);if(M.done)return M.value}var ot=g(Q),ct=String(this),bt=typeof rt=="function";bt||(rt=String(rt));var kt=ot.global;if(kt){var pt=ot.unicode;ot.lastIndex=0}for(var wt=[];;){var yt=w(ot,ct);if(yt===null||(wt.push(yt),!kt))break;var Ct=String(yt[0]);Ct===""&&(ot.lastIndex=y(ct,u(ot.lastIndex),pt))}for(var Tt="",jt=0,Ot=0;Ot<wt.length;Ot++){yt=wt[Ot];for(var Mt=String(yt[0]),Jt=R(P(l(yt.index),ct.length),0),ee=[],$t=1;$t<yt.length;$t++)ee.push(C(yt[$t]));var lt=yt.groups;if(bt){var Et=[Mt].concat(ee,Jt,ct);lt!==void 0&&Et.push(lt);var St=String(rt.apply(void 0,Et))}else St=S(Mt,ct,Jt,ee,lt,rt);Jt>=jt&&(Tt+=ct.slice(jt,Jt)+St,jt=Jt+Mt.length)}return Tt+ct.slice(jt)}]})},5692:function(f,d,i){var v=i("c430"),g=i("c6cd");(f.exports=function(u,l){return g[u]||(g[u]=l!==void 0?l:{})})("versions",[]).push({version:"3.11.0",mode:v?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(f,d,i){var v=i("d066"),g=i("241c"),u=i("7418"),l=i("825a");f.exports=v("Reflect","ownKeys")||function(c){var y=g.f(l(c)),S=u.f;return S?y.concat(S(c)):y}},"5c6c":function(f,d){f.exports=function(i,v){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:v}}},"605d":function(f,d,i){var v=i("c6b6"),g=i("da84");f.exports=v(g.process)=="process"},6547:function(f,d,i){var v=i("a691"),g=i("1d80"),u=function(l){return function(c,y){var S,w,R=String(g(c)),P=v(y),C=R.length;return P<0||P>=C?l?"":void 0:(S=R.charCodeAt(P),S<55296||S>56319||P+1===C||(w=R.charCodeAt(P+1))<56320||w>57343?l?R.charAt(P):S:l?R.slice(P,P+2):w-56320+(S-55296<<10)+65536)}};f.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(f,d,i){var v=i("861d"),g=i("e8b5"),u=i("b622"),l=u("species");f.exports=function(c,y){var S;return g(c)&&(S=c.constructor,typeof S!="function"||S!==Array&&!g(S.prototype)?v(S)&&(S=S[l],S===null&&(S=void 0)):S=void 0),new(S===void 0?Array:S)(y===0?0:y)}},"69f3":function(f,d,i){var v,g,u,l=i("7f9a"),c=i("da84"),y=i("861d"),S=i("9112"),w=i("5135"),R=i("c6cd"),P=i("f772"),C=i("d012"),E="Object already initialized",k=c.WeakMap,H=function(M){return u(M)?g(M):v(M,{})},T=function(M){return function(ot){var ct;if(!y(ot)||(ct=g(ot)).type!==M)throw TypeError("Incompatible receiver, "+M+" required");return ct}};if(l){var I=R.state||(R.state=new k),L=I.get,X=I.has,Q=I.set;v=function(M,ot){if(X.call(I,M))throw new TypeError(E);return ot.facade=M,Q.call(I,M,ot),ot},g=function(M){return L.call(I,M)||{}},u=function(M){return X.call(I,M)}}else{var rt=P("state");C[rt]=!0,v=function(M,ot){if(w(M,rt))throw new TypeError(E);return ot.facade=M,S(M,rt,ot),ot},g=function(M){return w(M,rt)?M[rt]:{}},u=function(M){return w(M,rt)}}f.exports={set:v,get:g,has:u,enforce:H,getterFor:T}},"6eeb":function(f,d,i){var v=i("da84"),g=i("9112"),u=i("5135"),l=i("ce4e"),c=i("8925"),y=i("69f3"),S=y.get,w=y.enforce,R=String(String).split("String");(f.exports=function(P,C,E,k){var H,T=!!k&&!!k.unsafe,I=!!k&&!!k.enumerable,L=!!k&&!!k.noTargetGet;typeof E=="function"&&(typeof C!="string"||u(E,"name")||g(E,"name",C),H=w(E),H.source||(H.source=R.join(typeof C=="string"?C:""))),P!==v?(T?!L&&P[C]&&(I=!0):delete P[C],I?P[C]=E:g(P,C,E)):I?P[C]=E:l(C,E)})(Function.prototype,"toString",function(){return typeof this=="function"&&S(this).source||c(this)})},7156:function(f,d,i){var v=i("861d"),g=i("d2bb");f.exports=function(u,l,c){var y,S;return g&&typeof(y=l.constructor)=="function"&&y!==c&&v(S=y.prototype)&&S!==c.prototype&&g(u,S),u}},7418:function(f,d){d.f=Object.getOwnPropertySymbols},"746f":function(f,d,i){var v=i("428f"),g=i("5135"),u=i("e538"),l=i("9bf2").f;f.exports=function(c){var y=v.Symbol||(v.Symbol={});g(y,c)||l(y,c,{value:u.f(c)})}},7839:function(f,d){f.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(f,d,i){var v=i("1d80");f.exports=function(g){return Object(v(g))}},"7c73":function(f,d,i){var v,g=i("825a"),u=i("37e8"),l=i("7839"),c=i("d012"),y=i("1be4"),S=i("cc12"),w=i("f772"),R=">",P="<",C="prototype",E="script",k=w("IE_PROTO"),H=function(){},T=function(Q){return P+E+R+Q+P+"/"+E+R},I=function(Q){Q.write(T("")),Q.close();var rt=Q.parentWindow.Object;return Q=null,rt},L=function(){var Q,rt=S("iframe"),M="java"+E+":";return rt.style.display="none",y.appendChild(rt),rt.src=String(M),Q=rt.contentWindow.document,Q.open(),Q.write(T("document.F=Object")),Q.close(),Q.F},X=function(){try{v=document.domain&&new ActiveXObject("htmlfile")}catch{}X=v?I(v):L();for(var Q=l.length;Q--;)delete X[C][l[Q]];return X()};c[k]=!0,f.exports=Object.create||function(Q,rt){var M;return Q!==null?(H[C]=g(Q),M=new H,H[C]=null,M[k]=Q):M=X(),rt===void 0?M:u(M,rt)}},"7f9a":function(f,d,i){var v=i("da84"),g=i("8925"),u=v.WeakMap;f.exports=typeof u=="function"&&/native code/.test(g(u))},"825a":function(f,d,i){var v=i("861d");f.exports=function(g){if(!v(g))throw TypeError(String(g)+" is not an object");return g}},"83ab":function(f,d,i){var v=i("d039");f.exports=!v(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(f,d,i){var v=i("c04e"),g=i("9bf2"),u=i("5c6c");f.exports=function(l,c,y){var S=v(c);S in l?g.f(l,S,u(0,y)):l[S]=y}},"861d":function(f,d){f.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},8875:function(f,d,i){var v,g,u;(function(l,c){g=[],v=c,u=typeof v=="function"?v.apply(d,g):v,u===void 0||(f.exports=u)})(typeof self<"u"&&self,function(){function l(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==l&&document.currentScript)return document.currentScript;try{throw new Error}catch(L){var y,S,w,R=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,P=/@([^@]*):(\d+):(\d+)\s*$/gi,C=R.exec(L.stack)||P.exec(L.stack),E=C&&C[1]||!1,k=C&&C[2]||!1,H=document.location.href.replace(document.location.hash,""),T=document.getElementsByTagName("script");E===H&&(y=document.documentElement.outerHTML,S=new RegExp("(?:[^\\n]+?\\n){0,"+(k-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),w=y.replace(S,"$1").trim());for(var I=0;I<T.length;I++)if(T[I].readyState==="interactive"||T[I].src===E||E===H&&T[I].innerHTML&&T[I].innerHTML.trim()===w)return T[I];return null}}return l})},8925:function(f,d,i){var v=i("c6cd"),g=Function.toString;typeof v.inspectSource!="function"&&(v.inspectSource=function(u){return g.call(u)}),f.exports=v.inspectSource},"8aa5":function(f,d,i){var v=i("6547").charAt;f.exports=function(g,u,l){return u+(l?v(g,u).length:1)}},"8bbf":function(f,d){f.exports=p},"90e3":function(f,d){var i=0,v=Math.random();f.exports=function(g){return"Symbol("+String(g===void 0?"":g)+")_"+(++i+v).toString(36)}},9112:function(f,d,i){var v=i("83ab"),g=i("9bf2"),u=i("5c6c");f.exports=v?function(l,c,y){return g.f(l,c,u(1,y))}:function(l,c,y){return l[c]=y,l}},9263:function(f,d,i){var v=i("ad6d"),g=i("9f7f"),u=i("5692"),l=RegExp.prototype.exec,c=u("native-string-replace",String.prototype.replace),y=l,S=function(){var C=/a/,E=/b*/g;return l.call(C,"a"),l.call(E,"a"),C.lastIndex!==0||E.lastIndex!==0}(),w=g.UNSUPPORTED_Y||g.BROKEN_CARET,R=/()??/.exec("")[1]!==void 0,P=S||R||w;P&&(y=function(C){var E,k,H,T,I=this,L=w&&I.sticky,X=v.call(I),Q=I.source,rt=0,M=C;return L&&(X=X.replace("y",""),X.indexOf("g")===-1&&(X+="g"),M=String(C).slice(I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&C[I.lastIndex-1]!==`
`)&&(Q="(?: "+Q+")",M=" "+M,rt++),k=new RegExp("^(?:"+Q+")",X)),R&&(k=new RegExp("^"+Q+"$(?!\\s)",X)),S&&(E=I.lastIndex),H=l.call(L?k:I,M),L?H?(H.input=H.input.slice(rt),H[0]=H[0].slice(rt),H.index=I.lastIndex,I.lastIndex+=H[0].length):I.lastIndex=0:S&&H&&(I.lastIndex=I.global?H.index+H[0].length:E),R&&H&&H.length>1&&c.call(H[0],k,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(H[T]=void 0)}),H}),f.exports=y},"94ca":function(f,d,i){var v=i("d039"),g=/#|\.prototype\./,u=function(w,R){var P=c[l(w)];return P==S||P!=y&&(typeof R=="function"?v(R):!!R)},l=u.normalize=function(w){return String(w).replace(g,".").toLowerCase()},c=u.data={},y=u.NATIVE="N",S=u.POLYFILL="P";f.exports=u},"99af":function(f,d,i){var v=i("23e7"),g=i("d039"),u=i("e8b5"),l=i("861d"),c=i("7b0b"),y=i("50c4"),S=i("8418"),w=i("65f0"),R=i("1dde"),P=i("b622"),C=i("2d00"),E=P("isConcatSpreadable"),k=9007199254740991,H="Maximum allowed index exceeded",T=C>=51||!g(function(){var Q=[];return Q[E]=!1,Q.concat()[0]!==Q}),I=R("concat"),L=function(Q){if(!l(Q))return!1;var rt=Q[E];return rt!==void 0?!!rt:u(Q)},X=!T||!I;v({target:"Array",proto:!0,forced:X},{concat:function(Q){var rt,M,ot,ct,bt,kt=c(this),pt=w(kt,0),wt=0;for(rt=-1,ot=arguments.length;rt<ot;rt++)if(bt=rt===-1?kt:arguments[rt],L(bt)){if(ct=y(bt.length),wt+ct>k)throw TypeError(H);for(M=0;M<ct;M++,wt++)M in bt&&S(pt,wt,bt[M])}else{if(wt>=k)throw TypeError(H);S(pt,wt++,bt)}return pt.length=wt,pt}})},"9bf2":function(f,d,i){var v=i("83ab"),g=i("0cfb"),u=i("825a"),l=i("c04e"),c=Object.defineProperty;d.f=v?c:function(y,S,w){if(u(y),S=l(S,!0),u(w),g)try{return c(y,S,w)}catch{}if("get"in w||"set"in w)throw TypeError("Accessors not supported");return"value"in w&&(y[S]=w.value),y}},"9f7f":function(f,d,i){var v=i("d039");function g(u,l){return RegExp(u,l)}d.UNSUPPORTED_Y=v(function(){var u=g("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),d.BROKEN_CARET=v(function(){var u=g("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a4b4:function(f,d,i){var v=i("342f");f.exports=/web0s(?!.*chrome)/i.test(v)},a4d3:function(f,d,i){var v=i("23e7"),g=i("da84"),u=i("d066"),l=i("c430"),c=i("83ab"),y=i("4930"),S=i("fdbf"),w=i("d039"),R=i("5135"),P=i("e8b5"),C=i("861d"),E=i("825a"),k=i("7b0b"),H=i("fc6a"),T=i("c04e"),I=i("5c6c"),L=i("7c73"),X=i("df75"),Q=i("241c"),rt=i("057f"),M=i("7418"),ot=i("06cf"),ct=i("9bf2"),bt=i("d1e7"),kt=i("9112"),pt=i("6eeb"),wt=i("5692"),yt=i("f772"),Ct=i("d012"),Tt=i("90e3"),jt=i("b622"),Ot=i("e538"),Mt=i("746f"),Jt=i("d44e"),ee=i("69f3"),$t=i("b727").forEach,lt=yt("hidden"),Et="Symbol",St="prototype",Rt=jt("toPrimitive"),q=ee.set,b=ee.getterFor(Et),m=Object[St],A=g.Symbol,D=u("JSON","stringify"),$=ot.f,Y=ct.f,at=rt.f,ft=bt.f,gt=wt("symbols"),dt=wt("op-symbols"),vt=wt("string-to-symbol-registry"),At=wt("symbol-to-string-registry"),Lt=wt("wks"),Nt=g.QObject,ht=!Nt||!Nt[St]||!Nt[St].findChild,It=c&&w(function(){return L(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a!=7})?function(Ft,Ht,Kt){var Dt=$(m,Ht);Dt&&delete m[Ht],Y(Ft,Ht,Kt),Dt&&Ft!==m&&Y(m,Ht,Dt)}:Y,Pt=function(Ft,Ht){var Kt=gt[Ft]=L(A[St]);return q(Kt,{type:Et,tag:Ft,description:Ht}),c||(Kt.description=Ht),Kt},Xt=S?function(Ft){return typeof Ft=="symbol"}:function(Ft){return Object(Ft)instanceof A},me=function(Ft,Ht,Kt){Ft===m&&me(dt,Ht,Kt),E(Ft);var Dt=T(Ht,!0);return E(Kt),R(gt,Dt)?(Kt.enumerable?(R(Ft,lt)&&Ft[lt][Dt]&&(Ft[lt][Dt]=!1),Kt=L(Kt,{enumerable:I(0,!1)})):(R(Ft,lt)||Y(Ft,lt,I(1,{})),Ft[lt][Dt]=!0),It(Ft,Dt,Kt)):Y(Ft,Dt,Kt)},O=function(Ft,Ht){E(Ft);var Kt=H(Ht),Dt=X(Kt).concat(Wt(Kt));return $t(Dt,function(Bt){c&&!ge.call(Kt,Bt)||me(Ft,Bt,Kt[Bt])}),Ft},Ae=function(Ft,Ht){return Ht===void 0?L(Ft):O(L(Ft),Ht)},ge=function(Ft){var Ht=T(Ft,!0),Kt=ft.call(this,Ht);return!(this===m&&R(gt,Ht)&&!R(dt,Ht))&&(!(Kt||!R(this,Ht)||!R(gt,Ht)||R(this,lt)&&this[lt][Ht])||Kt)},st=function(Ft,Ht){var Kt=H(Ft),Dt=T(Ht,!0);if(Kt!==m||!R(gt,Dt)||R(dt,Dt)){var Bt=$(Kt,Dt);return!Bt||!R(gt,Dt)||R(Kt,lt)&&Kt[lt][Dt]||(Bt.enumerable=!0),Bt}},qt=function(Ft){var Ht=at(H(Ft)),Kt=[];return $t(Ht,function(Dt){R(gt,Dt)||R(Ct,Dt)||Kt.push(Dt)}),Kt},Wt=function(Ft){var Ht=Ft===m,Kt=at(Ht?dt:H(Ft)),Dt=[];return $t(Kt,function(Bt){!R(gt,Bt)||Ht&&!R(m,Bt)||Dt.push(gt[Bt])}),Dt};if(y||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor");var Ft=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,Ht=Tt(Ft),Kt=function(Dt){this===m&&Kt.call(dt,Dt),R(this,lt)&&R(this[lt],Ht)&&(this[lt][Ht]=!1),It(this,Ht,I(1,Dt))};return c&&ht&&It(m,Ht,{configurable:!0,set:Kt}),Pt(Ht,Ft)},pt(A[St],"toString",function(){return b(this).tag}),pt(A,"withoutSetter",function(Ft){return Pt(Tt(Ft),Ft)}),bt.f=ge,ct.f=me,ot.f=st,Q.f=rt.f=qt,M.f=Wt,Ot.f=function(Ft){return Pt(jt(Ft),Ft)},c&&(Y(A[St],"description",{configurable:!0,get:function(){return b(this).description}}),l||pt(m,"propertyIsEnumerable",ge,{unsafe:!0}))),v({global:!0,wrap:!0,forced:!y,sham:!y},{Symbol:A}),$t(X(Lt),function(Ft){Mt(Ft)}),v({target:Et,stat:!0,forced:!y},{for:function(Ft){var Ht=String(Ft);if(R(vt,Ht))return vt[Ht];var Kt=A(Ht);return vt[Ht]=Kt,At[Kt]=Ht,Kt},keyFor:function(Ft){if(!Xt(Ft))throw TypeError(Ft+" is not a symbol");if(R(At,Ft))return At[Ft]},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),v({target:"Object",stat:!0,forced:!y,sham:!c},{create:Ae,defineProperty:me,defineProperties:O,getOwnPropertyDescriptor:st}),v({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:qt,getOwnPropertySymbols:Wt}),v({target:"Object",stat:!0,forced:w(function(){M.f(1)})},{getOwnPropertySymbols:function(Ft){return M.f(k(Ft))}}),D){var zt=!y||w(function(){var Ft=A();return D([Ft])!="[null]"||D({a:Ft})!="{}"||D(Object(Ft))!="{}"});v({target:"JSON",stat:!0,forced:zt},{stringify:function(Ft,Ht,Kt){for(var Dt,Bt=[Ft],Oe=1;arguments.length>Oe;)Bt.push(arguments[Oe++]);if(Dt=Ht,(C(Ht)||Ft!==void 0)&&!Xt(Ft))return P(Ht)||(Ht=function(re,le){if(typeof Dt=="function"&&(le=Dt.call(this,re,le)),!Xt(le))return le}),Bt[1]=Ht,D.apply(null,Bt)}})}A[St][Rt]||kt(A[St],Rt,A[St].valueOf),Jt(A,Et),Ct[lt]=!0},a640:function(f,d,i){var v=i("d039");f.exports=function(g,u){var l=[][g];return!!l&&v(function(){l.call(null,u||function(){throw 1},1)})}},a691:function(f,d){var i=Math.ceil,v=Math.floor;f.exports=function(g){return isNaN(g=+g)?0:(g>0?v:i)(g)}},ac1f:function(f,d,i){var v=i("23e7"),g=i("9263");v({target:"RegExp",proto:!0,forced:/./.exec!==g},{exec:g})},ad6d:function(f,d,i){var v=i("825a");f.exports=function(){var g=v(this),u="";return g.global&&(u+="g"),g.ignoreCase&&(u+="i"),g.multiline&&(u+="m"),g.dotAll&&(u+="s"),g.unicode&&(u+="u"),g.sticky&&(u+="y"),u}},b041:function(f,d,i){var v=i("00ee"),g=i("f5df");f.exports=v?{}.toString:function(){return"[object "+g(this)+"]"}},b575:function(f,d,i){var v,g,u,l,c,y,S,w,R=i("da84"),P=i("06cf").f,C=i("2cf4").set,E=i("1cdc"),k=i("a4b4"),H=i("605d"),T=R.MutationObserver||R.WebKitMutationObserver,I=R.document,L=R.process,X=R.Promise,Q=P(R,"queueMicrotask"),rt=Q&&Q.value;rt||(v=function(){var M,ot;for(H&&(M=L.domain)&&M.exit();g;){ot=g.fn,g=g.next;try{ot()}catch(ct){throw g?l():u=void 0,ct}}u=void 0,M&&M.enter()},E||H||k||!T||!I?X&&X.resolve?(S=X.resolve(void 0),w=S.then,l=function(){w.call(S,v)}):l=H?function(){L.nextTick(v)}:function(){C.call(R,v)}:(c=!0,y=I.createTextNode(""),new T(v).observe(y,{characterData:!0}),l=function(){y.data=c=!c})),f.exports=rt||function(M){var ot={fn:M,next:void 0};u&&(u.next=ot),g||(g=ot,l()),u=ot}},b622:function(f,d,i){var v=i("da84"),g=i("5692"),u=i("5135"),l=i("90e3"),c=i("4930"),y=i("fdbf"),S=g("wks"),w=v.Symbol,R=y?w:w&&w.withoutSetter||l;f.exports=function(P){return u(S,P)&&(c||typeof S[P]=="string")||(c&&u(w,P)?S[P]=w[P]:S[P]=R("Symbol."+P)),S[P]}},b64b:function(f,d,i){var v=i("23e7"),g=i("7b0b"),u=i("df75"),l=i("d039"),c=l(function(){u(1)});v({target:"Object",stat:!0,forced:c},{keys:function(y){return u(g(y))}})},b727:function(f,d,i){var v=i("0366"),g=i("44ad"),u=i("7b0b"),l=i("50c4"),c=i("65f0"),y=[].push,S=function(w){var R=w==1,P=w==2,C=w==3,E=w==4,k=w==6,H=w==7,T=w==5||k;return function(I,L,X,Q){for(var rt,M,ot=u(I),ct=g(ot),bt=v(L,X,3),kt=l(ct.length),pt=0,wt=Q||c,yt=R?wt(I,kt):P||H?wt(I,0):void 0;kt>pt;pt++)if((T||pt in ct)&&(rt=ct[pt],M=bt(rt,pt,ot),w))if(R)yt[pt]=M;else if(M)switch(w){case 3:return!0;case 5:return rt;case 6:return pt;case 2:y.call(yt,rt)}else switch(w){case 4:return!1;case 7:y.call(yt,rt)}return k?-1:C||E?E:yt}};f.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterOut:S(7)}},c04e:function(f,d,i){var v=i("861d");f.exports=function(g,u){if(!v(g))return g;var l,c;if(u&&typeof(l=g.toString)=="function"&&!v(c=l.call(g))||typeof(l=g.valueOf)=="function"&&!v(c=l.call(g))||!u&&typeof(l=g.toString)=="function"&&!v(c=l.call(g)))return c;throw TypeError("Can't convert object to primitive value")}},c097:function(f,d){f.exports=a},c430:function(f,d){f.exports=!1},c6b6:function(f,d){var i={}.toString;f.exports=function(v){return i.call(v).slice(8,-1)}},c6cd:function(f,d,i){var v=i("da84"),g=i("ce4e"),u="__core-js_shared__",l=v[u]||g(u,{});f.exports=l},c8ba:function(f,d){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}f.exports=i},ca84:function(f,d,i){var v=i("5135"),g=i("fc6a"),u=i("4d64").indexOf,l=i("d012");f.exports=function(c,y){var S,w=g(c),R=0,P=[];for(S in w)!v(l,S)&&v(w,S)&&P.push(S);for(;y.length>R;)v(w,S=y[R++])&&(~u(P,S)||P.push(S));return P}},cc12:function(f,d,i){var v=i("da84"),g=i("861d"),u=v.document,l=g(u)&&g(u.createElement);f.exports=function(c){return l?u.createElement(c):{}}},cdf9:function(f,d,i){var v=i("825a"),g=i("861d"),u=i("f069");f.exports=function(l,c){if(v(l),g(c)&&c.constructor===l)return c;var y=u.f(l),S=y.resolve;return S(c),y.promise}},ce4e:function(f,d,i){var v=i("da84"),g=i("9112");f.exports=function(u,l){try{g(v,u,l)}catch{v[u]=l}return l}},d012:function(f,d){f.exports={}},d039:function(f,d){f.exports=function(i){try{return!!i()}catch{return!0}}},d066:function(f,d,i){var v=i("428f"),g=i("da84"),u=function(l){return typeof l=="function"?l:void 0};f.exports=function(l,c){return arguments.length<2?u(v[l])||u(g[l]):v[l]&&v[l][c]||g[l]&&g[l][c]}},d1e7:function(f,d,i){var v={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,u=g&&!v.call({1:2},1);d.f=u?function(l){var c=g(this,l);return!!c&&c.enumerable}:v},d2bb:function(f,d,i){var v=i("825a"),g=i("3bbe");f.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,l=!1,c={};try{u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,u.call(c,[]),l=c instanceof Array}catch{}return function(y,S){return v(y),g(S),l?u.call(y,S):y.__proto__=S,y}}():void 0)},d3b7:function(f,d,i){var v=i("00ee"),g=i("6eeb"),u=i("b041");v||g(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(f,d,i){var v=i("9bf2").f,g=i("5135"),u=i("b622"),l=u("toStringTag");f.exports=function(c,y,S){c&&!g(c=S?c:c.prototype,l)&&v(c,l,{configurable:!0,value:y})}},d784:function(f,d,i){i("ac1f");var v=i("6eeb"),g=i("d039"),u=i("b622"),l=i("9112"),c=u("species"),y=!g(function(){var C=/./;return C.exec=function(){var E=[];return E.groups={a:"7"},E},"".replace(C,"$<a>")!=="7"}),S=function(){return"a".replace(/./,"$0")==="$0"}(),w=u("replace"),R=function(){return!!/./[w]&&/./[w]("a","$0")===""}(),P=!g(function(){var C=/(?:)/,E=C.exec;C.exec=function(){return E.apply(this,arguments)};var k="ab".split(C);return k.length!==2||k[0]!=="a"||k[1]!=="b"});f.exports=function(C,E,k,H){var T=u(C),I=!g(function(){var ot={};return ot[T]=function(){return 7},""[C](ot)!=7}),L=I&&!g(function(){var ot=!1,ct=/a/;return C==="split"&&(ct={},ct.constructor={},ct.constructor[c]=function(){return ct},ct.flags="",ct[T]=/./[T]),ct.exec=function(){return ot=!0,null},ct[T](""),!ot});if(!I||!L||C==="replace"&&(!y||!S||R)||C==="split"&&!P){var X=/./[T],Q=k(T,""[C],function(ot,ct,bt,kt,pt){return ct.exec===RegExp.prototype.exec?I&&!pt?{done:!0,value:X.call(ct,bt,kt)}:{done:!0,value:ot.call(bt,ct,kt)}:{done:!1}},{REPLACE_KEEPS_$0:S,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:R}),rt=Q[0],M=Q[1];v(String.prototype,C,rt),v(RegExp.prototype,T,E==2?function(ot,ct){return M.call(ot,this,ct)}:function(ot){return M.call(ot,this)})}H&&l(RegExp.prototype[T],"sham",!0)}},da84:function(f,d,i){(function(v){var g=function(u){return u&&u.Math==Math&&u};f.exports=g(typeof globalThis=="object"&&globalThis)||g(typeof window=="object"&&window)||g(typeof self=="object"&&self)||g(typeof v=="object"&&v)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},dbb4:function(f,d,i){var v=i("23e7"),g=i("83ab"),u=i("56ef"),l=i("fc6a"),c=i("06cf"),y=i("8418");v({target:"Object",stat:!0,sham:!g},{getOwnPropertyDescriptors:function(S){for(var w,R,P=l(S),C=c.f,E=u(P),k={},H=0;E.length>H;)R=C(P,w=E[H++]),R!==void 0&&y(k,w,R);return k}})},df75:function(f,d,i){var v=i("ca84"),g=i("7839");f.exports=Object.keys||function(u){return v(u,g)}},e2cc:function(f,d,i){var v=i("6eeb");f.exports=function(g,u,l){for(var c in u)v(g,c,u[c],l);return g}},e439:function(f,d,i){var v=i("23e7"),g=i("d039"),u=i("fc6a"),l=i("06cf").f,c=i("83ab"),y=g(function(){l(1)}),S=!c||y;v({target:"Object",stat:!0,forced:S,sham:!c},{getOwnPropertyDescriptor:function(w,R){return l(u(w),R)}})},e538:function(f,d,i){var v=i("b622");d.f=v},e667:function(f,d){f.exports=function(i){try{return{error:!1,value:i()}}catch(v){return{error:!0,value:v}}}},e6cf:function(f,d,i){var v,g,u,l,c=i("23e7"),y=i("c430"),S=i("da84"),w=i("d066"),R=i("fea9"),P=i("6eeb"),C=i("e2cc"),E=i("d44e"),k=i("2626"),H=i("861d"),T=i("1c0b"),I=i("19aa"),L=i("8925"),X=i("2266"),Q=i("1c7e"),rt=i("4840"),M=i("2cf4").set,ot=i("b575"),ct=i("cdf9"),bt=i("44de"),kt=i("f069"),pt=i("e667"),wt=i("69f3"),yt=i("94ca"),Ct=i("b622"),Tt=i("605d"),jt=i("2d00"),Ot=Ct("species"),Mt="Promise",Jt=wt.get,ee=wt.set,$t=wt.getterFor(Mt),lt=R,Et=S.TypeError,St=S.document,Rt=S.process,q=w("fetch"),b=kt.f,m=b,A=!!(St&&St.createEvent&&S.dispatchEvent),D=typeof PromiseRejectionEvent=="function",$="unhandledrejection",Y="rejectionhandled",at=0,ft=1,gt=2,dt=1,vt=2,At=yt(Mt,function(){var st=L(lt)!==String(lt);if(!st&&(jt===66||!Tt&&!D)||y&&!lt.prototype.finally)return!0;if(jt>=51&&/native code/.test(lt))return!1;var qt=lt.resolve(1),Wt=function(Ft){Ft(function(){},function(){})},zt=qt.constructor={};return zt[Ot]=Wt,!(qt.then(function(){})instanceof Wt)}),Lt=At||!Q(function(st){lt.all(st).catch(function(){})}),Nt=function(st){var qt;return!(!H(st)||typeof(qt=st.then)!="function")&&qt},ht=function(st,qt){if(!st.notified){st.notified=!0;var Wt=st.reactions;ot(function(){for(var zt=st.value,Ft=st.state==ft,Ht=0;Wt.length>Ht;){var Kt,Dt,Bt,Oe=Wt[Ht++],re=Ft?Oe.ok:Oe.fail,le=Oe.resolve,be=Oe.reject,Ye=Oe.domain;try{re?(Ft||(st.rejection===vt&&me(st),st.rejection=dt),re===!0?Kt=zt:(Ye&&Ye.enter(),Kt=re(zt),Ye&&(Ye.exit(),Bt=!0)),Kt===Oe.promise?be(Et("Promise-chain cycle")):(Dt=Nt(Kt))?Dt.call(Kt,le,be):le(Kt)):be(zt)}catch(rn){Ye&&!Bt&&Ye.exit(),be(rn)}}st.reactions=[],st.notified=!1,qt&&!st.rejection&&Pt(st)})}},It=function(st,qt,Wt){var zt,Ft;A?(zt=St.createEvent("Event"),zt.promise=qt,zt.reason=Wt,zt.initEvent(st,!1,!0),S.dispatchEvent(zt)):zt={promise:qt,reason:Wt},!D&&(Ft=S["on"+st])?Ft(zt):st===$&&bt("Unhandled promise rejection",Wt)},Pt=function(st){M.call(S,function(){var qt,Wt=st.facade,zt=st.value,Ft=Xt(st);if(Ft&&(qt=pt(function(){Tt?Rt.emit("unhandledRejection",zt,Wt):It($,Wt,zt)}),st.rejection=Tt||Xt(st)?vt:dt,qt.error))throw qt.value})},Xt=function(st){return st.rejection!==dt&&!st.parent},me=function(st){M.call(S,function(){var qt=st.facade;Tt?Rt.emit("rejectionHandled",qt):It(Y,qt,st.value)})},O=function(st,qt,Wt){return function(zt){st(qt,zt,Wt)}},Ae=function(st,qt,Wt){st.done||(st.done=!0,Wt&&(st=Wt),st.value=qt,st.state=gt,ht(st,!0))},ge=function(st,qt,Wt){if(!st.done){st.done=!0,Wt&&(st=Wt);try{if(st.facade===qt)throw Et("Promise can't be resolved itself");var zt=Nt(qt);zt?ot(function(){var Ft={done:!1};try{zt.call(qt,O(ge,Ft,st),O(Ae,Ft,st))}catch(Ht){Ae(Ft,Ht,st)}}):(st.value=qt,st.state=ft,ht(st,!1))}catch(Ft){Ae({done:!1},Ft,st)}}};At&&(lt=function(st){I(this,lt,Mt),T(st),v.call(this);var qt=Jt(this);try{st(O(ge,qt),O(Ae,qt))}catch(Wt){Ae(qt,Wt)}},v=function(st){ee(this,{type:Mt,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:at,value:void 0})},v.prototype=C(lt.prototype,{then:function(st,qt){var Wt=$t(this),zt=b(rt(this,lt));return zt.ok=typeof st!="function"||st,zt.fail=typeof qt=="function"&&qt,zt.domain=Tt?Rt.domain:void 0,Wt.parent=!0,Wt.reactions.push(zt),Wt.state!=at&&ht(Wt,!1),zt.promise},catch:function(st){return this.then(void 0,st)}}),g=function(){var st=new v,qt=Jt(st);this.promise=st,this.resolve=O(ge,qt),this.reject=O(Ae,qt)},kt.f=b=function(st){return st===lt||st===u?new g(st):m(st)},y||typeof R!="function"||(l=R.prototype.then,P(R.prototype,"then",function(st,qt){var Wt=this;return new lt(function(zt,Ft){l.call(Wt,zt,Ft)}).then(st,qt)},{unsafe:!0}),typeof q=="function"&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(st){return ct(lt,q.apply(S,arguments))}}))),c({global:!0,wrap:!0,forced:At},{Promise:lt}),E(lt,Mt,!1,!0),k(Mt),u=w(Mt),c({target:Mt,stat:!0,forced:At},{reject:function(st){var qt=b(this);return qt.reject.call(void 0,st),qt.promise}}),c({target:Mt,stat:!0,forced:y||At},{resolve:function(st){return ct(y&&this===u?lt:this,st)}}),c({target:Mt,stat:!0,forced:Lt},{all:function(st){var qt=this,Wt=b(qt),zt=Wt.resolve,Ft=Wt.reject,Ht=pt(function(){var Kt=T(qt.resolve),Dt=[],Bt=0,Oe=1;X(st,function(re){var le=Bt++,be=!1;Dt.push(void 0),Oe++,Kt.call(qt,re).then(function(Ye){be||(be=!0,Dt[le]=Ye,--Oe||zt(Dt))},Ft)}),--Oe||zt(Dt)});return Ht.error&&Ft(Ht.value),Wt.promise},race:function(st){var qt=this,Wt=b(qt),zt=Wt.reject,Ft=pt(function(){var Ht=T(qt.resolve);X(st,function(Kt){Ht.call(qt,Kt).then(Wt.resolve,zt)})});return Ft.error&&zt(Ft.value),Wt.promise}})},e893:function(f,d,i){var v=i("5135"),g=i("56ef"),u=i("06cf"),l=i("9bf2");f.exports=function(c,y){for(var S=g(y),w=l.f,R=u.f,P=0;P<S.length;P++){var C=S[P];v(c,C)||w(c,C,R(y,C))}}},e8b5:function(f,d,i){var v=i("c6b6");f.exports=Array.isArray||function(g){return v(g)=="Array"}},e95a:function(f,d,i){var v=i("b622"),g=i("3f8c"),u=v("iterator"),l=Array.prototype;f.exports=function(c){return c!==void 0&&(g.Array===c||l[u]===c)}},f069:function(f,d,i){var v=i("1c0b"),g=function(u){var l,c;this.promise=new u(function(y,S){if(l!==void 0||c!==void 0)throw TypeError("Bad Promise constructor");l=y,c=S}),this.resolve=v(l),this.reject=v(c)};f.exports.f=function(u){return new g(u)}},f5df:function(f,d,i){var v=i("00ee"),g=i("c6b6"),u=i("b622"),l=u("toStringTag"),c=g(function(){return arguments}())=="Arguments",y=function(S,w){try{return S[w]}catch{}};f.exports=v?g:function(S){var w,R,P;return S===void 0?"Undefined":S===null?"Null":typeof(R=y(w=Object(S),l))=="string"?R:c?g(w):(P=g(w))=="Object"&&typeof w.callee=="function"?"Arguments":P}},f772:function(f,d,i){var v=i("5692"),g=i("90e3"),u=v("keys");f.exports=function(l){return u[l]||(u[l]=g(l))}},fae3:function(f,d,i){if(i.r(d),i.d(d,"SignInType",function(){return S}),i.d(d,"LogLevel",function(){return w}),i.d(d,"createOidcAuth",function(){return C}),typeof window<"u"){var v=window.document.currentScript,g=i("8875");v=g(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:g});var u=v&&v.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(i.p=u[1])}i("b64b"),i("a4d3"),i("4de4"),i("e439"),i("159b"),i("dbb4");function l(T,I,L){return I in T?Object.defineProperty(T,I,{value:L,enumerable:!0,configurable:!0,writable:!0}):T[I]=L,T}function c(T,I){var L=Object.keys(T);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(T);I&&(X=X.filter(function(Q){return Object.getOwnPropertyDescriptor(T,Q).enumerable})),L.push.apply(L,X)}return L}function y(T){for(var I=1;I<arguments.length;I++){var L=arguments[I]!=null?arguments[I]:{};I%2?c(Object(L),!0).forEach(function(X){l(T,X,L[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(L)):c(Object(L)).forEach(function(X){Object.defineProperty(T,X,Object.getOwnPropertyDescriptor(L,X))})}return T}i("99af"),i("d3b7"),i("e6cf"),i("ac1f"),i("5319"),i("4d63"),i("25f0");var S,w,R=i("8bbf"),P=i("c097");function C(T,I,L,X,Q,rt){if(!T)throw new Error("Auth name is required.");if(I!==S.Window&&I!==S.Popup)throw new Error("Only window or popup are valid default signin types.");if(!L)throw new Error("App base url is required.");if(!X)throw new Error("No config provided to oidc auth.");P.Log.logger=Q||console,P.Log.level=rt||w.Error;var M=H(T),ot=y({response_type:"id_token",scope:"openid profile",automaticSilentRenew:!0,userStore:new P.WebStorageStateStore({store:sessionStorage}),post_logout_redirect_uri:L,redirect_uri:"".concat(L,"auth/signinwin/").concat(M),popup_post_logout_redirect_uri:"".concat(L,"auth/signoutpop/").concat(M),popup_redirect_uri:"".concat(L,"auth/signinpop/").concat(M),silent_redirect_uri:"".concat(L,"auth/signinsilent/").concat(M)},X);P.Log.debug("Creating new oidc auth as ".concat(T));var ct=new P.UserManager(ot),bt=!1,kt=null,pt=Object(R.ref)(null),wt=Object(R.reactive)({appUrl:L,authName:T,mgr:ct,user:pt,isAuthenticated:Object(R.computed)(function(){return!!pt.value&&!pt.value.expired}),accessToken:Object(R.computed)(function(){return pt.value&&!pt.value.expired?pt.value.access_token:""}),userProfile:Object(R.computed)(function(){return pt.value&&!pt.value.expired?pt.value.profile:{iss:"",sub:"",aud:"",exp:0,iat:0}}),events:ct.events,signIn:function(Ot){return Ct(I,Ot)},signOut:function(Ot){return I===S.Popup?ct.signoutPopup(Ot).then(function(){Tt(kt)}).catch(function(){Tt(kt)}):(ct.stopSilentRenew(),ct.signoutRedirect(Ot))},startSilentRenew:function(){ct.startSilentRenew()},stopSilentRenew:function(){ct.stopSilentRenew()},startup:function(){var Ot=!1;return k(ot.popup_redirect_uri)?(P.Log.debug("".concat(T," Popup signin callback")),ct.signinPopupCallback(),Ot=!0):k(ot.silent_redirect_uri)?(P.Log.debug("".concat(T," Silent signin callback")),ct.signinSilentCallback(),Ot=!0):k(ot.popup_post_logout_redirect_uri)&&(P.Log.debug("".concat(T," Popup logout callback")),ct.signoutPopupCallback(),Ot=!0),Ot?Promise.resolve(!1):bt?Promise.resolve(!0):ct.getUser().then(function(Mt){return bt=!0,Mt&&!Mt.expired&&(pt.value=Mt),!0}).catch(function(Mt){return P.Log.warn("Auth startup err = ".concat(Mt)),!1})},useRouter:function(Ot){if(kt=Ot,Ot.beforeEach(function(Jt,ee,$t){Jt.matched.some(function(lt){return lt.meta.authName===wt.authName})?wt.isAuthenticated?(P.Log.debug("".concat(T," auth authenticated user entering protected route ").concat(Jt.fullPath)),$t()):(P.Log.debug("".concat(T," auth anon user entering protected route ").concat(Jt.fullPath)),Ct(I,{state:{to:Jt}}).then(function(){I===S.Window?$t(!1):$t()}).catch(function(){return $t(!1)})):$t()}),ot.redirect_uri){var Mt="/"+E(ot.redirect_uri).substring((Ot.options.history.base||"/").length);Ot.addRoute({path:Mt,name:"signinwin-".concat(M),component:{render:function(){return Object(R.h)("div")},created:function(){ct.signinRedirectCallback().then(function(Jt){P.Log.debug("".concat(T," Window signin callback success"),Jt);var ee=Jt.state?Jt.state.to:null;Ot?Ot.replace(ee||"/"):window.location.href=L}).catch(function(Jt){P.Log.error("".concat(T," Window signin callback error"),Jt),Ot?Ot.replace("/"):window.location.href=L})}}})}}});function yt(){if(kt){var Ot=kt.currentRoute.value;Ot&&Ot.meta.authName===T&&(P.Log.debug("".concat(T," auth page re-signin with ").concat(I)),Ct(I,{state:{current:Ot}}).then(function(){}).catch(function(){setTimeout(yt,5e3)}))}}function Ct(Ot,Mt){switch(Ot){case S.Popup:return ct.signinPopup(Mt)}return ct.signinRedirect(Mt)}function Tt(Ot){if(Ot){var Mt=Ot.currentRoute.value;if(Mt&&Mt.meta.authName===T)return void Ot.replace("/")}L&&(window.location.href=L)}function jt(){ct.events.addUserLoaded(function(Ot){pt.value=Ot}),ct.events.addUserUnloaded(function(){pt.value=null,P.Log.debug("".concat(T," auth user unloaded"))}),ct.events.addAccessTokenExpired(function(){P.Log.debug("".concat(T," auth token expired, user is authenticated=").concat(wt.isAuthenticated)),pt.value=null,yt()}),ct.events.addSilentRenewError(function(Ot){P.Log.debug("".concat(T," auth silent renew error ").concat(Ot)),wt.isAuthenticated?setTimeout(function(){P.Log.debug("".concat(T," auth silent renew retry")),ct.signinSilent()},5e3):yt()}),ct.events.addUserSignedOut(function(){P.Log.debug("".concat(T," auth user signed out")),pt.value=null,yt()})}return jt(),wt}function E(T){var I=document.createElement("a");I.href=T;var L=I.pathname;return L[0]!=="/"&&(L="/"+L),L}function k(T){return window.location.pathname.toLocaleLowerCase()===E(T).toLocaleLowerCase()}function H(T){T=T.replace(/^\s+|\s+$/g,""),T=T.toLowerCase();for(var I="/_,:;",L="aaaaaeeeeeiiiiooooouuuunc------",X=0,Q=I.length;X<Q;X++)T=T.replace(new RegExp(I.charAt(X),"g"),L.charAt(X));return T=T.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),T}(function(T){T[T.Window=0]="Window",T[T.Popup=1]="Popup"})(S||(S={})),function(T){T[T.None=0]="None",T[T.Error=1]="Error",T[T.Warn=2]="Warn",T[T.Info=3]="Info",T[T.Debug=4]="Debug"}(w||(w={}))},fc6a:function(f,d,i){var v=i("44ad"),g=i("1d80");f.exports=function(u){return v(g(u))}},fdbc:function(f,d){f.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(f,d,i){var v=i("4930");f.exports=v&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},fea9:function(f,d,i){var v=i("da84");f.exports=v.Promise}})})})(bl);var os=bl.exports;function f0(n,s="zitadel",p=os.SignInType.Window,a=window.location.origin,f,d=console,i=os.LogLevel.Error){const v={response_type:"code",scope:"openid profile email offline_access"+n.projectResourceID?` urn:zitadel:iam:org:project:id:${n.projectResourceID}:aud urn:zitadel:iam:org:projects:roles`:"",redirect_uri:`${a}/oidc-callback`,post_logout_redirect_uri:a,authority:n.issuer,client_id:n.client_id,loadUserInfo:!0,automaticSilentRenew:!0,...f},g=os.createOidcAuth(s,p,a,v,d,i);return{...g,hasRole:u=>{if(!n.projectResourceID)throw new Error("projectResourceID is required for hasRole");const l=g.userProfile[`urn:zitadel:iam:org:project:${n.projectResourceID}:roles`];return l?l.find(c=>c[u]):!1}}}var h0={exports:{}};(function(n,s){(function(a,f){n.exports=f()})(fa,function(){return function(p){var a={};function f(d){if(a[d])return a[d].exports;var i=a[d]={i:d,l:!1,exports:{}};return p[d].call(i.exports,i,i.exports,f),i.l=!0,i.exports}return f.m=p,f.c=a,f.d=function(d,i,v){f.o(d,i)||Object.defineProperty(d,i,{enumerable:!0,get:v})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,i){if(1&i&&(d=f(d)),8&i||4&i&&typeof d=="object"&&d&&d.__esModule)return d;var v=Object.create(null);if(f.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:d}),2&i&&typeof d!="string")for(var g in d)f.d(v,g,(function(u){return d[u]}).bind(null,g));return v},f.n=function(d){var i=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(i,"a",i),i},f.o=function(d,i){return Object.prototype.hasOwnProperty.call(d,i)},f.p="",f(f.s=22)}([function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function u(l,c){for(var y=0;y<c.length;y++){var S=c[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,y){return c&&u(l.prototype,c),y&&u(l,y),l}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},v=void 0,g=void 0;(a.Log=function(){function u(){(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.reset=function(){g=3,v=i},u.debug=function(){if(g>=4){for(var c=arguments.length,y=Array(c),S=0;S<c;S++)y[S]=arguments[S];v.debug.apply(v,Array.from(y))}},u.info=function(){if(g>=3){for(var c=arguments.length,y=Array(c),S=0;S<c;S++)y[S]=arguments[S];v.info.apply(v,Array.from(y))}},u.warn=function(){if(g>=2){for(var c=arguments.length,y=Array(c),S=0;S<c;S++)y[S]=arguments[S];v.warn.apply(v,Array.from(y))}},u.error=function(){if(g>=1){for(var c=arguments.length,y=Array(c),S=0;S<c;S++)y[S]=arguments[S];v.error.apply(v,Array.from(y))}},d(u,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return g},set:function(c){if(!(0<=c&&c<=4))throw new Error("Invalid log level");g=c}},{key:"logger",get:function(){return v},set:function(c){if(!c.debug&&c.info&&(c.debug=c.info),!(c.debug&&c.info&&c.warn&&c.error))throw new Error("Invalid logger");v=c}}]),u}()).reset()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function u(l,c){for(var y=0;y<c.length;y++){var S=c[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,y){return c&&u(l.prototype,c),y&&u(l,y),l}}(),i={setInterval:function(u){function l(c,y){return u.apply(this,arguments)}return l.toString=function(){return u.toString()},l}(function(u,l){return setInterval(u,l)}),clearInterval:function(u){function l(c){return u.apply(this,arguments)}return l.toString=function(){return u.toString()},l}(function(u){return clearInterval(u)})},v=!1,g=null;a.Global=function(){function u(){(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,u)}return u._testing=function(){v=!0},u.setXMLHttpRequest=function(c){g=c},d(u,null,[{key:"location",get:function(){if(!v)return location}},{key:"localStorage",get:function(){if(!v&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!v&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!v&&typeof window<"u")return g||XMLHttpRequest}},{key:"timer",get:function(){if(!v)return i}}]),u}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.MetadataService=void 0;var d=function(){function l(c,y){for(var S=0;S<y.length;S++){var w=y[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,y,S){return y&&l(c.prototype,y),S&&l(c,S),c}}(),i=f(0),v=f(7);function g(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var u=".well-known/openid-configuration";a.MetadataService=function(){function l(c){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.JsonService;if(g(this,l),!c)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=c,this._jsonService=new y(["application/jwk-set+json"])}return l.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},l.prototype.getMetadata=function(){var y=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(S){i.Log.debug("MetadataService.getMetadata: json received");var w=y._settings.metadataSeed||{};return y._settings.metadata=Object.assign({},w,S),y._settings.metadata})):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},l.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},l.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},l.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},l.prototype.getTokenEndpoint=function(){var y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",y)},l.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},l.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},l.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},l.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},l.prototype._getMetadataProperty=function(y){var S=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+y),this.getMetadata().then(function(w){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),w[y]===void 0){if(S===!0)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+y);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+y),new Error("Metadata does not contain property "+y)}return w[y]})},l.prototype.getSigningKeys=function(){var y=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(S){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",S),y._jsonService.getJson(S).then(function(w){if(i.Log.debug("MetadataService.getSigningKeys: key set received",w),!w.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return y._settings.signingKeys=w.keys,y._settings.signingKeys})})},d(l,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(u)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=u))),this._metadataUrl}}]),l}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UrlUtility=void 0;var d=f(0),i=f(1);a.UrlUtility=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return v.addQueryParam=function(u,l,c){return u.indexOf("?")<0&&(u+="?"),u[u.length-1]!=="?"&&(u+="&"),u+=encodeURIComponent(l),u+="=",u+=encodeURIComponent(c)},v.parseUrlFragment=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.Global;typeof u!="string"&&(u=c.location.href);var y=u.lastIndexOf(l);y>=0&&(u=u.substr(y+1)),l==="?"&&(y=u.indexOf("#"))>=0&&(u=u.substr(0,y));for(var S,w={},R=/([^&=]+)=([^&]*)/g,P=0;S=R.exec(u);)if(w[decodeURIComponent(S[1])]=decodeURIComponent(S[2].replace(/\+/g," ")),P++>50)return d.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",u),{error:"Response exceeded expected number of parameters"};for(var C in w)return w;return{}},v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.JoseUtil=void 0;var d=f(26),i=function(g){return g&&g.__esModule?g:{default:g}}(f(33));a.JoseUtil=(0,i.default)({jws:d.jws,KeyUtil:d.KeyUtil,X509:d.X509,crypto:d.crypto,hextob64u:d.hextob64u,b64tohex:d.b64tohex,AllowedSigningAlgs:d.AllowedSigningAlgs})},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.OidcClientSettings=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},i=function(){function C(E,k){for(var H=0;H<k.length;H++){var T=k[H];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,k,H){return k&&C(E.prototype,k),H&&C(E,H),E}}(),v=f(0),g=f(23),u=f(6),l=f(24),c=f(2);function y(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}var S=".well-known/openid-configuration",w="id_token",R="openid",P="client_secret_post";a.OidcClientSettings=function(){function C(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=E.authority,H=E.metadataUrl,T=E.metadata,I=E.signingKeys,L=E.metadataSeed,X=E.client_id,Q=E.client_secret,rt=E.response_type,M=rt===void 0?w:rt,ot=E.scope,ct=ot===void 0?R:ot,bt=E.redirect_uri,kt=E.post_logout_redirect_uri,pt=E.client_authentication,wt=pt===void 0?P:pt,yt=E.prompt,Ct=E.display,Tt=E.max_age,jt=E.ui_locales,Ot=E.acr_values,Mt=E.resource,Jt=E.response_mode,ee=E.filterProtocolClaims,$t=ee===void 0||ee,lt=E.loadUserInfo,Et=lt===void 0||lt,St=E.staleStateAge,Rt=St===void 0?900:St,q=E.clockSkew,b=q===void 0?300:q,m=E.clockService,A=m===void 0?new g.ClockService:m,D=E.userInfoJwtIssuer,$=D===void 0?"OP":D,Y=E.mergeClaims,at=Y!==void 0&&Y,ft=E.stateStore,gt=ft===void 0?new u.WebStorageStateStore:ft,dt=E.ResponseValidatorCtor,vt=dt===void 0?l.ResponseValidator:dt,At=E.MetadataServiceCtor,Lt=At===void 0?c.MetadataService:At,Nt=E.extraQueryParams,ht=Nt===void 0?{}:Nt,It=E.extraTokenParams,Pt=It===void 0?{}:It;y(this,C),this._authority=k,this._metadataUrl=H,this._metadata=T,this._metadataSeed=L,this._signingKeys=I,this._client_id=X,this._client_secret=Q,this._response_type=M,this._scope=ct,this._redirect_uri=bt,this._post_logout_redirect_uri=kt,this._client_authentication=wt,this._prompt=yt,this._display=Ct,this._max_age=Tt,this._ui_locales=jt,this._acr_values=Ot,this._resource=Mt,this._response_mode=Jt,this._filterProtocolClaims=!!$t,this._loadUserInfo=!!Et,this._staleStateAge=Rt,this._clockSkew=b,this._clockService=A,this._userInfoJwtIssuer=$,this._mergeClaims=!!at,this._stateStore=gt,this._validator=new vt(this),this._metadataService=new Lt(this),this._extraQueryParams=(ht===void 0?"undefined":d(ht))==="object"?ht:{},this._extraTokenParams=(Pt===void 0?"undefined":d(Pt))==="object"?Pt:{}}return C.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(C,[{key:"client_id",get:function(){return this._client_id},set:function(k){if(this._client_id)throw v.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=k}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(k){if(this._authority)throw v.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=k}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(S)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=S)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(k){this._metadata=k}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(k){this._metadataSeed=k}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(k){this._signingKeys=k}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(k){(k===void 0?"undefined":d(k))==="object"?this._extraQueryParams=k:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(k){(k===void 0?"undefined":d(k))==="object"?this._extraTokenParams=k:this._extraTokenParams={}}}]),C}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.WebStorageStateStore=void 0;var d=f(0),i=f(1);function v(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}a.WebStorageStateStore=function(){function g(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=u.prefix,c=l===void 0?"oidc.":l,y=u.store,S=y===void 0?i.Global.localStorage:y;v(this,g),this._store=S,this._prefix=c}return g.prototype.set=function(l,c){return d.Log.debug("WebStorageStateStore.set",l),l=this._prefix+l,this._store.setItem(l,c),Promise.resolve()},g.prototype.get=function(l){d.Log.debug("WebStorageStateStore.get",l),l=this._prefix+l;var c=this._store.getItem(l);return Promise.resolve(c)},g.prototype.remove=function(l){d.Log.debug("WebStorageStateStore.remove",l),l=this._prefix+l;var c=this._store.getItem(l);return this._store.removeItem(l),Promise.resolve(c)},g.prototype.getAllKeys=function(){d.Log.debug("WebStorageStateStore.getAllKeys");for(var l=[],c=0;c<this._store.length;c++){var y=this._store.key(c);y.indexOf(this._prefix)===0&&l.push(y.substr(this._prefix.length))}return Promise.resolve(l)},g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.JsonService=void 0;var d=f(0),i=f(1);function v(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}a.JsonService=function(){function g(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.Global.XMLHttpRequest,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;v(this,g),u&&Array.isArray(u)?this._contentTypes=u.slice():this._contentTypes=[],this._contentTypes.push("application/json"),c&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=l,this._jwtHandler=c}return g.prototype.getJson=function(l,c){var y=this;if(!l)throw d.Log.error("JsonService.getJson: No url passed"),new Error("url");return d.Log.debug("JsonService.getJson, url: ",l),new Promise(function(S,w){var R=new y._XMLHttpRequest;R.open("GET",l);var P=y._contentTypes,C=y._jwtHandler;R.onload=function(){if(d.Log.debug("JsonService.getJson: HTTP response received, status",R.status),R.status===200){var E=R.getResponseHeader("Content-Type");if(E){var k=P.find(function(H){if(E.startsWith(H))return!0});if(k=="application/jwt")return void C(R).then(S,w);if(k)try{return void S(JSON.parse(R.responseText))}catch(H){return d.Log.error("JsonService.getJson: Error parsing JSON response",H.message),void w(H)}}w(Error("Invalid response Content-Type: "+E+", from URL: "+l))}else w(Error(R.statusText+" ("+R.status+")"))},R.onerror=function(){d.Log.error("JsonService.getJson: network error"),w(Error("Network Error"))},c&&(d.Log.debug("JsonService.getJson: token passed, setting Authorization header"),R.setRequestHeader("Authorization","Bearer "+c)),R.send()})},g.prototype.postForm=function(l,c,y){var S=this;if(!l)throw d.Log.error("JsonService.postForm: No url passed"),new Error("url");return d.Log.debug("JsonService.postForm, url: ",l),new Promise(function(w,R){var P=new S._XMLHttpRequest;P.open("POST",l);var C=S._contentTypes;P.onload=function(){if(d.Log.debug("JsonService.postForm: HTTP response received, status",P.status),P.status!==200){if(P.status===400&&(I=P.getResponseHeader("Content-Type"))&&C.find(function(L){if(I.startsWith(L))return!0}))try{var T=JSON.parse(P.responseText);if(T&&T.error)return d.Log.error("JsonService.postForm: Error from server: ",T.error),void R(new Error(T.error))}catch(L){return d.Log.error("JsonService.postForm: Error parsing JSON response",L.message),void R(L)}R(Error(P.statusText+" ("+P.status+")"))}else{var I;if((I=P.getResponseHeader("Content-Type"))&&C.find(function(L){if(I.startsWith(L))return!0}))try{return void w(JSON.parse(P.responseText))}catch(L){return d.Log.error("JsonService.postForm: Error parsing JSON response",L.message),void R(L)}R(Error("Invalid response Content-Type: "+I+", from URL: "+l))}},P.onerror=function(){d.Log.error("JsonService.postForm: network error"),R(Error("Network Error"))};var E="";for(var k in c){var H=c[k];H&&(E.length>0&&(E+="&"),E+=encodeURIComponent(k),E+="=",E+=encodeURIComponent(H))}P.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),y!==void 0&&P.setRequestHeader("Authorization","Basic "+btoa(y)),P.send(E)})},g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SigninRequest=void 0;var d=f(0),i=f(3),v=f(13);a.SigninRequest=function(){function g(u){var l=u.url,c=u.client_id,y=u.redirect_uri,S=u.response_type,w=u.scope,R=u.authority,P=u.data,C=u.prompt,E=u.display,k=u.max_age,H=u.ui_locales,T=u.id_token_hint,I=u.login_hint,L=u.acr_values,X=u.resource,Q=u.response_mode,rt=u.request,M=u.request_uri,ot=u.extraQueryParams,ct=u.request_type,bt=u.client_secret,kt=u.extraTokenParams,pt=u.skipUserInfo;if(function(Mt,Jt){if(!(Mt instanceof Jt))throw new TypeError("Cannot call a class as a function")}(this,g),!l)throw d.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!c)throw d.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!y)throw d.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!S)throw d.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!w)throw d.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!R)throw d.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var wt=g.isOidc(S),yt=g.isCode(S);Q||(Q=g.isCode(S)?"query":null),this.state=new v.SigninState({nonce:wt,data:P,client_id:c,authority:R,redirect_uri:y,code_verifier:yt,request_type:ct,response_mode:Q,client_secret:bt,scope:w,extraTokenParams:kt,skipUserInfo:pt}),l=i.UrlUtility.addQueryParam(l,"client_id",c),l=i.UrlUtility.addQueryParam(l,"redirect_uri",y),l=i.UrlUtility.addQueryParam(l,"response_type",S),l=i.UrlUtility.addQueryParam(l,"scope",w),l=i.UrlUtility.addQueryParam(l,"state",this.state.id),wt&&(l=i.UrlUtility.addQueryParam(l,"nonce",this.state.nonce)),yt&&(l=i.UrlUtility.addQueryParam(l,"code_challenge",this.state.code_challenge),l=i.UrlUtility.addQueryParam(l,"code_challenge_method","S256"));var Ct={prompt:C,display:E,max_age:k,ui_locales:H,id_token_hint:T,login_hint:I,acr_values:L,resource:X,request:rt,request_uri:M,response_mode:Q};for(var Tt in Ct)Ct[Tt]&&(l=i.UrlUtility.addQueryParam(l,Tt,Ct[Tt]));for(var jt in ot)l=i.UrlUtility.addQueryParam(l,jt,ot[jt]);this.url=l}return g.isOidc=function(l){return!!l.split(/\s+/g).filter(function(c){return c==="id_token"})[0]},g.isOAuth=function(l){return!!l.split(/\s+/g).filter(function(c){return c==="token"})[0]},g.isCode=function(l){return!!l.split(/\s+/g).filter(function(c){return c==="code"})[0]},g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.State=void 0;var d=function(){function u(l,c){for(var y=0;y<c.length;y++){var S=c[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,y){return c&&u(l.prototype,c),y&&u(l,y),l}}(),i=f(0),v=function(l){return l&&l.__esModule?l:{default:l}}(f(14));function g(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}a.State=function(){function u(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.id,y=l.data,S=l.created,w=l.request_type;g(this,u),this._id=c||(0,v.default)(),this._data=y,this._created=typeof S=="number"&&S>0?S:parseInt(Date.now()/1e3),this._request_type=w}return u.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},u.fromStorageString=function(c){return i.Log.debug("State.fromStorageString"),new u(JSON.parse(c))},u.clearStaleState=function(c,y){var S=Date.now()/1e3-y;return c.getAllKeys().then(function(w){i.Log.debug("State.clearStaleState: got keys",w);for(var R=[],P=function(H){var T=w[H];E=c.get(T).then(function(I){var L=!1;if(I)try{var X=u.fromStorageString(I);i.Log.debug("State.clearStaleState: got item from key: ",T,X.created),X.created<=S&&(L=!0)}catch(Q){i.Log.error("State.clearStaleState: Error parsing state for key",T,Q.message),L=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",T),L=!0;if(L)return i.Log.debug("State.clearStaleState: removed item for key: ",T),c.remove(T)}),R.push(E)},C=0;C<w.length;C++){var E;P(C)}return i.Log.debug("State.clearStaleState: waiting on promise count:",R.length),Promise.all(R)})},d(u,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),u}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.OidcClient=void 0;var d=function(){function P(C,E){for(var k=0;k<E.length;k++){var H=E[k];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(C,H.key,H)}}return function(C,E,k){return E&&P(C.prototype,E),k&&P(C,k),C}}(),i=f(0),v=f(5),g=f(12),u=f(8),l=f(34),c=f(35),y=f(36),S=f(13),w=f(9);function R(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}a.OidcClient=function(){function P(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,P),C instanceof v.OidcClientSettings?this._settings=C:this._settings=new v.OidcClientSettings(C)}return P.prototype.createSigninRequest=function(){var E=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=k.response_type,T=k.scope,I=k.redirect_uri,L=k.data,X=k.state,Q=k.prompt,rt=k.display,M=k.max_age,ot=k.ui_locales,ct=k.id_token_hint,bt=k.login_hint,kt=k.acr_values,pt=k.resource,wt=k.request,yt=k.request_uri,Ct=k.response_mode,Tt=k.extraQueryParams,jt=k.extraTokenParams,Ot=k.request_type,Mt=k.skipUserInfo,Jt=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var ee=this._settings.client_id;H=H||this._settings.response_type,T=T||this._settings.scope,I=I||this._settings.redirect_uri,Q=Q||this._settings.prompt,rt=rt||this._settings.display,M=M||this._settings.max_age,ot=ot||this._settings.ui_locales,kt=kt||this._settings.acr_values,pt=pt||this._settings.resource,Ct=Ct||this._settings.response_mode,Tt=Tt||this._settings.extraQueryParams,jt=jt||this._settings.extraTokenParams;var $t=this._settings.authority;return u.SigninRequest.isCode(H)&&H!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(lt){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",lt);var Et=new u.SigninRequest({url:lt,client_id:ee,redirect_uri:I,response_type:H,scope:T,data:L||X,authority:$t,prompt:Q,display:rt,max_age:M,ui_locales:ot,id_token_hint:ct,login_hint:bt,acr_values:kt,resource:pt,request:wt,request_uri:yt,extraQueryParams:Tt,extraTokenParams:jt,request_type:Ot,response_mode:Ct,client_secret:E._settings.client_secret,skipUserInfo:Mt}),St=Et.state;return(Jt=Jt||E._stateStore).set(St.id,St.toStorageString()).then(function(){return Et})})},P.prototype.readSigninResponseState=function(E,k){var H=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var T=this._settings.response_mode==="query"||!this._settings.response_mode&&u.SigninRequest.isCode(this._settings.response_type),I=T?"?":"#",L=new l.SigninResponse(E,I);if(!L.state)return i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));k=k||this._stateStore;var X=H?k.remove.bind(k):k.get.bind(k);return X(L.state).then(function(Q){if(!Q)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:S.SigninState.fromStorageString(Q),response:L}})},P.prototype.processSigninResponse=function(E,k){var H=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(E,k,!0).then(function(T){var I=T.state,L=T.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),H._validator.validateSigninResponse(I,L)})},P.prototype.createSignoutRequest=function(){var E=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=k.id_token_hint,T=k.data,I=k.state,L=k.post_logout_redirect_uri,X=k.extraQueryParams,Q=k.request_type,rt=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),L=L||this._settings.post_logout_redirect_uri,X=X||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(M){if(!M)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",M);var ot=new c.SignoutRequest({url:M,id_token_hint:H,post_logout_redirect_uri:L,data:T||I,extraQueryParams:X,request_type:Q}),ct=ot.state;return ct&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(rt=rt||E._stateStore).set(ct.id,ct.toStorageString())),ot})},P.prototype.readSignoutResponseState=function(E,k){var H=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var T=new y.SignoutResponse(E);if(!T.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),T.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",T.error),Promise.reject(new g.ErrorResponse(T))):Promise.resolve({state:void 0,response:T});var I=T.state;k=k||this._stateStore;var L=H?k.remove.bind(k):k.get.bind(k);return L(I).then(function(X){if(!X)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:w.State.fromStorageString(X),response:T}})},P.prototype.processSignoutResponse=function(E,k){var H=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(E,k,!0).then(function(T){var I=T.state,L=T.response;return I?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),H._validator.validateSignoutResponse(I,L)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),L)})},P.prototype.clearStaleState=function(E){return i.Log.debug("OidcClient.clearStaleState"),E=E||this._stateStore,w.State.clearStaleState(E,this.settings.staleStateAge)},d(P,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),P}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.TokenClient=void 0;var d=f(7),i=f(2),v=f(0);function g(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}a.TokenClient=function(){function u(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.MetadataService;if(g(this,u),!l)throw v.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=l,this._jsonService=new c,this._metadataService=new y(this._settings)}return u.prototype.exchangeCode=function(){var c=this,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(y=Object.assign({},y)).grant_type=y.grant_type||"authorization_code",y.client_id=y.client_id||this._settings.client_id,y.client_secret=y.client_secret||this._settings.client_secret,y.redirect_uri=y.redirect_uri||this._settings.redirect_uri;var S=void 0,w=y._client_authentication||this._settings._client_authentication;return delete y._client_authentication,y.code?y.redirect_uri?y.code_verifier?y.client_id?y.client_secret||w!="client_secret_basic"?(w=="client_secret_basic"&&(S=y.client_id+":"+y.client_secret,delete y.client_id,delete y.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(R){return v.Log.debug("TokenClient.exchangeCode: Received token endpoint"),c._jsonService.postForm(R,y,S).then(function(P){return v.Log.debug("TokenClient.exchangeCode: response received"),P})})):(v.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(v.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(v.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(v.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(v.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},u.prototype.exchangeRefreshToken=function(){var c=this,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(y=Object.assign({},y)).grant_type=y.grant_type||"refresh_token",y.client_id=y.client_id||this._settings.client_id,y.client_secret=y.client_secret||this._settings.client_secret;var S=void 0,w=y._client_authentication||this._settings._client_authentication;return delete y._client_authentication,y.refresh_token?y.client_id?(w=="client_secret_basic"&&(S=y.client_id+":"+y.client_secret,delete y.client_id,delete y.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(R){return v.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),c._jsonService.postForm(R,y,S).then(function(P){return v.Log.debug("TokenClient.exchangeRefreshToken: response received"),P})})):(v.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(v.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},u}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.ErrorResponse=void 0;var d=f(0);function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function v(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?g:u}a.ErrorResponse=function(g){function u(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.error,y=l.error_description,S=l.error_uri,w=l.state,R=l.session_state;if(i(this,u),!c)throw d.Log.error("No error passed to ErrorResponse"),new Error("error");var P=v(this,g.call(this,y||c));return P.name="ErrorResponse",P.error=c,P.error_description=y,P.error_uri=S,P.state=w,P.session_state=R,P}return function(c,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(c,y):c.__proto__=y)}(u,g),u}(Error)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SigninState=void 0;var d=function(){function y(S,w){for(var R=0;R<w.length;R++){var P=w[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,w,R){return w&&y(S.prototype,w),R&&y(S,R),S}}(),i=f(0),v=f(9),g=f(4),u=function(S){return S&&S.__esModule?S:{default:S}}(f(14));function l(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}function c(y,S){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?y:S}a.SigninState=function(y){function S(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=w.nonce,P=w.authority,C=w.client_id,E=w.redirect_uri,k=w.code_verifier,H=w.response_mode,T=w.client_secret,I=w.scope,L=w.extraTokenParams,X=w.skipUserInfo;l(this,S);var Q=c(this,y.call(this,arguments[0]));if(R===!0?Q._nonce=(0,u.default)():R&&(Q._nonce=R),k===!0?Q._code_verifier=(0,u.default)()+(0,u.default)()+(0,u.default)():k&&(Q._code_verifier=k),Q.code_verifier){var rt=g.JoseUtil.hashString(Q.code_verifier,"SHA256");Q._code_challenge=g.JoseUtil.hexToBase64Url(rt)}return Q._redirect_uri=E,Q._authority=P,Q._client_id=C,Q._response_mode=H,Q._client_secret=T,Q._scope=I,Q._extraTokenParams=L,Q._skipUserInfo=X,Q}return function(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P)}(S,y),S.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},S.fromStorageString=function(R){return i.Log.debug("SigninState.fromStorageString"),new S(JSON.parse(R))},d(S,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),S}(v.State)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return(d!="undefined"&&d!==null&&d.getRandomValues!==void 0?i:v)().replace(/-/g,"")};var d=typeof window<"u"?window.crypto||window.msCrypto:null;function i(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(g){return(g^d.getRandomValues(new Uint8Array(1))[0]&15>>g/4).toString(16)})}function v(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(g){return(g^16*Math.random()>>g/4).toString(16)})}p.exports=a.default},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.User=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.User=function(){function v(g){var u=g.id_token,l=g.session_state,c=g.access_token,y=g.refresh_token,S=g.token_type,w=g.scope,R=g.profile,P=g.expires_at,C=g.state;(function(k,H){if(!(k instanceof H))throw new TypeError("Cannot call a class as a function")})(this,v),this.id_token=u,this.session_state=l,this.access_token=c,this.refresh_token=y,this.token_type=S,this.scope=w,this.profile=R,this.expires_at=P,this.state=C}return v.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},v.fromStorageString=function(u){return i.Log.debug("User.fromStorageString"),new v(JSON.parse(u))},d(v,[{key:"expires_in",get:function(){if(this.expires_at){var u=parseInt(Date.now()/1e3);return this.expires_at-u}},set:function(u){var l=parseInt(u);if(typeof l=="number"&&l>0){var c=parseInt(Date.now()/1e3);this.expires_at=c+l}}},{key:"expired",get:function(){var u=this.expires_in;if(u!==void 0)return u<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.AccessTokenEvents=void 0;var d=f(0),i=f(46);function v(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}a.AccessTokenEvents=function(){function g(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=u.accessTokenExpiringNotificationTime,c=l===void 0?60:l,y=u.accessTokenExpiringTimer,S=y===void 0?new i.Timer("Access token expiring"):y,w=u.accessTokenExpiredTimer,R=w===void 0?new i.Timer("Access token expired"):w;v(this,g),this._accessTokenExpiringNotificationTime=c,this._accessTokenExpiring=S,this._accessTokenExpired=R}return g.prototype.load=function(l){if(l.access_token&&l.expires_in!==void 0){var c=l.expires_in;if(d.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",c),c>0){var y=c-this._accessTokenExpiringNotificationTime;y<=0&&(y=1),d.Log.debug("AccessTokenEvents.load: registering expiring timer in:",y),this._accessTokenExpiring.init(y)}else d.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var S=c+1;d.Log.debug("AccessTokenEvents.load: registering expired timer in:",S),this._accessTokenExpired.init(S)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},g.prototype.unload=function(){d.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},g.prototype.addAccessTokenExpiring=function(l){this._accessTokenExpiring.addHandler(l)},g.prototype.removeAccessTokenExpiring=function(l){this._accessTokenExpiring.removeHandler(l)},g.prototype.addAccessTokenExpired=function(l){this._accessTokenExpired.addHandler(l)},g.prototype.removeAccessTokenExpired=function(l){this._accessTokenExpired.removeHandler(l)},g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.Event=void 0;var d=f(0);a.Event=function(){function i(v){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),this._name=v,this._callbacks=[]}return i.prototype.addHandler=function(g){this._callbacks.push(g)},i.prototype.removeHandler=function(g){var u=this._callbacks.findIndex(function(l){return l===g});u>=0&&this._callbacks.splice(u,1)},i.prototype.raise=function(){d.Log.debug("Event: Raising event: "+this._name);for(var g=0;g<this._callbacks.length;g++){var u;(u=this._callbacks)[g].apply(u,arguments)}},i}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SessionMonitor=void 0;var d=function(){function l(c,y){for(var S=0;S<y.length;S++){var w=y[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,y,S){return y&&l(c.prototype,y),S&&l(c,S),c}}(),i=f(0),v=f(19),g=f(1);function u(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}a.SessionMonitor=function(){function l(c){var y=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.CheckSessionIFrame,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.Global.timer;if(u(this,l),!c)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=c,this._CheckSessionIFrameCtor=S,this._timer=w,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(R){R?y._start(R):y._settings.monitorAnonymousSession&&y._userManager.querySessionStatus().then(function(P){var C={session_state:P.session_state};P.sub&&P.sid&&(C.profile={sub:P.sub,sid:P.sid}),y._start(C)}).catch(function(P){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",P.message)})}).catch(function(R){i.Log.error("SessionMonitor ctor: error from getUser:",R.message)}))}return l.prototype._start=function(y){var S=this,w=y.session_state;w&&(y.profile?(this._sub=y.profile.sub,this._sid=y.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",w,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",w,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(w):this._metadataService.getCheckSessionIframe().then(function(R){if(R){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var P=S._client_id,C=S._checkSessionInterval,E=S._stopCheckSessionOnError;S._checkSessionIFrame=new S._CheckSessionIFrameCtor(S._callback.bind(S),P,R,C,E),S._checkSessionIFrame.load().then(function(){S._checkSessionIFrame.start(w)})}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(R){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",R.message)}))},l.prototype._stop=function(){var y=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var S=this._timer.setInterval(function(){y._timer.clearInterval(S),y._userManager.querySessionStatus().then(function(w){var R={session_state:w.session_state};w.sub&&w.sid&&(R.profile={sub:w.sub,sid:w.sid}),y._start(R)}).catch(function(w){i.Log.error("SessionMonitor: error from querySessionStatus:",w.message)})},1e3)},l.prototype._callback=function(){var y=this;this._userManager.querySessionStatus().then(function(S){var w=!0;S?S.sub===y._sub?(w=!1,y._checkSessionIFrame.start(S.session_state),S.sid===y._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",S.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",S.session_state),y._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",S.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),w&&(y._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),y._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),y._userManager.events._raiseUserSignedIn()))}).catch(function(S){y._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",S.message),y._userManager.events._raiseUserSignedOut())})},d(l,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),l}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.CheckSessionIFrame=void 0;var d=f(0);function i(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}a.CheckSessionIFrame=function(){function v(g,u,l,c){var y=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];i(this,v),this._callback=g,this._client_id=u,this._url=l,this._interval=c||2e3,this._stopOnError=y;var S=l.indexOf("/",l.indexOf("//")+2);this._frame_origin=l.substr(0,S),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=l}return v.prototype.load=function(){var u=this;return new Promise(function(l){u._frame.onload=function(){l()},window.document.body.appendChild(u._frame),u._boundMessageEvent=u._message.bind(u),window.addEventListener("message",u._boundMessageEvent,!1)})},v.prototype._message=function(u){u.origin===this._frame_origin&&u.source===this._frame.contentWindow&&(u.data==="error"?(d.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):u.data==="changed"?(d.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):d.Log.debug("CheckSessionIFrame: "+u.data+" message from check session op iframe"))},v.prototype.start=function(u){var l=this;if(this._session_state!==u){d.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=u;var c=function(){l._frame.contentWindow.postMessage(l._client_id+" "+l._session_state,l._frame_origin)};c(),this._timer=window.setInterval(c,this._interval)}},v.prototype.stop=function(){this._session_state=null,this._timer&&(d.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.TokenRevocationClient=void 0;var d=f(0),i=f(2),v=f(1);function g(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}var u="access_token",l="refresh_token";a.TokenRevocationClient=function(){function c(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.Global.XMLHttpRequest,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.MetadataService;if(g(this,c),!y)throw d.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=y,this._XMLHttpRequestCtor=S,this._metadataService=new w(this._settings)}return c.prototype.revoke=function(S,w){var R=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!S)throw d.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(P!==u&&P!=l)throw d.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(C){if(C){d.Log.debug("TokenRevocationClient.revoke: Revoking "+P);var E=R._settings.client_id,k=R._settings.client_secret;return R._revoke(C,E,k,S,P)}if(w)throw d.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},c.prototype._revoke=function(S,w,R,P,C){var E=this;return new Promise(function(k,H){var T=new E._XMLHttpRequestCtor;T.open("POST",S),T.onload=function(){d.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",T.status),T.status===200?k():H(Error(T.statusText+" ("+T.status+")"))},T.onerror=function(){d.Log.debug("TokenRevocationClient.revoke: Network Error."),H("Network Error")};var I="client_id="+encodeURIComponent(w);R&&(I+="&client_secret="+encodeURIComponent(R)),I+="&token_type_hint="+encodeURIComponent(C),I+="&token="+encodeURIComponent(P),T.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),T.send(I)})},c}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.CordovaPopupWindow=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.CordovaPopupWindow=function(){function v(g){var u=this;(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v),this._promise=new Promise(function(l,c){u._resolve=l,u._reject=c}),this.features=g.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=g.popupWindowTarget||"_blank",this.redirect_uri=g.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return v.prototype._isInAppBrowserInstalled=function(u){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(l){return u.hasOwnProperty(l)})},v.prototype.navigate=function(u){if(u&&u.url){if(!window.cordova)return this._error("cordova is undefined");var l=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(l)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(u.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},v.prototype._loadStartCallback=function(u){u.url.indexOf(this.redirect_uri)===0&&this._success({url:u.url})},v.prototype._exitCallback=function(u){this._error(u)},v.prototype._success=function(u){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(u)},v.prototype._error=function(u){this._cleanup(),i.Log.error(u),this._reject(new Error(u))},v.prototype.close=function(){this._cleanup()},v.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},d(v,[{key:"promise",get:function(){return this._promise}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0});var d=f(0),i=f(10),v=f(5),g=f(6),u=f(37),l=f(38),c=f(16),y=f(2),S=f(48),w=f(49),R=f(19),P=f(20),C=f(18),E=f(1),k=f(15),H=f(50);a.default={Version:H.Version,Log:d.Log,OidcClient:i.OidcClient,OidcClientSettings:v.OidcClientSettings,WebStorageStateStore:g.WebStorageStateStore,InMemoryWebStorage:u.InMemoryWebStorage,UserManager:l.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:y.MetadataService,CordovaPopupNavigator:S.CordovaPopupNavigator,CordovaIFrameNavigator:w.CordovaIFrameNavigator,CheckSessionIFrame:R.CheckSessionIFrame,TokenRevocationClient:P.TokenRevocationClient,SessionMonitor:C.SessionMonitor,Global:E.Global,User:k.User},p.exports=a.default},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.ClockService=function(){function d(){(function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d)}return d.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},d}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.ResponseValidator=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},i=f(0),v=f(2),g=f(25),u=f(11),l=f(12),c=f(4);function y(w,R){if(!(w instanceof R))throw new TypeError("Cannot call a class as a function")}var S=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];a.ResponseValidator=function(){function w(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.MetadataService,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.UserInfoService,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c.JoseUtil,k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:u.TokenClient;if(y(this,w),!R)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=R,this._metadataService=new P(this._settings),this._userInfoService=new C(this._settings),this._joseUtil=E,this._tokenClient=new k(this._settings)}return w.prototype.validateSigninResponse=function(P,C){var E=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(P,C).then(function(k){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),E._validateTokens(P,k).then(function(H){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),E._processClaims(P,H).then(function(T){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),T})})})},w.prototype.validateSignoutResponse=function(P,C){return P.id!==C.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),C.state=P.data,C.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",C.error),Promise.reject(new l.ErrorResponse(C))):Promise.resolve(C))},w.prototype._processSigninParams=function(P,C){if(P.id!==C.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!P.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!P.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==P.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=P.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==P.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=P.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),C.state=P.data,C.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",C.error),Promise.reject(new l.ErrorResponse(C))):P.nonce&&!C.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!P.nonce&&C.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):P.code_verifier&&!C.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!P.code_verifier&&C.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(C.scope||(C.scope=P.scope),Promise.resolve(C))},w.prototype._processClaims=function(P,C){var E=this;if(C.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),C.profile=this._filterProtocolClaims(C.profile),P.skipUserInfo!==!0&&this._settings.loadUserInfo&&C.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(C.access_token).then(function(k){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),k.sub!==C.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(C.profile=E._mergeClaims(C.profile,k),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",C.profile),C)});i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(C)},w.prototype._mergeClaims=function(P,C){var E=Object.assign({},P);for(var k in C){var H=C[k];Array.isArray(H)||(H=[H]);for(var T=0;T<H.length;T++){var I=H[T];E[k]?Array.isArray(E[k])?E[k].indexOf(I)<0&&E[k].push(I):E[k]!==I&&((I===void 0?"undefined":d(I))==="object"&&this._settings.mergeClaims?E[k]=this._mergeClaims(E[k],I):E[k]=[E[k],I]):E[k]=I}}return E},w.prototype._filterProtocolClaims=function(P){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",P);var C=Object.assign({},P);return this._settings._filterProtocolClaims?(S.forEach(function(E){delete C[E]}),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",C)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),C},w.prototype._validateTokens=function(P,C){return C.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(P,C)):C.id_token?C.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(P,C)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(P,C)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(C))},w.prototype._processCode=function(P,C){var E=this,k={client_id:P.client_id,client_secret:P.client_secret,code:C.code,redirect_uri:P.redirect_uri,code_verifier:P.code_verifier};return P.extraTokenParams&&d(P.extraTokenParams)==="object"&&Object.assign(k,P.extraTokenParams),this._tokenClient.exchangeCode(k).then(function(H){for(var T in H)C[T]=H[T];return C.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),E._validateIdTokenAttributes(P,C)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),C)})},w.prototype._validateIdTokenAttributes=function(P,C){var E=this;return this._metadataService.getIssuer().then(function(k){var H=P.client_id,T=E._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",T),E._settings.getEpochTime().then(function(I){return E._joseUtil.validateJwtAttributes(C.id_token,k,H,T,I).then(function(L){return P.nonce&&P.nonce!==L.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):L.sub?(C.profile=L,C):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},w.prototype._validateIdTokenAndAccessToken=function(P,C){var E=this;return this._validateIdToken(P,C).then(function(k){return E._validateAccessToken(k)})},w.prototype._getSigningKeyForJwt=function(P){var C=this;return this._metadataService.getSigningKeys().then(function(E){var k=P.header.kid;if(!E)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var H=void 0;if(k)H=E.filter(function(T){return T.kid===k})[0];else{if((E=C._filterByAlg(E,P.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));H=E[0]}return Promise.resolve(H)})},w.prototype._getSigningKeyForJwtWithSingleRetry=function(P){var C=this;return this._getSigningKeyForJwt(P).then(function(E){return E?Promise.resolve(E):(C._metadataService.resetSigningKeys(),C._getSigningKeyForJwt(P))})},w.prototype._validateIdToken=function(P,C){var E=this;if(!P.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var k=this._joseUtil.parseJwt(C.id_token);return k&&k.header&&k.payload?P.nonce!==k.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(H){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),E._getSigningKeyForJwtWithSingleRetry(k).then(function(T){if(!T)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var I=P.client_id,L=E._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",L),E._joseUtil.validateJwt(C.id_token,T,H,I,L).then(function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),k.payload.sub?(C.profile=k.payload,C):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",k),Promise.reject(new Error("Failed to parse id_token")))},w.prototype._filterByAlg=function(P,C){var E=null;if(C.startsWith("RS"))E="RSA";else if(C.startsWith("PS"))E="PS";else{if(!C.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",C),[];E="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",E),P=P.filter(function(k){return k.kty===E}),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",E,P.length),P},w.prototype._validateAccessToken=function(P){if(!P.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!P.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!P.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var C=this._joseUtil.parseJwt(P.id_token);if(!C||!C.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",C),Promise.reject(new Error("Failed to parse id_token"));var E=C.header.alg;if(!E||E.length!==5)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E),Promise.reject(new Error("Unsupported alg: "+E));var k=E.substr(2,3);if(!k)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,k),Promise.reject(new Error("Unsupported alg: "+E));if((k=parseInt(k))!==256&&k!==384&&k!==512)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,k),Promise.reject(new Error("Unsupported alg: "+E));var H="sha"+k,T=this._joseUtil.hashString(P.access_token,H);if(!T)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",H),Promise.reject(new Error("Failed to validate at_hash"));var I=T.substr(0,T.length/2),L=this._joseUtil.hexToBase64Url(I);return L!==P.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",L,P.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(P))},w}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UserInfoService=void 0;var d=f(7),i=f(2),v=f(0),g=f(4);function u(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}a.UserInfoService=function(){function l(c){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.JsonService,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.MetadataService,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:g.JoseUtil;if(u(this,l),!c)throw v.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=c,this._jsonService=new y(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new S(this._settings),this._joseUtil=w}return l.prototype.getClaims=function(y){var S=this;return y?this._metadataService.getUserInfoEndpoint().then(function(w){return v.Log.debug("UserInfoService.getClaims: received userinfo url",w),S._jsonService.getJson(w,y).then(function(R){return v.Log.debug("UserInfoService.getClaims: claims received",R),R})}):(v.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},l.prototype._getClaimsFromJwt=function(y){var S=this;try{var w=this._joseUtil.parseJwt(y.responseText);if(!w||!w.header||!w.payload)return v.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",w),Promise.reject(new Error("Failed to parse id_token"));var R=w.header.kid,P=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":P=this._metadataService.getIssuer();break;case"ANY":P=Promise.resolve(w.payload.iss);break;default:P=Promise.resolve(this._settings.userInfoJwtIssuer)}return P.then(function(C){return v.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+C),S._metadataService.getSigningKeys().then(function(E){if(!E)return v.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));v.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var k=void 0;if(R)k=E.filter(function(I){return I.kid===R})[0];else{if((E=S._filterByAlg(E,w.header.alg)).length>1)return v.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));k=E[0]}if(!k)return v.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var H=S._settings.client_id,T=S._settings.clockSkew;return v.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",T),S._joseUtil.validateJwt(y.responseText,k,C,H,T,void 0,!0).then(function(){return v.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),w.payload})})})}catch(C){return v.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",C.message),void reject(C)}},l.prototype._filterByAlg=function(y,S){var w=null;if(S.startsWith("RS"))w="RSA";else if(S.startsWith("PS"))w="PS";else{if(!S.startsWith("ES"))return v.Log.debug("UserInfoService._filterByAlg: alg not supported: ",S),[];w="EC"}return v.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",w),y=y.filter(function(R){return R.kty===w}),v.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",w,y.length),y},l}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.AllowedSigningAlgs=a.b64tohex=a.hextob64u=a.crypto=a.X509=a.KeyUtil=a.jws=void 0;var d=f(27);a.jws=d.jws,a.KeyUtil=d.KEYUTIL,a.X509=d.X509,a.crypto=d.crypto,a.hextob64u=d.hextob64u,a.b64tohex=d.b64tohex,a.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(p,a,f){(function(d){Object.defineProperty(a,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v={userAgent:!1},g={};/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/if(u===void 0)var u={};u.lang={extend:function(t,r,o){if(!r||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var h=function(){};if(h.prototype=r.prototype,t.prototype=new h,t.prototype.constructor=t,t.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),o){var _;for(_ in o)t.prototype[_]=o[_];var F=function(){},j=["toString","valueOf"];try{/MSIE/.test(v.userAgent)&&(F=function(U,B){for(_=0;_<j.length;_+=1){var K=j[_],J=B[K];typeof J=="function"&&J!=Object.prototype[K]&&(U[K]=J)}})}catch{}F(t.prototype,o)}}};/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */var l,c,y,S,w,R,P,C,E,k,H,T=T||(l=Math,y=(c={}).lib={},S=y.Base=function(){function e(){}return{extend:function(r){e.prototype=this;var o=new e;return r&&o.mixIn(r),o.hasOwnProperty("init")||(o.init=function(){o.$super.init.apply(this,arguments)}),o.init.prototype=o,o.$super=this,o},create:function(){var r=this.extend();return r.init.apply(r,arguments),r},init:function(){},mixIn:function(r){for(var o in r)r.hasOwnProperty(o)&&(this[o]=r[o]);r.hasOwnProperty("toString")&&(this.toString=r.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),w=y.WordArray=S.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r??4*t.length},toString:function(t){return(t||P).stringify(this)},concat:function(t){var r=this.words,o=t.words,h=this.sigBytes,_=t.sigBytes;if(this.clamp(),h%4)for(var F=0;F<_;F++){var j=o[F>>>2]>>>24-F%4*8&255;r[h+F>>>2]|=j<<24-(h+F)%4*8}else for(F=0;F<_;F+=4)r[h+F>>>2]=o[F>>>2];return this.sigBytes+=_,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=l.ceil(r/4)},clone:function(){var t=S.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var r=[],o=0;o<t;o+=4)r.push(4294967296*l.random()|0);return new w.init(r,t)}}),R=c.enc={},P=R.Hex={stringify:function(t){for(var r=t.words,o=t.sigBytes,h=[],_=0;_<o;_++){var F=r[_>>>2]>>>24-_%4*8&255;h.push((F>>>4).toString(16)),h.push((15&F).toString(16))}return h.join("")},parse:function(t){for(var r=t.length,o=[],h=0;h<r;h+=2)o[h>>>3]|=parseInt(t.substr(h,2),16)<<24-h%8*4;return new w.init(o,r/2)}},C=R.Latin1={stringify:function(t){for(var r=t.words,o=t.sigBytes,h=[],_=0;_<o;_++){var F=r[_>>>2]>>>24-_%4*8&255;h.push(String.fromCharCode(F))}return h.join("")},parse:function(t){for(var r=t.length,o=[],h=0;h<r;h++)o[h>>>2]|=(255&t.charCodeAt(h))<<24-h%4*8;return new w.init(o,r)}},E=R.Utf8={stringify:function(t){try{return decodeURIComponent(escape(C.stringify(t)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(t){return C.parse(unescape(encodeURIComponent(t)))}},k=y.BufferedBlockAlgorithm=S.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(t){typeof t=="string"&&(t=E.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var r=this._data,o=r.words,h=r.sigBytes,_=this.blockSize,F=h/(4*_),j=(F=t?l.ceil(F):l.max((0|F)-this._minBufferSize,0))*_,N=l.min(4*j,h);if(j){for(var U=0;U<j;U+=_)this._doProcessBlock(o,U);var B=o.splice(0,j);r.sigBytes-=N}return new w.init(B,N)},clone:function(){var t=S.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),y.Hasher=k.extend({cfg:S.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(r,o){return new t.init(o).finalize(r)}},_createHmacHelper:function(t){return function(r,o){return new H.HMAC.init(t,o).finalize(r)}}}),H=c.algo={},c);(function(e){var t,r=(t=T).lib,o=r.Base,h=r.WordArray;(t=t.x64={}).Word=o.extend({init:function(F,j){this.high=F,this.low=j}}),t.WordArray=o.extend({init:function(F,j){F=this.words=F||[],this.sigBytes=j??8*F.length},toX32:function(){for(var F=this.words,j=F.length,N=[],U=0;U<j;U++){var B=F[U];N.push(B.high),N.push(B.low)}return h.create(N,this.sigBytes)},clone:function(){for(var F=o.clone.call(this),j=F.words=this.words.slice(0),N=j.length,U=0;U<N;U++)j[U]=j[U].clone();return F}})})(),function(){var e=T,t=e.lib.WordArray;e.enc.Base64={stringify:function(o){var h=o.words,_=o.sigBytes,F=this._map;o.clamp(),o=[];for(var j=0;j<_;j+=3)for(var N=(h[j>>>2]>>>24-j%4*8&255)<<16|(h[j+1>>>2]>>>24-(j+1)%4*8&255)<<8|h[j+2>>>2]>>>24-(j+2)%4*8&255,U=0;4>U&&j+.75*U<_;U++)o.push(F.charAt(N>>>6*(3-U)&63));if(h=F.charAt(64))for(;o.length%4;)o.push(h);return o.join("")},parse:function(o){var h=o.length,_=this._map;(F=_.charAt(64))&&(F=o.indexOf(F))!=-1&&(h=F);for(var F=[],j=0,N=0;N<h;N++)if(N%4){var U=_.indexOf(o.charAt(N-1))<<N%4*2,B=_.indexOf(o.charAt(N))>>>6-N%4*2;F[j>>>2]|=(U|B)<<24-j%4*8,j++}return t.create(F,j)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=T,r=(h=t.lib).WordArray,o=h.Hasher,h=t.algo,_=[],F=[],j=function(et){return 4294967296*(et-(0|et))|0},N=2,U=0;64>U;){var B;t:{B=N;for(var K=e.sqrt(B),J=2;J<=K;J++)if(!(B%J)){B=!1;break t}B=!0}B&&(8>U&&(_[U]=j(e.pow(N,.5))),F[U]=j(e.pow(N,1/3)),U++),N++}var G=[];h=h.SHA256=o.extend({_doReset:function(){this._hash=new r.init(_.slice(0))},_doProcessBlock:function(et,nt){for(var x=this._hash.words,V=x[0],W=x[1],z=x[2],tt=x[3],it=x[4],_t=x[5],ut=x[6],Ut=x[7],mt=0;64>mt;mt++){if(16>mt)G[mt]=0|et[nt+mt];else{var xt=G[mt-15],Gt=G[mt-2];G[mt]=((xt<<25|xt>>>7)^(xt<<14|xt>>>18)^xt>>>3)+G[mt-7]+((Gt<<15|Gt>>>17)^(Gt<<13|Gt>>>19)^Gt>>>10)+G[mt-16]}xt=Ut+((it<<26|it>>>6)^(it<<21|it>>>11)^(it<<7|it>>>25))+(it&_t^~it&ut)+F[mt]+G[mt],Gt=((V<<30|V>>>2)^(V<<19|V>>>13)^(V<<10|V>>>22))+(V&W^V&z^W&z),Ut=ut,ut=_t,_t=it,it=tt+xt|0,tt=z,z=W,W=V,V=xt+Gt|0}x[0]=x[0]+V|0,x[1]=x[1]+W|0,x[2]=x[2]+z|0,x[3]=x[3]+tt|0,x[4]=x[4]+it|0,x[5]=x[5]+_t|0,x[6]=x[6]+ut|0,x[7]=x[7]+Ut|0},_doFinalize:function(){var et=this._data,nt=et.words,x=8*this._nDataBytes,V=8*et.sigBytes;return nt[V>>>5]|=128<<24-V%32,nt[14+(V+64>>>9<<4)]=e.floor(x/4294967296),nt[15+(V+64>>>9<<4)]=x,et.sigBytes=4*nt.length,this._process(),this._hash},clone:function(){var et=o.clone.call(this);return et._hash=this._hash.clone(),et}}),t.SHA256=o._createHelper(h),t.HmacSHA256=o._createHmacHelper(h)}(Math),function(){function e(){return o.create.apply(o,arguments)}for(var t=T,r=t.lib.Hasher,o=(_=t.x64).Word,h=_.WordArray,_=t.algo,F=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],j=[],N=0;80>N;N++)j[N]=e();_=_.SHA512=r.extend({_doReset:function(){this._hash=new h.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(B,K){for(var J=(W=this._hash.words)[0],G=W[1],Z=W[2],et=W[3],nt=W[4],x=W[5],V=W[6],W=W[7],z=J.high,tt=J.low,it=G.high,_t=G.low,ut=Z.high,Ut=Z.low,mt=et.high,xt=et.low,Gt=nt.high,Qt=nt.low,Yt=x.high,we=x.low,pe=V.high,ye=V.low,ne=W.high,ae=W.low,he=z,_e=tt,gr=it,er=_t,pr=ut,rr=Ut,an=mt,vr=xt,Te=Gt,Pe=Qt,Tr=Yt,mr=we,Rr=pe,yr=ye,un=ne,_r=ae,Re=0;80>Re;Re++){var We=j[Re];if(16>Re)var De=We.high=0|B[K+2*Re],Zt=We.low=0|B[K+2*Re+1];else{De=((Zt=(De=j[Re-15]).high)>>>1|(Ue=De.low)<<31)^(Zt>>>8|Ue<<24)^Zt>>>7;var Ue=(Ue>>>1|Zt<<31)^(Ue>>>8|Zt<<24)^(Ue>>>7|Zt<<25),nr=((Zt=(nr=j[Re-2]).high)>>>19|(ue=nr.low)<<13)^(Zt<<3|ue>>>29)^Zt>>>6,ue=(ue>>>19|Zt<<13)^(ue<<3|Zt>>>29)^(ue>>>6|Zt<<26),cn=(Zt=j[Re-7]).high,Je=(ze=j[Re-16]).high,ze=ze.low;De=(De=(De=De+cn+((Zt=Ue+Zt.low)>>>0<Ue>>>0?1:0))+nr+((Zt=Zt+ue)>>>0<ue>>>0?1:0))+Je+((Zt=Zt+ze)>>>0<ze>>>0?1:0),We.high=De,We.low=Zt}cn=Te&Tr^~Te&Rr,ze=Pe&mr^~Pe&yr,We=he&gr^he&pr^gr&pr;var Ko=_e&er^_e&rr^er&rr,qo=(Ue=(he>>>28|_e<<4)^(he<<30|_e>>>2)^(he<<25|_e>>>7),nr=(_e>>>28|he<<4)^(_e<<30|he>>>2)^(_e<<25|he>>>7),(ue=F[Re]).high),Zn=ue.low;Je=un+((Te>>>14|Pe<<18)^(Te>>>18|Pe<<14)^(Te<<23|Pe>>>9))+((ue=_r+((Pe>>>14|Te<<18)^(Pe>>>18|Te<<14)^(Pe<<23|Te>>>9)))>>>0<_r>>>0?1:0),un=Rr,_r=yr,Rr=Tr,yr=mr,Tr=Te,mr=Pe,Te=an+(Je=(Je=(Je=Je+cn+((ue=ue+ze)>>>0<ze>>>0?1:0))+qo+((ue=ue+Zn)>>>0<Zn>>>0?1:0))+De+((ue=ue+Zt)>>>0<Zt>>>0?1:0))+((Pe=vr+ue|0)>>>0<vr>>>0?1:0)|0,an=pr,vr=rr,pr=gr,rr=er,gr=he,er=_e,he=Je+(We=Ue+We+((Zt=nr+Ko)>>>0<nr>>>0?1:0))+((_e=ue+Zt|0)>>>0<ue>>>0?1:0)|0}tt=J.low=tt+_e,J.high=z+he+(tt>>>0<_e>>>0?1:0),_t=G.low=_t+er,G.high=it+gr+(_t>>>0<er>>>0?1:0),Ut=Z.low=Ut+rr,Z.high=ut+pr+(Ut>>>0<rr>>>0?1:0),xt=et.low=xt+vr,et.high=mt+an+(xt>>>0<vr>>>0?1:0),Qt=nt.low=Qt+Pe,nt.high=Gt+Te+(Qt>>>0<Pe>>>0?1:0),we=x.low=we+mr,x.high=Yt+Tr+(we>>>0<mr>>>0?1:0),ye=V.low=ye+yr,V.high=pe+Rr+(ye>>>0<yr>>>0?1:0),ae=W.low=ae+_r,W.high=ne+un+(ae>>>0<_r>>>0?1:0)},_doFinalize:function(){var B=this._data,K=B.words,J=8*this._nDataBytes,G=8*B.sigBytes;return K[G>>>5]|=128<<24-G%32,K[30+(G+128>>>10<<5)]=Math.floor(J/4294967296),K[31+(G+128>>>10<<5)]=J,B.sigBytes=4*K.length,this._process(),this._hash.toX32()},clone:function(){var B=r.clone.call(this);return B._hash=this._hash.clone(),B},blockSize:32}),t.SHA512=r._createHelper(_),t.HmacSHA512=r._createHmacHelper(_)}(),function(){var e=T,t=(h=e.x64).Word,r=h.WordArray,o=(h=e.algo).SHA512,h=h.SHA384=o.extend({_doReset:function(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var F=o._doFinalize.call(this);return F.sigBytes-=16,F}});e.SHA384=o._createHelper(h),e.HmacSHA384=o._createHmacHelper(h)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var I,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function X(e){var t,r,o="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),o+=L.charAt(r>>6)+L.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),o+=L.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),o+=L.charAt(r>>2)+L.charAt((3&r)<<4)),"=";(3&o.length)>0;)o+="=";return o}function Q(e){var t,r,o,h="",_=0;for(t=0;t<e.length&&e.charAt(t)!="=";++t)(o=L.indexOf(e.charAt(t)))<0||(_==0?(h+=pt(o>>2),r=3&o,_=1):_==1?(h+=pt(r<<2|o>>4),r=15&o,_=2):_==2?(h+=pt(r),h+=pt(o>>2),r=3&o,_=3):(h+=pt(r<<2|o>>4),h+=pt(15&o),_=0));return _==1&&(h+=pt(r<<2)),h}function rt(e){var t,r=Q(e),o=new Array;for(t=0;2*t<r.length;++t)o[t]=parseInt(r.substring(2*t,2*t+2),16);return o}function M(e,t,r){e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}function ot(){return new M(null)}v.appName=="Microsoft Internet Explorer"?(M.prototype.am=function(t,r,o,h,_,F){for(var j=32767&r,N=r>>15;--F>=0;){var U=32767&this[t],B=this[t++]>>15,K=N*U+B*j;_=((U=j*U+((32767&K)<<15)+o[h]+(1073741823&_))>>>30)+(K>>>15)+N*B+(_>>>30),o[h++]=1073741823&U}return _},I=30):v.appName!="Netscape"?(M.prototype.am=function(t,r,o,h,_,F){for(;--F>=0;){var j=r*this[t++]+o[h]+_;_=Math.floor(j/67108864),o[h++]=67108863&j}return _},I=26):(M.prototype.am=function(t,r,o,h,_,F){for(var j=16383&r,N=r>>14;--F>=0;){var U=16383&this[t],B=this[t++]>>14,K=N*U+B*j;_=((U=j*U+((16383&K)<<14)+o[h]+_)>>28)+(K>>14)+N*B,o[h++]=268435455&U}return _},I=28),M.prototype.DB=I,M.prototype.DM=(1<<I)-1,M.prototype.DV=1<<I,M.prototype.FV=Math.pow(2,52),M.prototype.F1=52-I,M.prototype.F2=2*I-52;var ct,bt,kt=new Array;for(ct=48,bt=0;bt<=9;++bt)kt[ct++]=bt;for(ct=97,bt=10;bt<36;++bt)kt[ct++]=bt;for(ct=65,bt=10;bt<36;++bt)kt[ct++]=bt;function pt(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function wt(e,t){var r=kt[e.charCodeAt(t)];return r??-1}function yt(e){var t=ot();return t.fromInt(e),t}function Ct(e){var t,r=1;return(t=e>>>16)!=0&&(e=t,r+=16),(t=e>>8)!=0&&(e=t,r+=8),(t=e>>4)!=0&&(e=t,r+=4),(t=e>>2)!=0&&(e=t,r+=2),(t=e>>1)!=0&&(e=t,r+=1),r}function Tt(e){this.m=e}function jt(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Ot(e,t){return e&t}function Mt(e,t){return e|t}function Jt(e,t){return e^t}function ee(e,t){return e&~t}function $t(e){if(e==0)return-1;var t=0;return!(65535&e)&&(e>>=16,t+=16),!(255&e)&&(e>>=8,t+=8),!(15&e)&&(e>>=4,t+=4),!(3&e)&&(e>>=2,t+=2),!(1&e)&&++t,t}function lt(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function Et(){}function St(e){return e}function Rt(e){this.r2=ot(),this.q3=ot(),M.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}Tt.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},Tt.prototype.revert=function(t){return t},Tt.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},Tt.prototype.mulTo=function(t,r,o){t.multiplyTo(r,o),this.reduce(o)},Tt.prototype.sqrTo=function(t,r){t.squareTo(r),this.reduce(r)},jt.prototype.convert=function(t){var r=ot();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s<0&&r.compareTo(M.ZERO)>0&&this.m.subTo(r,r),r},jt.prototype.revert=function(t){var r=ot();return t.copyTo(r),this.reduce(r),r},jt.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var r=0;r<this.m.t;++r){var o=32767&t[r],h=o*this.mpl+((o*this.mph+(t[r]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[o=r+this.m.t]+=this.m.am(0,h,t,r,0,this.m.t);t[o]>=t.DV;)t[o]-=t.DV,t[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},jt.prototype.mulTo=function(t,r,o){t.multiplyTo(r,o),this.reduce(o)},jt.prototype.sqrTo=function(t,r){t.squareTo(r),this.reduce(r)},M.prototype.copyTo=function(t){for(var r=this.t-1;r>=0;--r)t[r]=this[r];t.t=this.t,t.s=this.s},M.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},M.prototype.fromString=function(t,r){var o;if(r==16)o=4;else if(r==8)o=3;else if(r==256)o=8;else if(r==2)o=1;else if(r==32)o=5;else{if(r!=4)return void this.fromRadix(t,r);o=2}this.t=0,this.s=0;for(var h=t.length,_=!1,F=0;--h>=0;){var j=o==8?255&t[h]:wt(t,h);j<0?t.charAt(h)=="-"&&(_=!0):(_=!1,F==0?this[this.t++]=j:F+o>this.DB?(this[this.t-1]|=(j&(1<<this.DB-F)-1)<<F,this[this.t++]=j>>this.DB-F):this[this.t-1]|=j<<F,(F+=o)>=this.DB&&(F-=this.DB))}o==8&&128&t[0]&&(this.s=-1,F>0&&(this[this.t-1]|=(1<<this.DB-F)-1<<F)),this.clamp(),_&&M.ZERO.subTo(this,this)},M.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},M.prototype.dlShiftTo=function(t,r){var o;for(o=this.t-1;o>=0;--o)r[o+t]=this[o];for(o=t-1;o>=0;--o)r[o]=0;r.t=this.t+t,r.s=this.s},M.prototype.drShiftTo=function(t,r){for(var o=t;o<this.t;++o)r[o-t]=this[o];r.t=Math.max(this.t-t,0),r.s=this.s},M.prototype.lShiftTo=function(t,r){var o,h=t%this.DB,_=this.DB-h,F=(1<<_)-1,j=Math.floor(t/this.DB),N=this.s<<h&this.DM;for(o=this.t-1;o>=0;--o)r[o+j+1]=this[o]>>_|N,N=(this[o]&F)<<h;for(o=j-1;o>=0;--o)r[o]=0;r[j]=N,r.t=this.t+j+1,r.s=this.s,r.clamp()},M.prototype.rShiftTo=function(t,r){r.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)r.t=0;else{var h=t%this.DB,_=this.DB-h,F=(1<<h)-1;r[0]=this[o]>>h;for(var j=o+1;j<this.t;++j)r[j-o-1]|=(this[j]&F)<<_,r[j-o]=this[j]>>h;h>0&&(r[this.t-o-1]|=(this.s&F)<<_),r.t=this.t-o,r.clamp()}},M.prototype.subTo=function(t,r){for(var o=0,h=0,_=Math.min(t.t,this.t);o<_;)h+=this[o]-t[o],r[o++]=h&this.DM,h>>=this.DB;if(t.t<this.t){for(h-=t.s;o<this.t;)h+=this[o],r[o++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;o<t.t;)h-=t[o],r[o++]=h&this.DM,h>>=this.DB;h-=t.s}r.s=h<0?-1:0,h<-1?r[o++]=this.DV+h:h>0&&(r[o++]=h),r.t=o,r.clamp()},M.prototype.multiplyTo=function(t,r){var o=this.abs(),h=t.abs(),_=o.t;for(r.t=_+h.t;--_>=0;)r[_]=0;for(_=0;_<h.t;++_)r[_+o.t]=o.am(0,h[_],r,_,0,o.t);r.s=0,r.clamp(),this.s!=t.s&&M.ZERO.subTo(r,r)},M.prototype.squareTo=function(t){for(var r=this.abs(),o=t.t=2*r.t;--o>=0;)t[o]=0;for(o=0;o<r.t-1;++o){var h=r.am(o,r[o],t,2*o,0,1);(t[o+r.t]+=r.am(o+1,2*r[o],t,2*o+1,h,r.t-o-1))>=r.DV&&(t[o+r.t]-=r.DV,t[o+r.t+1]=1)}t.t>0&&(t[t.t-1]+=r.am(o,r[o],t,2*o,0,1)),t.s=0,t.clamp()},M.prototype.divRemTo=function(t,r,o){var h=t.abs();if(!(h.t<=0)){var _=this.abs();if(_.t<h.t)return r!=null&&r.fromInt(0),void(o!=null&&this.copyTo(o));o==null&&(o=ot());var F=ot(),j=this.s,N=t.s,U=this.DB-Ct(h[h.t-1]);U>0?(h.lShiftTo(U,F),_.lShiftTo(U,o)):(h.copyTo(F),_.copyTo(o));var B=F.t,K=F[B-1];if(K!=0){var J=K*(1<<this.F1)+(B>1?F[B-2]>>this.F2:0),G=this.FV/J,Z=(1<<this.F1)/J,et=1<<this.F2,nt=o.t,x=nt-B,V=r??ot();for(F.dlShiftTo(x,V),o.compareTo(V)>=0&&(o[o.t++]=1,o.subTo(V,o)),M.ONE.dlShiftTo(B,V),V.subTo(F,F);F.t<B;)F[F.t++]=0;for(;--x>=0;){var W=o[--nt]==K?this.DM:Math.floor(o[nt]*G+(o[nt-1]+et)*Z);if((o[nt]+=F.am(0,W,o,x,0,B))<W)for(F.dlShiftTo(x,V),o.subTo(V,o);o[nt]<--W;)o.subTo(V,o)}r!=null&&(o.drShiftTo(B,r),j!=N&&M.ZERO.subTo(r,r)),o.t=B,o.clamp(),U>0&&o.rShiftTo(U,o),j<0&&M.ZERO.subTo(o,o)}}},M.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(!(1&t))return 0;var r=3&t;return(r=(r=(r=(r=r*(2-(15&t)*r)&15)*(2-(255&t)*r)&255)*(2-((65535&t)*r&65535))&65535)*(2-t*r%this.DV)%this.DV)>0?this.DV-r:-r},M.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},M.prototype.exp=function(t,r){if(t>4294967295||t<1)return M.ONE;var o=ot(),h=ot(),_=r.convert(this),F=Ct(t)-1;for(_.copyTo(o);--F>=0;)if(r.sqrTo(o,h),(t&1<<F)>0)r.mulTo(h,_,o);else{var j=o;o=h,h=j}return r.revert(o)},M.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else{if(t!=4)return this.toRadix(t);r=2}var o,h=(1<<r)-1,_=!1,F="",j=this.t,N=this.DB-j*this.DB%r;if(j-- >0)for(N<this.DB&&(o=this[j]>>N)>0&&(_=!0,F=pt(o));j>=0;)N<r?(o=(this[j]&(1<<N)-1)<<r-N,o|=this[--j]>>(N+=this.DB-r)):(o=this[j]>>(N-=r)&h,N<=0&&(N+=this.DB,--j)),o>0&&(_=!0),_&&(F+=pt(o));return _?F:"0"},M.prototype.negate=function(){var t=ot();return M.ZERO.subTo(this,t),t},M.prototype.abs=function(){return this.s<0?this.negate():this},M.prototype.compareTo=function(t){var r=this.s-t.s;if(r!=0)return r;var o=this.t;if((r=o-t.t)!=0)return this.s<0?-r:r;for(;--o>=0;)if((r=this[o]-t[o])!=0)return r;return 0},M.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Ct(this[this.t-1]^this.s&this.DM)},M.prototype.mod=function(t){var r=ot();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(M.ZERO)>0&&t.subTo(r,r),r},M.prototype.modPowInt=function(t,r){var o;return o=t<256||r.isEven()?new Tt(r):new jt(r),this.exp(t,o)},M.ZERO=yt(0),M.ONE=yt(1),Et.prototype.convert=St,Et.prototype.revert=St,Et.prototype.mulTo=function(t,r,o){t.multiplyTo(r,o)},Et.prototype.sqrTo=function(t,r){t.squareTo(r)},Rt.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=ot();return t.copyTo(r),this.reduce(r),r},Rt.prototype.revert=function(t){return t},Rt.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},Rt.prototype.mulTo=function(t,r,o){t.multiplyTo(r,o),this.reduce(o)},Rt.prototype.sqrTo=function(t,r){t.squareTo(r),this.reduce(r)};var q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],b=(1<<26)/q[q.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function m(){this.i=0,this.j=0,this.S=new Array}M.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},M.prototype.toRadix=function(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var r=this.chunkSize(t),o=Math.pow(t,r),h=yt(o),_=ot(),F=ot(),j="";for(this.divRemTo(h,_,F);_.signum()>0;)j=(o+F.intValue()).toString(t).substr(1)+j,_.divRemTo(h,_,F);return F.intValue().toString(t)+j},M.prototype.fromRadix=function(t,r){this.fromInt(0),r==null&&(r=10);for(var o=this.chunkSize(r),h=Math.pow(r,o),_=!1,F=0,j=0,N=0;N<t.length;++N){var U=wt(t,N);U<0?t.charAt(N)=="-"&&this.signum()==0&&(_=!0):(j=r*j+U,++F>=o&&(this.dMultiply(h),this.dAddOffset(j,0),F=0,j=0))}F>0&&(this.dMultiply(Math.pow(r,F)),this.dAddOffset(j,0)),_&&M.ZERO.subTo(this,this)},M.prototype.fromNumber=function(t,r,o){if(typeof r=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(M.ONE.shiftLeft(t-1),Mt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(M.ONE.shiftLeft(t-1),this);else{var h=new Array,_=7&t;h.length=1+(t>>3),r.nextBytes(h),_>0?h[0]&=(1<<_)-1:h[0]=0,this.fromString(h,256)}},M.prototype.bitwiseTo=function(t,r,o){var h,_,F=Math.min(t.t,this.t);for(h=0;h<F;++h)o[h]=r(this[h],t[h]);if(t.t<this.t){for(_=t.s&this.DM,h=F;h<this.t;++h)o[h]=r(this[h],_);o.t=this.t}else{for(_=this.s&this.DM,h=F;h<t.t;++h)o[h]=r(_,t[h]);o.t=t.t}o.s=r(this.s,t.s),o.clamp()},M.prototype.changeBit=function(t,r){var o=M.ONE.shiftLeft(t);return this.bitwiseTo(o,r,o),o},M.prototype.addTo=function(t,r){for(var o=0,h=0,_=Math.min(t.t,this.t);o<_;)h+=this[o]+t[o],r[o++]=h&this.DM,h>>=this.DB;if(t.t<this.t){for(h+=t.s;o<this.t;)h+=this[o],r[o++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;o<t.t;)h+=t[o],r[o++]=h&this.DM,h>>=this.DB;h+=t.s}r.s=h<0?-1:0,h>0?r[o++]=h:h<-1&&(r[o++]=this.DV+h),r.t=o,r.clamp()},M.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},M.prototype.dAddOffset=function(t,r){if(t!=0){for(;this.t<=r;)this[this.t++]=0;for(this[r]+=t;this[r]>=this.DV;)this[r]-=this.DV,++r>=this.t&&(this[this.t++]=0),++this[r]}},M.prototype.multiplyLowerTo=function(t,r,o){var h,_=Math.min(this.t+t.t,r);for(o.s=0,o.t=_;_>0;)o[--_]=0;for(h=o.t-this.t;_<h;++_)o[_+this.t]=this.am(0,t[_],o,_,0,this.t);for(h=Math.min(t.t,r);_<h;++_)this.am(0,t[_],o,_,0,r-_);o.clamp()},M.prototype.multiplyUpperTo=function(t,r,o){--r;var h=o.t=this.t+t.t-r;for(o.s=0;--h>=0;)o[h]=0;for(h=Math.max(r-this.t,0);h<t.t;++h)o[this.t+h-r]=this.am(r-h,t[h],o,0,0,this.t+h-r);o.clamp(),o.drShiftTo(1,o)},M.prototype.modInt=function(t){if(t<=0)return 0;var r=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(r==0)o=this[0]%t;else for(var h=this.t-1;h>=0;--h)o=(r*o+this[h])%t;return o},M.prototype.millerRabin=function(t){var r=this.subtract(M.ONE),o=r.getLowestSetBit();if(o<=0)return!1;var h=r.shiftRight(o);(t=t+1>>1)>q.length&&(t=q.length);for(var _=ot(),F=0;F<t;++F){_.fromInt(q[Math.floor(Math.random()*q.length)]);var j=_.modPow(h,this);if(j.compareTo(M.ONE)!=0&&j.compareTo(r)!=0){for(var N=1;N++<o&&j.compareTo(r)!=0;)if((j=j.modPowInt(2,this)).compareTo(M.ONE)==0)return!1;if(j.compareTo(r)!=0)return!1}}return!0},M.prototype.clone=function(){var t=ot();return this.copyTo(t),t},M.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},M.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},M.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},M.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},M.prototype.toByteArray=function(){var t=this.t,r=new Array;r[0]=this.s;var o,h=this.DB-t*this.DB%8,_=0;if(t-- >0)for(h<this.DB&&(o=this[t]>>h)!=(this.s&this.DM)>>h&&(r[_++]=o|this.s<<this.DB-h);t>=0;)h<8?(o=(this[t]&(1<<h)-1)<<8-h,o|=this[--t]>>(h+=this.DB-8)):(o=this[t]>>(h-=8)&255,h<=0&&(h+=this.DB,--t)),128&o&&(o|=-256),_==0&&(128&this.s)!=(128&o)&&++_,(_>0||o!=this.s)&&(r[_++]=o);return r},M.prototype.equals=function(t){return this.compareTo(t)==0},M.prototype.min=function(t){return this.compareTo(t)<0?this:t},M.prototype.max=function(t){return this.compareTo(t)>0?this:t},M.prototype.and=function(t){var r=ot();return this.bitwiseTo(t,Ot,r),r},M.prototype.or=function(t){var r=ot();return this.bitwiseTo(t,Mt,r),r},M.prototype.xor=function(t){var r=ot();return this.bitwiseTo(t,Jt,r),r},M.prototype.andNot=function(t){var r=ot();return this.bitwiseTo(t,ee,r),r},M.prototype.not=function(){for(var t=ot(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t},M.prototype.shiftLeft=function(t){var r=ot();return t<0?this.rShiftTo(-t,r):this.lShiftTo(t,r),r},M.prototype.shiftRight=function(t){var r=ot();return t<0?this.lShiftTo(-t,r):this.rShiftTo(t,r),r},M.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+$t(this[t]);return this.s<0?this.t*this.DB:-1},M.prototype.bitCount=function(){for(var t=0,r=this.s&this.DM,o=0;o<this.t;++o)t+=lt(this[o]^r);return t},M.prototype.testBit=function(t){var r=Math.floor(t/this.DB);return r>=this.t?this.s!=0:(this[r]&1<<t%this.DB)!=0},M.prototype.setBit=function(t){return this.changeBit(t,Mt)},M.prototype.clearBit=function(t){return this.changeBit(t,ee)},M.prototype.flipBit=function(t){return this.changeBit(t,Jt)},M.prototype.add=function(t){var r=ot();return this.addTo(t,r),r},M.prototype.subtract=function(t){var r=ot();return this.subTo(t,r),r},M.prototype.multiply=function(t){var r=ot();return this.multiplyTo(t,r),r},M.prototype.divide=function(t){var r=ot();return this.divRemTo(t,r,null),r},M.prototype.remainder=function(t){var r=ot();return this.divRemTo(t,null,r),r},M.prototype.divideAndRemainder=function(t){var r=ot(),o=ot();return this.divRemTo(t,r,o),new Array(r,o)},M.prototype.modPow=function(t,r){var o,h,_=t.bitLength(),F=yt(1);if(_<=0)return F;o=_<18?1:_<48?3:_<144?4:_<768?5:6,h=_<8?new Tt(r):r.isEven()?new Rt(r):new jt(r);var j=new Array,N=3,U=o-1,B=(1<<o)-1;if(j[1]=h.convert(this),o>1){var K=ot();for(h.sqrTo(j[1],K);N<=B;)j[N]=ot(),h.mulTo(K,j[N-2],j[N]),N+=2}var J,G,Z=t.t-1,et=!0,nt=ot();for(_=Ct(t[Z])-1;Z>=0;){for(_>=U?J=t[Z]>>_-U&B:(J=(t[Z]&(1<<_+1)-1)<<U-_,Z>0&&(J|=t[Z-1]>>this.DB+_-U)),N=o;!(1&J);)J>>=1,--N;if((_-=N)<0&&(_+=this.DB,--Z),et)j[J].copyTo(F),et=!1;else{for(;N>1;)h.sqrTo(F,nt),h.sqrTo(nt,F),N-=2;N>0?h.sqrTo(F,nt):(G=F,F=nt,nt=G),h.mulTo(nt,j[J],F)}for(;Z>=0&&!(t[Z]&1<<_);)h.sqrTo(F,nt),G=F,F=nt,nt=G,--_<0&&(_=this.DB-1,--Z)}return h.revert(F)},M.prototype.modInverse=function(t){var r=t.isEven();if(this.isEven()&&r||t.signum()==0)return M.ZERO;for(var o=t.clone(),h=this.clone(),_=yt(1),F=yt(0),j=yt(0),N=yt(1);o.signum()!=0;){for(;o.isEven();)o.rShiftTo(1,o),r?(_.isEven()&&F.isEven()||(_.addTo(this,_),F.subTo(t,F)),_.rShiftTo(1,_)):F.isEven()||F.subTo(t,F),F.rShiftTo(1,F);for(;h.isEven();)h.rShiftTo(1,h),r?(j.isEven()&&N.isEven()||(j.addTo(this,j),N.subTo(t,N)),j.rShiftTo(1,j)):N.isEven()||N.subTo(t,N),N.rShiftTo(1,N);o.compareTo(h)>=0?(o.subTo(h,o),r&&_.subTo(j,_),F.subTo(N,F)):(h.subTo(o,h),r&&j.subTo(_,j),N.subTo(F,N))}return h.compareTo(M.ONE)!=0?M.ZERO:N.compareTo(t)>=0?N.subtract(t):N.signum()<0?(N.addTo(t,N),N.signum()<0?N.add(t):N):N},M.prototype.pow=function(t){return this.exp(t,new Et)},M.prototype.gcd=function(t){var r=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(r.compareTo(o)<0){var h=r;r=o,o=h}var _=r.getLowestSetBit(),F=o.getLowestSetBit();if(F<0)return r;for(_<F&&(F=_),F>0&&(r.rShiftTo(F,r),o.rShiftTo(F,o));r.signum()>0;)(_=r.getLowestSetBit())>0&&r.rShiftTo(_,r),(_=o.getLowestSetBit())>0&&o.rShiftTo(_,o),r.compareTo(o)>=0?(r.subTo(o,r),r.rShiftTo(1,r)):(o.subTo(r,o),o.rShiftTo(1,o));return F>0&&o.lShiftTo(F,o),o},M.prototype.isProbablePrime=function(t){var r,o=this.abs();if(o.t==1&&o[0]<=q[q.length-1]){for(r=0;r<q.length;++r)if(o[0]==q[r])return!0;return!1}if(o.isEven())return!1;for(r=1;r<q.length;){for(var h=q[r],_=r+1;_<q.length&&h<b;)h*=q[_++];for(h=o.modInt(h);r<_;)if(h%q[r++]==0)return!1}return o.millerRabin(t)},M.prototype.square=function(){var t=ot();return this.squareTo(t),t},m.prototype.init=function(t){var r,o,h;for(r=0;r<256;++r)this.S[r]=r;for(o=0,r=0;r<256;++r)o=o+this.S[r]+t[r%t.length]&255,h=this.S[r],this.S[r]=this.S[o],this.S[o]=h;this.i=0,this.j=0},m.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var A,D,$;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Y(){(function(t){D[$++]^=255&t,D[$++]^=t>>8&255,D[$++]^=t>>16&255,D[$++]^=t>>24&255,$>=256&&($-=256)})(new Date().getTime())}if(D==null){var at;if(D=new Array,$=0,g!==void 0&&(g.crypto!==void 0||g.msCrypto!==void 0)){var ft=g.crypto||g.msCrypto;if(ft.getRandomValues){var gt=new Uint8Array(32);for(ft.getRandomValues(gt),at=0;at<32;++at)D[$++]=gt[at]}else if(v.appName=="Netscape"&&v.appVersion<"5"){var dt=g.crypto.random(32);for(at=0;at<dt.length;++at)D[$++]=255&dt.charCodeAt(at)}}for(;$<256;)at=Math.floor(65536*Math.random()),D[$++]=at>>>8,D[$++]=255&at;$=0,Y()}function vt(){if(A==null){for(Y(),(A=function(){return new m}()).init(D),$=0;$<D.length;++$)D[$]=0;$=0}return A.next()}function At(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Lt(e,t){return new M(e,t)}function Nt(e,t,r){for(var o="",h=0;o.length<t;)o+=r(String.fromCharCode.apply(String,e.concat([(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h]))),h+=1;return o}function ht(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function It(e,t){this.x=t,this.q=e}function Pt(e,t,r,o){this.curve=e,this.x=t,this.y=r,this.z=o??M.ONE,this.zinv=null}function Xt(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new Pt(this,null,null)}At.prototype.nextBytes=function(t){var r;for(r=0;r<t.length;++r)t[r]=vt()},ht.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},ht.prototype.setPublic=function(t,r){if(this.isPublic=!0,this.isPrivate=!1,typeof t!="string")this.n=t,this.e=r;else{if(!(t!=null&&r!=null&&t.length>0&&r.length>0))throw"Invalid RSA public key";this.n=Lt(t,16),this.e=parseInt(r,16)}},ht.prototype.encrypt=function(t){var r=function(F,j){if(j<F.length+11)throw"Message too long for RSA";for(var N=new Array,U=F.length-1;U>=0&&j>0;){var B=F.charCodeAt(U--);B<128?N[--j]=B:B>127&&B<2048?(N[--j]=63&B|128,N[--j]=B>>6|192):(N[--j]=63&B|128,N[--j]=B>>6&63|128,N[--j]=B>>12|224)}N[--j]=0;for(var K=new At,J=new Array;j>2;){for(J[0]=0;J[0]==0;)K.nextBytes(J);N[--j]=J[0]}return N[--j]=2,N[--j]=0,new M(N)}(t,this.n.bitLength()+7>>3);if(r==null)return null;var o=this.doPublic(r);if(o==null)return null;var h=o.toString(16);return 1&h.length?"0"+h:h},ht.prototype.encryptOAEP=function(t,r,o){var h=function(N,U,B,K){var J=O.crypto.MessageDigest,G=O.crypto.Util,Z=null;if(B||(B="sha1"),typeof B=="string"&&(Z=J.getCanonicalAlgName(B),K=J.getHashLength(Z),B=function(ut){return le(G.hashHex(be(ut),Z))}),N.length+2*K+2>U)throw"Message too long for RSA";var et,nt="";for(et=0;et<U-N.length-2*K-2;et+=1)nt+="\0";var x=B("")+nt+""+N,V=new Array(K);new At().nextBytes(V);var W=Nt(V,x.length,B),z=[];for(et=0;et<x.length;et+=1)z[et]=x.charCodeAt(et)^W.charCodeAt(et);var tt=Nt(z,V.length,B),it=[0];for(et=0;et<V.length;et+=1)it[et+1]=V[et]^tt.charCodeAt(et);return new M(it.concat(z))}(t,this.n.bitLength()+7>>3,r,o);if(h==null)return null;var _=this.doPublic(h);if(_==null)return null;var F=_.toString(16);return 1&F.length?"0"+F:F},ht.prototype.type="RSA",It.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},It.prototype.toBigInteger=function(){return this.x},It.prototype.negate=function(){return new It(this.q,this.x.negate().mod(this.q))},It.prototype.add=function(t){return new It(this.q,this.x.add(t.toBigInteger()).mod(this.q))},It.prototype.subtract=function(t){return new It(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},It.prototype.multiply=function(t){return new It(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},It.prototype.square=function(){return new It(this.q,this.x.square().mod(this.q))},It.prototype.divide=function(t){return new It(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},Pt.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Pt.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Pt.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(M.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(M.ZERO))},Pt.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(M.ZERO)&&!this.y.toBigInteger().equals(M.ZERO)},Pt.prototype.negate=function(){return new Pt(this.curve,this.x,this.y.negate(),this.z)},Pt.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),o=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(M.ZERO.equals(o))return M.ZERO.equals(r)?this.twice():this.curve.getInfinity();var h=new M("3"),_=this.x.toBigInteger(),F=this.y.toBigInteger(),j=(t.x.toBigInteger(),t.y.toBigInteger(),o.square()),N=j.multiply(o),U=_.multiply(j),B=r.square().multiply(this.z),K=B.subtract(U.shiftLeft(1)).multiply(t.z).subtract(N).multiply(o).mod(this.curve.q),J=U.multiply(h).multiply(r).subtract(F.multiply(N)).subtract(B.multiply(r)).multiply(t.z).add(r.multiply(N)).mod(this.curve.q),G=N.multiply(this.z).multiply(t.z).mod(this.curve.q);return new Pt(this.curve,this.curve.fromBigInteger(K),this.curve.fromBigInteger(J),G)},Pt.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var t=new M("3"),r=this.x.toBigInteger(),o=this.y.toBigInteger(),h=o.multiply(this.z),_=h.multiply(o).mod(this.curve.q),F=this.curve.a.toBigInteger(),j=r.square().multiply(t);M.ZERO.equals(F)||(j=j.add(this.z.square().multiply(F)));var N=(j=j.mod(this.curve.q)).square().subtract(r.shiftLeft(3).multiply(_)).shiftLeft(1).multiply(h).mod(this.curve.q),U=j.multiply(t).multiply(r).subtract(_.shiftLeft(1)).shiftLeft(2).multiply(_).subtract(j.square().multiply(j)).mod(this.curve.q),B=h.square().multiply(h).shiftLeft(3).mod(this.curve.q);return new Pt(this.curve,this.curve.fromBigInteger(N),this.curve.fromBigInteger(U),B)},Pt.prototype.multiply=function(t){if(this.isInfinity())return this;if(t.signum()==0)return this.curve.getInfinity();var r,o=t,h=o.multiply(new M("3")),_=this.negate(),F=this,j=this.curve.q.subtract(t),N=j.multiply(new M("3")),U=new Pt(this.curve,this.x,this.y),B=U.negate();for(r=h.bitLength()-2;r>0;--r){F=F.twice();var K=h.testBit(r);K!=o.testBit(r)&&(F=F.add(K?this:_))}for(r=N.bitLength()-2;r>0;--r){U=U.twice();var J=N.testBit(r);J!=j.testBit(r)&&(U=U.add(J?U:B))}return F},Pt.prototype.multiplyTwo=function(t,r,o){var h;h=t.bitLength()>o.bitLength()?t.bitLength()-1:o.bitLength()-1;for(var _=this.curve.getInfinity(),F=this.add(r);h>=0;)_=_.twice(),t.testBit(h)?_=o.testBit(h)?_.add(F):_.add(this):o.testBit(h)&&(_=_.add(r)),--h;return _},Xt.prototype.getQ=function(){return this.q},Xt.prototype.getA=function(){return this.a},Xt.prototype.getB=function(){return this.b},Xt.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},Xt.prototype.getInfinity=function(){return this.infinity},Xt.prototype.fromBigInteger=function(t){return new It(this.q,t)},Xt.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var r=(t.length-2)/2,o=t.substr(2,r),h=t.substr(r+2,r);return new Pt(this,this.fromBigInteger(new M(o,16)),this.fromBigInteger(new M(h,16)));default:return null}},It.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Pt.prototype.getEncoded=function(e){var t=function(F,j){var N=F.toByteArrayUnsigned();if(j<N.length)N=N.slice(N.length-j);else for(;j>N.length;)N.unshift(0);return N},r=this.getX().toBigInteger(),o=this.getY().toBigInteger(),h=t(r,32);return e?o.isEven()?h.unshift(2):h.unshift(3):(h.unshift(4),h=h.concat(t(o,32))),h},Pt.decodeFrom=function(e,t){t[0];var r=t.length-1,o=t.slice(1,1+r/2),h=t.slice(1+r/2,1+r);o.unshift(0),h.unshift(0);var _=new M(o),F=new M(h);return new Pt(e,e.fromBigInteger(_),e.fromBigInteger(F))},Pt.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,o=t.substr(2,r/2),h=t.substr(2+r/2,r/2),_=new M(o,16),F=new M(h,16);return new Pt(e,e.fromBigInteger(_),e.fromBigInteger(F))},Pt.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y).divide(t),o=r.square().subtract(this.x).subtract(e.x),h=r.multiply(this.x.subtract(o)).subtract(this.y);return new Pt(this.curve,o,h)},Pt.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var e=this.curve.fromBigInteger(M.valueOf(2)),t=this.curve.fromBigInteger(M.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),o=r.square().subtract(this.x.multiply(e)),h=r.multiply(this.x.subtract(o)).subtract(this.y);return new Pt(this.curve,o,h)},Pt.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(e.signum()==0)return this.curve.getInfinity();var t,r=e,o=r.multiply(new M("3")),h=this.negate(),_=this;for(t=o.bitLength()-2;t>0;--t){_=_.twice();var F=o.testBit(t);F!=r.testBit(t)&&(_=_.add2D(F?this:h))}return _},Pt.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),o=this.curve.getB().toBigInteger(),h=this.curve.getQ(),_=t.multiply(t).mod(h),F=e.multiply(e).multiply(e).add(r.multiply(e)).add(o).mod(h);return _.equals(F)},Pt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Pt.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(M.ONE)<0||t.compareTo(e.subtract(M.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(M.ONE)<0||r.compareTo(e.subtract(M.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var me=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function o(F,j,N){return j?r[j]:String.fromCharCode(parseInt(N,16))}var h=new String(""),_=Object.hasOwnProperty;return function(F,j){var N,U,B=F.match(e),K=B[0],J=!1;K==="{"?N={}:K==="["?N=[]:(N=[],J=!0);for(var G=[N],Z=1-J,et=B.length;Z<et;++Z){var nt;switch((K=B[Z]).charCodeAt(0)){default:(nt=G[0])[U||nt.length]=+K,U=void 0;break;case 34:if((K=K.substring(1,K.length-1)).indexOf("\\")!==-1&&(K=K.replace(t,o)),nt=G[0],!U){if(!(nt instanceof Array)){U=K||h;break}U=nt.length}nt[U]=K,U=void 0;break;case 91:nt=G[0],G.unshift(nt[U||nt.length]=[]),U=void 0;break;case 93:G.shift();break;case 102:(nt=G[0])[U||nt.length]=!1,U=void 0;break;case 110:(nt=G[0])[U||nt.length]=null,U=void 0;break;case 116:(nt=G[0])[U||nt.length]=!0,U=void 0;break;case 123:nt=G[0],G.unshift(nt[U||nt.length]={}),U=void 0;break;case 125:G.shift()}}if(J){if(G.length!==1)throw new Error;N=N[0]}else if(G.length)throw new Error;return j&&(N=function x(V,W){var z=V[W];if(z&&(z===void 0?"undefined":i(z))==="object"){var tt=null;for(var it in z)if(_.call(z,it)&&z!==V){var _t=x(z,it);_t!==void 0?z[it]=_t:(tt||(tt=[]),tt.push(it))}if(tt)for(var ut=tt.length;--ut>=0;)delete z[tt[ut]]}return j.call(V,W,z)}({"":N},"")),N}}();O!==void 0&&O||(a.KJUR=O={}),O.asn1!==void 0&&O.asn1||(O.asn1={}),O.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if(t.substr(0,1)!="-")t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var o="",h=0;h<r;h++)o+="f";t=new M(o,16).xor(e).add(M.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Se(e,t)},this.newObject=function(e){var t=O.asn1,r=t.ASN1Object,o=t.DERBoolean,h=t.DERInteger,_=t.DERBitString,F=t.DEROctetString,j=t.DERNull,N=t.DERObjectIdentifier,U=t.DEREnumerated,B=t.DERUTF8String,K=t.DERNumericString,J=t.DERPrintableString,G=t.DERTeletexString,Z=t.DERIA5String,et=t.DERUTCTime,nt=t.DERGeneralizedTime,x=t.DERVisibleString,V=t.DERBMPString,W=t.DERSequence,z=t.DERSet,tt=t.DERTaggedObject,it=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var _t=Object.keys(e);if(_t.length!=1)throw new Error("key of param shall be only one.");var ut=_t[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+ut+":")==-1)throw new Error("undefined key: "+ut);if(ut=="bool")return new o(e[ut]);if(ut=="int")return new h(e[ut]);if(ut=="bitstr")return new _(e[ut]);if(ut=="octstr")return new F(e[ut]);if(ut=="null")return new j(e[ut]);if(ut=="oid")return new N(e[ut]);if(ut=="enum")return new U(e[ut]);if(ut=="utf8str")return new B(e[ut]);if(ut=="numstr")return new K(e[ut]);if(ut=="prnstr")return new J(e[ut]);if(ut=="telstr")return new G(e[ut]);if(ut=="ia5str")return new Z(e[ut]);if(ut=="utctime")return new et(e[ut]);if(ut=="gentime")return new nt(e[ut]);if(ut=="visstr")return new x(e[ut]);if(ut=="bmpstr")return new V(e[ut]);if(ut=="asn1")return new r(e[ut]);if(ut=="seq"){for(var Ut=e[ut],mt=[],xt=0;xt<Ut.length;xt++){var Gt=it(Ut[xt]);mt.push(Gt)}return new W({array:mt})}if(ut=="set"){for(Ut=e[ut],mt=[],xt=0;xt<Ut.length;xt++)Gt=it(Ut[xt]),mt.push(Gt);return new z({array:mt})}if(ut=="tag"){var Qt=e[ut];if(Object.prototype.toString.call(Qt)==="[object Array]"&&Qt.length==3){var Yt=it(Qt[2]);return new tt({tag:Qt[0],explicit:Qt[1],obj:Yt})}return new tt(Qt)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},O.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),o=(t=Math.floor(r/40)+"."+r%40,""),h=2;h<e.length;h+=2){var _=("00000000"+parseInt(e.substr(h,2),16).toString(2)).slice(-8);o+=_.substr(1,7),_.substr(0,1)=="0"&&(t=t+"."+new M(o,2).toString(10),o="")}return t},O.asn1.ASN1Util.oidIntToHex=function(e){var t=function(N){var U=N.toString(16);return U.length==1&&(U="0"+U),U},r=function(N){var U="",B=new M(N,10).toString(2),K=7-B.length%7;K==7&&(K=0);for(var J="",G=0;G<K;G++)J+="0";for(B=J+B,G=0;G<B.length-1;G+=7){var Z=B.substr(G,7);G!=B.length-7&&(Z="1"+Z),U+=t(parseInt(Z,2))}return U};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var o="",h=e.split("."),_=40*parseInt(h[0])+parseInt(h[1]);o+=t(_),h.splice(0,2);for(var F=0;F<h.length;F++)o+=r(h[F]);return o},O.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var t=this.hV.length/2,r=t.toString(16);if(r.length%2==1&&(r="0"+r),t<128)return r;var o=r.length/2;if(o>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+o).toString(16)+r},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(t){this.params=t},e!=null&&e.tlv!=null&&(this.hTLV=e.tlv,this.isModified=!1)},O.asn1.DERAbstractString=function(e){O.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Oe(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},e!==void 0&&(typeof e=="string"?this.setString(e):e.str!==void 0?this.setString(e.str):e.hex!==void 0&&this.setStringHex(e.hex))},u.lang.extend(O.asn1.DERAbstractString,O.asn1.ASN1Object),O.asn1.DERAbstractTime=function(e){O.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){var r=t.getTime()+6e4*t.getTimezoneOffset();return new Date(r)},this.formatDate=function(t,r,o){var h=this.zeroPadding,_=this.localDateToUTC(t),F=String(_.getFullYear());r=="utc"&&(F=F.substr(2,2));var j=F+h(String(_.getMonth()+1),2)+h(String(_.getDate()),2)+h(String(_.getHours()),2)+h(String(_.getMinutes()),2)+h(String(_.getSeconds()),2);if(o===!0){var N=_.getMilliseconds();if(N!=0){var U=h(String(N),3);j=j+"."+(U=U.replace(/[0]+$/,""))}}return j+"Z"},this.zeroPadding=function(t,r){return t.length>=r?t:new Array(r-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Ft(t)},this.setByDateValue=function(t,r,o,h,_,F){var j=new Date(Date.UTC(t,r-1,o,h,_,F,0));this.setByDate(j)},this.getFreshValueHex=function(){return this.hV}},u.lang.extend(O.asn1.DERAbstractTime,O.asn1.ASN1Object),O.asn1.DERAbstractStructured=function(e){O.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,e!==void 0&&e.array!==void 0&&(this.asn1Array=e.array)},u.lang.extend(O.asn1.DERAbstractStructured,O.asn1.ASN1Object),O.asn1.DERBoolean=function(e){O.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=e==0?"010100":"0101ff"},u.lang.extend(O.asn1.DERBoolean,O.asn1.ASN1Object),O.asn1.DERInteger=function(e){O.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=O.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var r=new M(String(t),10);this.setByBigInteger(r)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},e!==void 0&&(e.bigint!==void 0?this.setByBigInteger(e.bigint):e.int!==void 0?this.setByInteger(e.int):typeof e=="number"?this.setByInteger(e):e.hex!==void 0&&this.setValueHex(e.hex))},u.lang.extend(O.asn1.DERInteger,O.asn1.ASN1Object),O.asn1.DERBitString=function(e){if(e!==void 0&&e.obj!==void 0){var t=O.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}O.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(r){this.hTLV=null,this.isModified=!0,this.hV=r},this.setUnusedBitsAndHexValue=function(r,o){if(r<0||7<r)throw"unused bits shall be from 0 to 7: u = "+r;var h="0"+r;this.hTLV=null,this.isModified=!0,this.hV=h+o},this.setByBinaryString=function(r){var o=8-(r=r.replace(/0+$/,"")).length%8;o==8&&(o=0);for(var h=0;h<=o;h++)r+="0";var _="";for(h=0;h<r.length-1;h+=8){var F=r.substr(h,8),j=parseInt(F,2).toString(16);j.length==1&&(j="0"+j),_+=j}this.hTLV=null,this.isModified=!0,this.hV="0"+o+_},this.setByBooleanArray=function(r){for(var o="",h=0;h<r.length;h++)r[h]==1?o+="1":o+="0";this.setByBinaryString(o)},this.newFalseArray=function(r){for(var o=new Array(r),h=0;h<r;h++)o[h]=!1;return o},this.getFreshValueHex=function(){return this.hV},e!==void 0&&(typeof e=="string"&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):e.hex!==void 0?this.setHexValueIncludingUnusedBits(e.hex):e.bin!==void 0?this.setByBinaryString(e.bin):e.array!==void 0&&this.setByBooleanArray(e.array))},u.lang.extend(O.asn1.DERBitString,O.asn1.ASN1Object),O.asn1.DEROctetString=function(e){if(e!==void 0&&e.obj!==void 0){var t=O.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}O.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},u.lang.extend(O.asn1.DEROctetString,O.asn1.DERAbstractString),O.asn1.DERNull=function(){O.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},u.lang.extend(O.asn1.DERNull,O.asn1.ASN1Object),O.asn1.DERObjectIdentifier=function(e){O.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var r=function(h){var _=function(J){var G=J.toString(16);return G.length==1&&(G="0"+G),G},F=function(J){var G="",Z=parseInt(J,10).toString(2),et=7-Z.length%7;et==7&&(et=0);for(var nt="",x=0;x<et;x++)nt+="0";for(Z=nt+Z,x=0;x<Z.length-1;x+=7){var V=Z.substr(x,7);x!=Z.length-7&&(V="1"+V),G+=_(parseInt(V,2))}return G};try{if(!h.match(/^[0-9.]+$/))return null;var j="",N=h.split("."),U=40*parseInt(N[0],10)+parseInt(N[1],10);j+=_(U),N.splice(0,2);for(var B=0;B<N.length;B++)j+=F(N[B]);return j}catch{return null}}(t);if(r==null)throw new Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var r=O.asn1.x509.OID.name2oid(t);if(r==="")throw new Error("DERObjectIdentifier oidName undefined: "+t);this.setValueOidString(r)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){typeof t=="string"?this.setValueNameOrOid(t):t.oid!==void 0?this.setValueNameOrOid(t.oid):t.name!==void 0?this.setValueNameOrOid(t.name):t.hex!==void 0&&this.setValueHex(t.hex)},e!==void 0&&this.setByParam(e)},u.lang.extend(O.asn1.DERObjectIdentifier,O.asn1.ASN1Object),O.asn1.DEREnumerated=function(e){O.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=O.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var r=new M(String(t),10);this.setByBigInteger(r)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},e!==void 0&&(e.int!==void 0?this.setByInteger(e.int):typeof e=="number"?this.setByInteger(e):e.hex!==void 0&&this.setValueHex(e.hex))},u.lang.extend(O.asn1.DEREnumerated,O.asn1.ASN1Object),O.asn1.DERUTF8String=function(e){O.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},u.lang.extend(O.asn1.DERUTF8String,O.asn1.DERAbstractString),O.asn1.DERNumericString=function(e){O.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},u.lang.extend(O.asn1.DERNumericString,O.asn1.DERAbstractString),O.asn1.DERPrintableString=function(e){O.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},u.lang.extend(O.asn1.DERPrintableString,O.asn1.DERAbstractString),O.asn1.DERTeletexString=function(e){O.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},u.lang.extend(O.asn1.DERTeletexString,O.asn1.DERAbstractString),O.asn1.DERIA5String=function(e){O.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},u.lang.extend(O.asn1.DERIA5String,O.asn1.DERAbstractString),O.asn1.DERVisibleString=function(e){O.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},u.lang.extend(O.asn1.DERVisibleString,O.asn1.DERAbstractString),O.asn1.DERBMPString=function(e){O.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},u.lang.extend(O.asn1.DERBMPString,O.asn1.DERAbstractString),O.asn1.DERUTCTime=function(e){O.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=Ft(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ft(this.s)),this.hV},e!==void 0&&(e.str!==void 0?this.setString(e.str):typeof e=="string"&&e.match(/^[0-9]{12}Z$/)?this.setString(e):e.hex!==void 0?this.setStringHex(e.hex):e.date!==void 0&&this.setByDate(e.date))},u.lang.extend(O.asn1.DERUTCTime,O.asn1.DERAbstractTime),O.asn1.DERGeneralizedTime=function(e){O.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ft(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ft(this.s)),this.hV},e!==void 0&&(e.str!==void 0?this.setString(e.str):typeof e=="string"&&e.match(/^[0-9]{14}Z$/)?this.setString(e):e.hex!==void 0?this.setStringHex(e.hex):e.date!==void 0&&this.setByDate(e.date),e.millis===!0&&(this.withMillis=!0))},u.lang.extend(O.asn1.DERGeneralizedTime,O.asn1.DERAbstractTime),O.asn1.DERSequence=function(e){O.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var t="",r=0;r<this.asn1Array.length;r++)t+=this.asn1Array[r].getEncodedHex();return this.hV=t,this.hV}},u.lang.extend(O.asn1.DERSequence,O.asn1.DERAbstractStructured),O.asn1.DERSet=function(e){O.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,r=0;r<this.asn1Array.length;r++){var o=this.asn1Array[r];t.push(o.getEncodedHex())}return this.sortFlag==1&&t.sort(),this.hV=t.join(""),this.hV},e!==void 0&&e.sortflag!==void 0&&e.sortflag==0&&(this.sortFlag=!1)},u.lang.extend(O.asn1.DERSet,O.asn1.DERAbstractStructured),O.asn1.DERTaggedObject=function(e){O.asn1.DERTaggedObject.superclass.constructor.call(this);var t=O.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(r,o,h){this.hT=o,this.isExplicit=r,this.asn1Object=h,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=h.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,o),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(r){r.tag!=null&&(this.hT=r.tag),r.explicit!=null&&(this.isExplicit=r.explicit),r.tage!=null&&(this.hT=r.tage,this.isExplicit=!0),r.tagi!=null&&(this.hT=r.tagi,this.isExplicit=!1),r.obj!=null&&(r.obj instanceof t.ASN1Object?(this.asn1Object=r.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):i(r.obj)=="object"&&(this.asn1Object=t.ASN1Util.newObject(r.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},e!=null&&this.setByParam(e)},u.lang.extend(O.asn1.DERTaggedObject,O.asn1.ASN1Object);var O,Ae,ge,st=new function(){};function qt(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function Wt(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function zt(e){for(var t="",r=0;r<e.length;r++){var o=e[r].toString(16);o.length==1&&(o="0"+o),t+=o}return t}function Ft(e){return zt(qt(e))}function Ht(e){return e=(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Kt(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e=(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function Dt(e){return e.length%2==1&&(e="0"+e),Ht(X(e))}function Bt(e){return Q(Kt(e))}function Oe(e){return Pr(Cr(e))}function re(e){return decodeURIComponent(kr(e))}function le(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function be(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function Ye(e){return X(e)}function rn(e){var t=Ye(e).replace(/(.{64})/g,`$1\r
`);return t=t.replace(/\r\n$/,"")}function qn(e){return Q(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Se(e,t){return"-----BEGIN "+t+`-----\r
`+rn(e)+`\r
-----END `+t+`-----\r
`}function Le(e,t){if(e.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+t;return qn(e=t!==void 0?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function nn(e){var t,r,o,h,_,F,j,N,U,B,K;if(K=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return N=K[1],t=parseInt(N),N.length===2&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),r=parseInt(K[2])-1,o=parseInt(K[3]),h=parseInt(K[4]),_=parseInt(K[5]),F=parseInt(K[6]),j=0,(U=K[7])!==""&&(B=(U.substr(1)+"00").substr(0,3),j=parseInt(B)),Date.UTC(t,r,o,h,_,F,j);throw"unsupported zulu format: "+e}function Wn(e){return~~(nn(e)/1e3)}function Pr(e){return e.replace(/%/g,"")}function kr(e){return e.replace(/(..)/g,"%$1")}function Jn(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var r=(e=e.toLowerCase()).split(":").length-1;if(r<2)throw t;var o=":".repeat(7-r+2),h=(e=e.replace("::",o)).split(":");if(h.length!=8)throw t;for(var _=0;_<8;_++)h[_]=("0000"+h[_]).slice(-4);return h.join("")}function zn(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)t[r]=t[r].replace(/^0+/,""),t[r]==""&&(t[r]="0");var o=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(o===null)return e.slice(1,-1);var h="";for(r=0;r<o.length;r++)o[r].length>h.length&&(h=o[r]);return(e=e.replace(h,"::")).slice(1,-1)}function on(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(e.length!=8)return e.length==32?zn(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch{throw t}}function Cr(e){for(var t=encodeURIComponent(e),r="",o=0;o<t.length;o++)t[o]=="%"?(r+=t.substr(o,3),o+=2):r=r+"%"+Ft(t[o]);return r}function $n(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function sn(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}st.getLblen=function(e,t){if(e.substr(t+2,1)!="8")return 1;var r=parseInt(e.substr(t+3,1));return r==0?-1:0<r&&r<10?r+1:-2},st.getL=function(e,t){var r=st.getLblen(e,t);return r<1?"":e.substr(t+2,2*r)},st.getVblen=function(e,t){var r;return(r=st.getL(e,t))==""?-1:(r.substr(0,1)==="8"?new M(r.substr(2),16):new M(r,16)).intValue()},st.getVidx=function(e,t){var r=st.getLblen(e,t);return r<0?r:t+2*(r+1)},st.getV=function(e,t){var r=st.getVidx(e,t),o=st.getVblen(e,t);return e.substr(r,2*o)},st.getTLV=function(e,t){return e.substr(t,2)+st.getL(e,t)+st.getV(e,t)},st.getTLVblen=function(e,t){return 2+2*st.getLblen(e,t)+2*st.getVblen(e,t)},st.getNextSiblingIdx=function(e,t){return st.getVidx(e,t)+2*st.getVblen(e,t)},st.getChildIdx=function(e,t){var r,o,h,_=st,F=[];r=_.getVidx(e,t),o=2*_.getVblen(e,t),e.substr(t,2)=="03"&&(r+=2,o-=2),h=0;for(var j=r;h<=o;){var N=_.getTLVblen(e,j);if((h+=N)<=o&&F.push(j),j+=N,h>=o)break}return F},st.getNthChildIdx=function(e,t,r){return st.getChildIdx(e,t)[r]},st.getIdxbyList=function(e,t,r,o){var h,_,F=st;return r.length==0?o!==void 0&&e.substr(t,2)!==o?-1:t:(h=r.shift())>=(_=F.getChildIdx(e,t)).length?-1:F.getIdxbyList(e,_[h],r,o)},st.getIdxbyListEx=function(e,t,r,o){var h,_,F=st;if(r.length==0)return o!==void 0&&e.substr(t,2)!==o?-1:t;h=r.shift(),_=F.getChildIdx(e,t);for(var j=0,N=0;N<_.length;N++){var U=e.substr(_[N],2);if(typeof h=="number"&&!F.isContextTag(U)&&j==h||typeof h=="string"&&F.isContextTag(U,h))return F.getIdxbyListEx(e,_[N],r,o);F.isContextTag(U)||j++}return-1},st.getTLVbyList=function(e,t,r,o){var h=st,_=h.getIdxbyList(e,t,r,o);return _==-1||_>=e.length?null:h.getTLV(e,_)},st.getTLVbyListEx=function(e,t,r,o){var h=st,_=h.getIdxbyListEx(e,t,r,o);return _==-1?null:h.getTLV(e,_)},st.getVbyList=function(e,t,r,o,h){var _,F,j=st;return(_=j.getIdxbyList(e,t,r,o))==-1||_>=e.length?null:(F=j.getV(e,_),h===!0&&(F=F.substr(2)),F)},st.getVbyListEx=function(e,t,r,o,h){var _,F,j=st;return(_=j.getIdxbyListEx(e,t,r,o))==-1?null:(F=j.getV(e,_),e.substr(_,2)=="03"&&h!==!1&&(F=F.substr(2)),F)},st.getInt=function(e,t,r){r==null&&(r=-1);try{var o=e.substr(t,2);if(o!="02"&&o!="03")return r;var h=st.getV(e,t);return o=="02"?parseInt(h,16):function(F){try{var j=F.substr(0,2);if(j=="00")return parseInt(F.substr(2),16);var N=parseInt(j,16),U=F.substr(2),B=parseInt(U,16).toString(2);return B=="0"&&(B="00000000"),B=B.slice(0,0-N),parseInt(B,2)}catch{return-1}}(h)}catch{return r}},st.getOID=function(e,t,r){r==null&&(r=null);try{return e.substr(t,2)!="06"?r:function(h){if(!$n(h))return null;try{var _=[],F=h.substr(0,2),j=parseInt(F,16);_[0]=new String(Math.floor(j/40)),_[1]=new String(j%40);for(var N=h.substr(2),U=[],B=0;B<N.length/2;B++)U.push(parseInt(N.substr(2*B,2),16));var K=[],J="";for(B=0;B<U.length;B++)128&U[B]?J+=Gn((127&U[B]).toString(2),7):(J+=Gn((127&U[B]).toString(2),7),K.push(new String(parseInt(J,2))),J="");var G=_.join(".");return K.length>0&&(G=G+"."+K.join(".")),G}catch{return null}}(st.getV(e,t))}catch{return r}},st.getOIDName=function(e,t,r){r==null&&(r=null);try{var o=st.getOID(e,t,r);if(o==r)return r;var h=O.asn1.x509.OID.oid2name(o);return h==""?o:h}catch{return r}},st.getString=function(e,t,r){r==null&&(r=null);try{return le(st.getV(e,t))}catch{return r}},st.hextooidstr=function(e){var t=function(J,G){return J.length>=G?J:new Array(G-J.length+1).join("0")+J},r=[],o=e.substr(0,2),h=parseInt(o,16);r[0]=new String(Math.floor(h/40)),r[1]=new String(h%40);for(var _=e.substr(2),F=[],j=0;j<_.length/2;j++)F.push(parseInt(_.substr(2*j,2),16));var N=[],U="";for(j=0;j<F.length;j++)128&F[j]?U+=t((127&F[j]).toString(2),7):(U+=t((127&F[j]).toString(2),7),N.push(new String(parseInt(U,2))),U="");var B=r.join(".");return N.length>0&&(B=B+"."+N.join(".")),B},st.dump=function(e,t,r,o){var h=st,_=h.getV,F=h.dump,j=h.getChildIdx,N=e;e instanceof O.asn1.ASN1Object&&(N=e.getEncodedHex());var U=function(ut,Ut){return ut.length<=2*Ut?ut:ut.substr(0,Ut)+"..(total "+ut.length/2+"bytes).."+ut.substr(ut.length-Ut,Ut)};t===void 0&&(t={ommit_long_octet:32}),r===void 0&&(r=0),o===void 0&&(o="");var B,K=t.ommit_long_octet;if((B=N.substr(r,2))=="01")return(J=_(N,r))=="00"?o+`BOOLEAN FALSE
`:o+`BOOLEAN TRUE
`;if(B=="02")return o+"INTEGER "+U(J=_(N,r),K)+`
`;if(B=="03"){var J=_(N,r);if(h.isASN1HEX(J.substr(2))){var G=o+`BITSTRING, encapsulates
`;return G+=F(J.substr(2),t,0,o+"  ")}return o+"BITSTRING "+U(J,K)+`
`}if(B=="04")return J=_(N,r),h.isASN1HEX(J)?(G=o+`OCTETSTRING, encapsulates
`,G+=F(J,t,0,o+"  ")):o+"OCTETSTRING "+U(J,K)+`
`;if(B=="05")return o+`NULL
`;if(B=="06"){var Z=_(N,r),et=O.asn1.ASN1Util.oidHexToInt(Z),nt=O.asn1.x509.OID.oid2name(et),x=et.replace(/\./g," ");return nt!=""?o+"ObjectIdentifier "+nt+" ("+x+`)
`:o+"ObjectIdentifier ("+x+`)
`}if(B=="0a")return o+"ENUMERATED "+parseInt(_(N,r))+`
`;if(B=="0c")return o+"UTF8String '"+re(_(N,r))+`'
`;if(B=="13")return o+"PrintableString '"+re(_(N,r))+`'
`;if(B=="14")return o+"TeletexString '"+re(_(N,r))+`'
`;if(B=="16")return o+"IA5String '"+re(_(N,r))+`'
`;if(B=="17")return o+"UTCTime "+re(_(N,r))+`
`;if(B=="18")return o+"GeneralizedTime "+re(_(N,r))+`
`;if(B=="1a")return o+"VisualString '"+re(_(N,r))+`'
`;if(B=="1e")return o+"BMPString '"+re(_(N,r))+`'
`;if(B=="30"){if(N.substr(r,4)=="3000")return o+`SEQUENCE {}
`;G=o+`SEQUENCE
`;var V=t;if(((tt=j(N,r)).length==2||tt.length==3)&&N.substr(tt[0],2)=="06"&&N.substr(tt[tt.length-1],2)=="04"){nt=h.oidname(_(N,tt[0]));var W=JSON.parse(JSON.stringify(t));W.x509ExtName=nt,V=W}for(var z=0;z<tt.length;z++)G+=F(N,V,tt[z],o+"  ");return G}if(B=="31"){G=o+`SET
`;var tt=j(N,r);for(z=0;z<tt.length;z++)G+=F(N,t,tt[z],o+"  ");return G}if(128&(B=parseInt(B,16))){var it=31&B;if(32&B){for(G=o+"["+it+`]
`,tt=j(N,r),z=0;z<tt.length;z++)G+=F(N,t,tt[z],o+"  ");return G}if(J=_(N,r),st.isASN1HEX(J)){var G=o+"["+it+`]
`;return G+=F(J,t,0,o+"  ")}return(J.substr(0,8)=="68747470"||t.x509ExtName==="subjectAltName"&&it==2)&&(J=re(J)),G=o+"["+it+"] "+J+`
`}return o+"UNKNOWN("+B+") "+_(N,r)+`
`},st.isContextTag=function(e,t){var r,o;e=e.toLowerCase();try{r=parseInt(e,16)}catch{return-1}if(t===void 0)return(192&r)==128;try{return t.match(/^\[[0-9]+\]$/)!=null&&!((o=parseInt(t.substr(1,t.length-1),10))>31)&&(192&r)==128&&(31&r)==o}catch{return!1}},st.isASN1HEX=function(e){var t=st;if(e.length%2==1)return!1;var r=t.getVblen(e,0),o=e.substr(0,2),h=t.getL(e,0);return e.length-o.length-h.length==2*r},st.checkStrictDER=function(e,t,r,o,h){var _=st;if(r===void 0){if(typeof e!="string")throw new Error("not hex string");if(e=e.toLowerCase(),!O.lang.String.isHex(e))throw new Error("not hex string");r=e.length,h=(o=e.length/2)<128?1:Math.ceil(o.toString(16))+1}if(_.getL(e,t).length>2*h)throw new Error("L of TLV too long: idx="+t);var F=_.getVblen(e,t);if(F>o)throw new Error("value of L too long than hex: idx="+t);var j=_.getTLV(e,t),N=j.length-2-_.getL(e,t).length;if(N!==2*F)throw new Error("V string length and L's value not the same:"+N+"/"+2*F);if(t===0&&e.length!=j.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+j.length);var U=e.substr(t,2);if(U==="02"){var B=_.getVidx(e,t);if(e.substr(B,2)=="00"&&e.charCodeAt(B+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(U,16)){for(var K=_.getVblen(e,t),J=0,G=_.getChildIdx(e,t),Z=0;Z<G.length;Z++)J+=_.getTLV(e,G[Z]).length,_.checkStrictDER(e,G[Z],r,o,h);if(2*K!=J)throw new Error("sum of children's TLV length and L unmatch: "+2*K+"!="+J)}},st.oidname=function(e){var t=O.asn1;O.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return r===""&&(r=e),r},O!==void 0&&O||(a.KJUR=O={}),O.lang!==void 0&&O.lang||(O.lang={}),O.lang.String=function(){},typeof d=="function"?(a.utf8tob64u=Ae=function(t){return Ht(d.from(t,"utf8").toString("base64"))},a.b64utoutf8=ge=function(t){return d.from(Kt(t),"base64").toString("utf8")}):(a.utf8tob64u=Ae=function(t){return Dt(Pr(Cr(t)))},a.b64utoutf8=ge=function(t){return decodeURIComponent(kr(Bt(t)))}),O.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},O.lang.String.isHex=function(e){return $n(e)},O.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},O.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=Kt(e),O.lang.String.isBase64(e))},O.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},O.lang.String.isPrintable=function(e){return e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},O.lang.String.isIA5=function(e){return e.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},O.lang.String.isMail=function(e){return e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Gn=function(t,r,o){return o==null&&(o="0"),t.length>=r?t:new Array(r-t.length+1).join(o)+t};O!==void 0&&O||(a.KJUR=O={}),O.crypto!==void 0&&O.crypto||(O.crypto={}),O.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:T.algo.MD5,sha1:T.algo.SHA1,sha224:T.algo.SHA224,sha256:T.algo.SHA256,sha384:T.algo.SHA384,sha512:T.algo.SHA512,ripemd160:T.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(this.DIGESTINFOHEAD[t]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var o=this.getDigestInfoHex(e,t),h=r/4;if(o.length+22>h)throw"key is too short for SigAlg: keylen="+r+","+t;for(var _="0001",F="00"+o,j="",N=h-_.length-F.length,U=0;U<N;U+=2)j+="ff";return _+j+F},this.hashString=function(e,t){return new O.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new O.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ht||e instanceof O.crypto.DSA||e instanceof O.crypto.ECDSA}},O.crypto.Util.md5=function(e){return new O.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},O.crypto.Util.ripemd160=function(e){return new O.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},O.crypto.Util.SECURERANDOMGEN=new At,O.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return O.crypto.Util.SECURERANDOMGEN.nextBytes(t),zt(t)},O.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new M(O.crypto.Util.getRandomHexOfNbytes(e),16)},O.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=new Array((e-t)/8+1);return O.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],zt(r)},O.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new M(O.crypto.Util.getRandomHexOfNbits(e),16)},O.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=O.crypto.Util.getRandomBigIntegerOfNbits(t);if(e.compareTo(r)!=-1)return r}},O.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(r==1)throw"biMin is greater than biMax";if(r==0)return e;var o=t.subtract(e);return O.crypto.Util.getRandomBigIntegerZeroToMax(o).add(e)},O.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(t,r){if((t=O.crypto.MessageDigest.getCanonicalAlgName(t))!==null&&r===void 0&&(r=O.crypto.Util.DEFAULTPROVIDER[t]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)!=-1&&r=="cryptojs"){try{this.md=O.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(o){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var h=T.enc.Hex.parse(o);this.md.update(h)},this.digest=function(){return this.md.finalize().toString(T.enc.Hex)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}if(":sha256:".indexOf(t)!=-1&&r=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(o){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var h=sjcl.codec.hex.toBits(o);this.md.update(h)},this.digest=function(){var o=this.md.finalize();return sjcl.codec.hex.fromBits(o)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},e!==void 0&&e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=O.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},O.crypto.MessageDigest.getCanonicalAlgName=function(e){return typeof e=="string"&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},O.crypto.MessageDigest.getHashLength=function(e){var t=O.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(t.HASHLENGTH[r]===void 0)throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},O.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},O.crypto.Mac=function(e){this.setAlgAndProvider=function(t,r){if((t=t.toLowerCase())==null&&(t="hmacsha1"),(t=t.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+t;r===void 0&&(r=O.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+r;var o=t.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(o)!=-1&&r=="cryptojs"){try{var h=O.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[o];this.mac=T.algo.HMAC.create(h,this.pass)}catch(_){throw"setAlgAndProvider hash alg set fail hashAlg="+o+"/"+_}this.updateString=function(_){this.mac.update(_)},this.updateHex=function(_){var F=T.enc.Hex.parse(_);this.mac.update(F)},this.doFinal=function(){return this.mac.finalize().toString(T.enc.Hex)},this.doFinalString=function(_){return this.updateString(_),this.doFinal()},this.doFinalHex=function(_){return this.updateHex(_),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if(typeof t=="string"){var r=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(r=be(t)),void(this.pass=T.enc.Hex.parse(r))}if((t===void 0?"undefined":i(t))!="object")throw"KJUR.crypto.Mac unsupported password type: "+t;if(r=null,t.hex!==void 0){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;r=t.hex}if(t.utf8!==void 0&&(r=Oe(t.utf8)),t.rstr!==void 0&&(r=be(t.rstr)),t.b64!==void 0&&(r=Q(t.b64)),t.b64u!==void 0&&(r=Bt(t.b64u)),r==null)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=T.enc.Hex.parse(r)},e!==void 0&&(e.pass!==void 0&&this.setPassword(e.pass),e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=O.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},O.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var r=this.algName.match(/^(.+)with(.+)$/);r&&(this.mdAlgName=r[1].toLowerCase(),this.pubkeyAlgName=r[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(r,o){for(var h="",_=o/4-r.length,F=0;F<_;F++)h+="0";return h+r},this.setAlgAndProvider=function(r,o){if(this._setAlgNames(),o!="cryptojs/jsrsa")throw new Error("provider not supported: "+o);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new O.crypto.MessageDigest({alg:this.mdAlgName})}catch(h){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+h)}this.init=function(h,_){var F=null;try{F=_===void 0?ie.getKey(h):ie.getKey(h,_)}catch(j){throw"init failed:"+j}if(F.isPrivate===!0)this.prvKey=F,this.state="SIGN";else{if(F.isPublic!==!0)throw"init failed.:"+F;this.pubKey=F,this.state="VERIFY"}},this.updateString=function(h){this.md.updateString(h)},this.updateHex=function(h){this.md.updateHex(h)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&O.crypto.ECDSA!==void 0&&(this.prvKey=new O.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ht&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ht&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof O.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof O.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(h){return this.updateString(h),this.sign()},this.signHex=function(h){return this.updateHex(h),this.sign()},this.verify=function(h){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&O.crypto.ECDSA!==void 0&&(this.pubKey=new O.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ht&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,h,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ht&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,h);if(O.crypto.ECDSA!==void 0&&this.pubKey instanceof O.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,h);if(O.crypto.DSA!==void 0&&this.pubKey instanceof O.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,h);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(r,o){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(r){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(r){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(r){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(r){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,e!==void 0&&(e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0?this.provName=O.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),e.psssaltlen!==void 0&&(this.pssSaltLen=e.psssaltlen),e.prvkeypem!==void 0)){if(e.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{t=ie.getKey(e.prvkeypem),this.init(t)}catch(r){throw"fatal error to load pem private key: "+r}}},O.crypto.Cipher=function(e){},O.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof ht&&t.isPublic){var o=O.crypto.Cipher.getAlgByKeyAndName(t,r);if(o==="RSA")return t.encrypt(e);if(o==="RSAOAEP")return t.encryptOAEP(e,"sha1");var h=o.match(/^RSAOAEP(\d+)$/);if(h!==null)return t.encryptOAEP(e,"sha"+h[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},O.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof ht&&t.isPrivate){var o=O.crypto.Cipher.getAlgByKeyAndName(t,r);if(o==="RSA")return t.decrypt(e);if(o==="RSAOAEP")return t.decryptOAEP(e,"sha1");var h=o.match(/^RSAOAEP(\d+)$/);if(h!==null)return t.decryptOAEP(e,"sha"+h[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},O.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ht){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t)!=-1)return t;if(t==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},O.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},O!==void 0&&O||(a.KJUR=O={}),O.crypto!==void 0&&O.crypto||(O.crypto={}),O.crypto.ECDSA=function(e){var t=Error,r=M,o=Pt,h=O.crypto.ECDSA,_=O.crypto.ECParameterDB,F=h.getName,j=st,N=j.getVbyListEx,U=j.isASN1HEX,B=new At;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(K){return new r(K.bitLength(),B).mod(K.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(K){this.ecparams=_.getByName(K),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=K},this.setPrivateKeyHex=function(K){this.isPrivate=!0,this.prvKeyHex=K},this.setPublicKeyHex=function(K){this.isPublic=!0,this.pubKeyHex=K},this.getPublicKeyXYHex=function(){var K=this.pubKeyHex;if(K.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var J=this.ecparams.keylen/4;if(K.length!==2+2*J)throw"malformed public key hex length";var G={};return G.x=K.substr(2,J),G.y=K.substr(2+J),G},this.getShortNISTPCurveName=function(){var K=this.curveName;return K==="secp256r1"||K==="NIST P-256"||K==="P-256"||K==="prime256v1"?"P-256":K==="secp384r1"||K==="NIST P-384"||K==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var K=this.ecparams.n,J=this.getBigRandom(K),G=this.ecparams.G.multiply(J),Z=G.getX().toBigInteger(),et=G.getY().toBigInteger(),nt=this.ecparams.keylen/4,x=("0000000000"+J.toString(16)).slice(-nt),V="04"+("0000000000"+Z.toString(16)).slice(-nt)+("0000000000"+et.toString(16)).slice(-nt);return this.setPrivateKeyHex(x),this.setPublicKeyHex(V),{ecprvhex:x,ecpubhex:V}},this.signWithMessageHash=function(K){return this.signHex(K,this.prvKeyHex)},this.signHex=function(K,J){var G=new r(J,16),Z=this.ecparams.n,et=new r(K.substring(0,this.ecparams.keylen/4),16);do var nt=this.getBigRandom(Z),x=this.ecparams.G.multiply(nt).getX().toBigInteger().mod(Z);while(x.compareTo(r.ZERO)<=0);var V=nt.modInverse(Z).multiply(et.add(G.multiply(x))).mod(Z);return h.biRSSigToASN1Sig(x,V)},this.sign=function(K,J){var G=J,Z=this.ecparams.n,et=r.fromByteArrayUnsigned(K);do var nt=this.getBigRandom(Z),x=this.ecparams.G.multiply(nt).getX().toBigInteger().mod(Z);while(x.compareTo(M.ZERO)<=0);var V=nt.modInverse(Z).multiply(et.add(G.multiply(x))).mod(Z);return this.serializeSig(x,V)},this.verifyWithMessageHash=function(K,J){return this.verifyHex(K,J,this.pubKeyHex)},this.verifyHex=function(K,J,G){try{var Z,et,nt=h.parseSigHex(J);Z=nt.r,et=nt.s;var x=o.decodeFromHex(this.ecparams.curve,G),V=new r(K.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(V,Z,et,x)}catch{return!1}},this.verify=function(K,J,G){var Z,et,nt;if(Bitcoin.Util.isArray(J)){var x=this.parseSig(J);Z=x.r,et=x.s}else{if((J===void 0?"undefined":i(J))!=="object"||!J.r||!J.s)throw"Invalid value for signature";Z=J.r,et=J.s}if(G instanceof Pt)nt=G;else{if(!Bitcoin.Util.isArray(G))throw"Invalid format for pubkey value, must be byte array or ECPointFp";nt=o.decodeFrom(this.ecparams.curve,G)}var V=r.fromByteArrayUnsigned(K);return this.verifyRaw(V,Z,et,nt)},this.verifyRaw=function(K,J,G,Z){var et=this.ecparams.n,nt=this.ecparams.G;if(J.compareTo(r.ONE)<0||J.compareTo(et)>=0||G.compareTo(r.ONE)<0||G.compareTo(et)>=0)return!1;var x=G.modInverse(et),V=K.multiply(x).mod(et),W=J.multiply(x).mod(et);return nt.multiply(V).add(Z.multiply(W)).getX().toBigInteger().mod(et).equals(J)},this.serializeSig=function(K,J){var G=K.toByteArraySigned(),Z=J.toByteArraySigned(),et=[];return et.push(2),et.push(G.length),(et=et.concat(G)).push(2),et.push(Z.length),(et=et.concat(Z)).unshift(et.length),et.unshift(48),et},this.parseSig=function(K){var J;if(K[0]!=48)throw new Error("Signature not a valid DERSequence");if(K[J=2]!=2)throw new Error("First element in signature must be a DERInteger");var G=K.slice(J+2,J+2+K[J+1]);if(K[J+=2+K[J+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var Z=K.slice(J+2,J+2+K[J+1]);return J+=2+K[J+1],{r:r.fromByteArrayUnsigned(G),s:r.fromByteArrayUnsigned(Z)}},this.parseSigCompact=function(K){if(K.length!==65)throw"Signature has the wrong length";var J=K[0]-27;if(J<0||J>7)throw"Invalid signature type";var G=this.ecparams.n;return{r:r.fromByteArrayUnsigned(K.slice(1,33)).mod(G),s:r.fromByteArrayUnsigned(K.slice(33,65)).mod(G),i:J}},this.readPKCS5PrvKeyHex=function(K){if(U(K)===!1)throw new Error("not ASN.1 hex string");var J,G,Z;try{J=N(K,0,["[0]",0],"06"),G=N(K,0,[1],"04");try{Z=N(K,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=F(J),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(Z),this.setPrivateKeyHex(G),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(K){if(U(K)===!1)throw new t("not ASN.1 hex string");var J,G,Z;try{N(K,0,[1,0],"06"),J=N(K,0,[1,1],"06"),G=N(K,0,[2,0,1],"04");try{Z=N(K,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=F(J),this.curveName===void 0)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Z),this.setPrivateKeyHex(G),this.isPublic=!1},this.readPKCS8PubKeyHex=function(K){if(U(K)===!1)throw new t("not ASN.1 hex string");var J,G;try{N(K,0,[0,0],"06"),J=N(K,0,[0,1],"06"),G=N(K,0,[1],"03")}catch{throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=F(J),this.curveName===null)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(G)},this.readCertPubKeyHex=function(K,J){if(U(K)===!1)throw new t("not ASN.1 hex string");var G,Z;try{G=N(K,0,[0,5,0,1],"06"),Z=N(K,0,[0,5,1],"03")}catch{throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=F(G),this.curveName===null)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Z)},e!==void 0&&e.curve!==void 0&&(this.curveName=e.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),e!==void 0&&(e.prv!==void 0&&this.setPrivateKeyHex(e.prv),e.pub!==void 0&&this.setPublicKeyHex(e.pub))},O.crypto.ECDSA.parseSigHex=function(e){var t=O.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new M(t.r,16),s:new M(t.s,16)}},O.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=st,r=t.getChildIdx,o=t.getV;if(t.checkStrictDER(e,0),e.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var h=r(e,0);if(h.length!=2)throw new Error("signature shall have two elements");var _=h[0],F=h[1];if(e.substr(_,2)!="02")throw new Error("1st item not ASN.1 integer");if(e.substr(F,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:o(e,_),s:o(e,F)}},O.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=O.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,o=t.s;if(r.substr(0,2)=="00"&&r.length%32==2&&(r=r.substr(2)),o.substr(0,2)=="00"&&o.length%32==2&&(o=o.substr(2)),r.length%32==30&&(r="00"+r),o.length%32==30&&(o="00"+o),r.length%32!=0)throw"unknown ECDSA sig r length error";if(o.length%32!=0)throw"unknown ECDSA sig s length error";return r+o},O.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return O.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},O.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new M(e,16),o=new M(t,16);return O.crypto.ECDSA.biRSSigToASN1Sig(r,o)},O.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=O.asn1,o=new r.DERInteger({bigint:e}),h=new r.DERInteger({bigint:t});return new r.DERSequence({array:[o,h]}).getEncodedHex()},O.crypto.ECDSA.getName=function(e){return e==="2b8104001f"?"secp192k1":e==="2a8648ce3d030107"?"secp256r1":e==="2b8104000a"?"secp256k1":e==="2b81040021"?"secp224r1":e==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)!==-1?"secp256r1":"|secp256k1|".indexOf(e)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(e)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(e)!==-1?"secp384r1":null},O!==void 0&&O||(a.KJUR=O={}),O.crypto!==void 0&&O.crypto||(O.crypto={}),O.crypto.ECParameterDB=new function(){var e={},t={};function r(o){return new M(o,16)}this.getByName=function(o){var h=o;if(t[h]!==void 0&&(h=t[o]),e[h]!==void 0)return e[h];throw"unregistered EC curve name: "+h},this.regist=function(o,h,_,F,j,N,U,B,K,J,G,Z){e[o]={};var et=r(_),nt=r(F),x=r(j),V=r(N),W=r(U),z=new Xt(et,nt,x),tt=z.decodePointHex("04"+B+K);e[o].name=o,e[o].keylen=h,e[o].curve=z,e[o].G=tt,e[o].n=V,e[o].h=W,e[o].oid=G,e[o].info=Z;for(var it=0;it<J.length;it++)t[J[it]]=o}},O.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),O.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),O.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),O.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),O.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),O.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),O.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),O.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),O.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),O.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var ie=function(){var e=function(U,B,K){return t(T.AES,U,B,K)},t=function(U,B,K,J){var G=T.enc.Hex.parse(B),Z=T.enc.Hex.parse(K),et=T.enc.Hex.parse(J),nt={};nt.key=Z,nt.iv=et,nt.ciphertext=G;var x=U.decrypt(nt,Z,{iv:et});return T.enc.Hex.stringify(x)},r=function(U,B,K){return o(T.AES,U,B,K)},o=function(U,B,K,J){var G=T.enc.Hex.parse(B),Z=T.enc.Hex.parse(K),et=T.enc.Hex.parse(J),nt=U.encrypt(G,Z,{iv:et}),x=T.enc.Hex.parse(nt.toString());return T.enc.Base64.stringify(x)},h={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(U,B,K){return t(T.TripleDES,U,B,K)},eproc:function(U,B,K){return o(T.TripleDES,U,B,K)},keylen:24,ivlen:8},"DES-CBC":{proc:function(U,B,K){return t(T.DES,U,B,K)},eproc:function(U,B,K){return o(T.DES,U,B,K)},keylen:8,ivlen:8}},_=function(U){var B={},K=U.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));K&&(B.cipher=K[1],B.ivsalt=K[2]);var J=U.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));J&&(B.type=J[1]);var G=-1,Z=0;U.indexOf(`\r
\r
`)!=-1&&(G=U.indexOf(`\r
\r
`),Z=2),U.indexOf(`

`)!=-1&&(G=U.indexOf(`

`),Z=1);var et=U.indexOf("-----END");if(G!=-1&&et!=-1){var nt=U.substring(G+2*Z,et-Z);nt=nt.replace(/\s+/g,""),B.data=nt}return B},F=function(U,B,K){for(var J=K.substring(0,16),G=T.enc.Hex.parse(J),Z=T.enc.Utf8.parse(B),et=h[U].keylen+h[U].ivlen,nt="",x=null;;){var V=T.algo.MD5.create();if(x!=null&&V.update(x),V.update(Z),V.update(G),x=V.finalize(),(nt+=T.enc.Hex.stringify(x)).length>=2*et)break}var W={};return W.keyhex=nt.substr(0,2*h[U].keylen),W.ivhex=nt.substr(2*h[U].keylen,2*h[U].ivlen),W},j=function(U,B,K,J){var G=T.enc.Base64.parse(U),Z=T.enc.Hex.stringify(G);return(0,h[B].proc)(Z,K,J)};return{version:"1.0.0",parsePKCS5PEM:function(U){return _(U)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(U,B,K){return F(U,B,K)},decryptKeyB64:function(U,B,K,J){return j(U,B,K,J)},getDecryptedKeyHex:function(U,B){var K=_(U),J=K.cipher,G=K.ivsalt,Z=K.data,et=F(J,B,G).keyhex;return j(Z,J,et,G)},getEncryptedPKCS5PEMFromPrvKeyHex:function(U,B,K,J,G){var Z="";if(J!==void 0&&J!=null||(J="AES-256-CBC"),h[J]===void 0)throw"KEYUTIL unsupported algorithm: "+J;G!==void 0&&G!=null||(G=function(x){var V=T.lib.WordArray.random(x);return T.enc.Hex.stringify(V)}(h[J].ivlen).toUpperCase());var et=function(x,V,W,z){return(0,h[V].eproc)(x,W,z)}(B,J,F(J,K,G).keyhex,G);return Z="-----BEGIN "+U+` PRIVATE KEY-----\r
`,Z+=`Proc-Type: 4,ENCRYPTED\r
`,Z+="DEK-Info: "+J+","+G+`\r
`,Z+=`\r
`,Z+=et.replace(/(.{64})/g,`$1\r
`),Z+=`\r
-----END `+U+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(U){var B=st,K=B.getChildIdx,J=B.getV,G={},Z=K(U,0);if(Z.length!=2)throw"malformed format: SEQUENCE(0).items != 2: "+Z.length;G.ciphertext=J(U,Z[1]);var et=K(U,Z[0]);if(et.length!=2)throw"malformed format: SEQUENCE(0.0).items != 2: "+et.length;if(J(U,et[0])!="2a864886f70d01050d")throw"this only supports pkcs5PBES2";var nt=K(U,et[1]);if(et.length!=2)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+nt.length;var x=K(U,nt[1]);if(x.length!=2)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+x.length;if(J(U,x[0])!="2a864886f70d0307")throw"this only supports TripleDES";G.encryptionSchemeAlg="TripleDES",G.encryptionSchemeIV=J(U,x[1]);var V=K(U,nt[0]);if(V.length!=2)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+V.length;if(J(U,V[0])!="2a864886f70d01050c")throw"this only supports pkcs5PBKDF2";var W=K(U,V[1]);if(W.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+W.length;G.pbkdf2Salt=J(U,W[0]);var z=J(U,W[1]);try{G.pbkdf2Iter=parseInt(z,16)}catch{throw"malformed format pbkdf2Iter: "+z}return G},getPBKDF2KeyHexFromParam:function(U,B){var K=T.enc.Hex.parse(U.pbkdf2Salt),J=U.pbkdf2Iter,G=T.PBKDF2(B,K,{keySize:6,iterations:J});return T.enc.Hex.stringify(G)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(U,B){var K=Le(U,"ENCRYPTED PRIVATE KEY"),J=this.parseHexOfEncryptedPKCS8(K),G=ie.getPBKDF2KeyHexFromParam(J,B),Z={};Z.ciphertext=T.enc.Hex.parse(J.ciphertext);var et=T.enc.Hex.parse(G),nt=T.enc.Hex.parse(J.encryptionSchemeIV),x=T.TripleDES.decrypt(Z,et,{iv:nt});return T.enc.Hex.stringify(x)},getKeyFromEncryptedPKCS8PEM:function(U,B){var K=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(U,B);return this.getKeyFromPlainPrivatePKCS8Hex(K)},parsePlainPrivatePKCS8Hex:function(U){var B=st,K=B.getChildIdx,J=B.getV,G={algparam:null};if(U.substr(0,2)!="30")throw"malformed plain PKCS8 private key(code:001)";var Z=K(U,0);if(Z.length!=3)throw"malformed plain PKCS8 private key(code:002)";if(U.substr(Z[1],2)!="30")throw"malformed PKCS8 private key(code:003)";var et=K(U,Z[1]);if(et.length!=2)throw"malformed PKCS8 private key(code:004)";if(U.substr(et[0],2)!="06")throw"malformed PKCS8 private key(code:005)";if(G.algoid=J(U,et[0]),U.substr(et[1],2)=="06"&&(G.algparam=J(U,et[1])),U.substr(Z[2],2)!="04")throw"malformed PKCS8 private key(code:006)";return G.keyidx=B.getVidx(U,Z[2]),G},getKeyFromPlainPrivatePKCS8PEM:function(U){var B=Le(U,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(B)},getKeyFromPlainPrivatePKCS8Hex:function(U){var B,K=this.parsePlainPrivatePKCS8Hex(U);if(K.algoid=="2a864886f70d010101")B=new ht;else if(K.algoid=="2a8648ce380401")B=new O.crypto.DSA;else{if(K.algoid!="2a8648ce3d0201")throw"unsupported private key algorithm";B=new O.crypto.ECDSA}return B.readPKCS8PrvKeyHex(U),B},_getKeyFromPublicPKCS8Hex:function(U){var B,K=st.getVbyList(U,0,[0,0],"06");if(K==="2a864886f70d010101")B=new ht;else if(K==="2a8648ce380401")B=new O.crypto.DSA;else{if(K!=="2a8648ce3d0201")throw"unsupported PKCS#8 public key hex";B=new O.crypto.ECDSA}return B.readPKCS8PubKeyHex(U),B},parsePublicRawRSAKeyHex:function(U){var B=st,K=B.getChildIdx,J=B.getV,G={};if(U.substr(0,2)!="30")throw"malformed RSA key(code:001)";var Z=K(U,0);if(Z.length!=2)throw"malformed RSA key(code:002)";if(U.substr(Z[0],2)!="02")throw"malformed RSA key(code:003)";if(G.n=J(U,Z[0]),U.substr(Z[1],2)!="02")throw"malformed RSA key(code:004)";return G.e=J(U,Z[1]),G},parsePublicPKCS8Hex:function(U){var B=st,K=B.getChildIdx,J=B.getV,G={algparam:null},Z=K(U,0);if(Z.length!=2)throw"outer DERSequence shall have 2 elements: "+Z.length;var et=Z[0];if(U.substr(et,2)!="30")throw"malformed PKCS8 public key(code:001)";var nt=K(U,et);if(nt.length!=2)throw"malformed PKCS8 public key(code:002)";if(U.substr(nt[0],2)!="06")throw"malformed PKCS8 public key(code:003)";if(G.algoid=J(U,nt[0]),U.substr(nt[1],2)=="06"?G.algparam=J(U,nt[1]):U.substr(nt[1],2)=="30"&&(G.algparam={},G.algparam.p=B.getVbyList(U,nt[1],[0],"02"),G.algparam.q=B.getVbyList(U,nt[1],[1],"02"),G.algparam.g=B.getVbyList(U,nt[1],[2],"02")),U.substr(Z[1],2)!="03")throw"malformed PKCS8 public key(code:004)";return G.key=J(U,Z[1]).substr(2),G}}}();ie.getKey=function(e,t,r){var o=(nt=st).getChildIdx,h=(nt.getV,nt.getVbyList),_=O.crypto,F=_.ECDSA,j=_.DSA,N=ht,U=Le,B=ie;if(N!==void 0&&e instanceof N||F!==void 0&&e instanceof F||j!==void 0&&e instanceof j)return e;if(e.curve!==void 0&&e.xy!==void 0&&e.d===void 0)return new F({pub:e.xy,curve:e.curve});if(e.curve!==void 0&&e.d!==void 0)return new F({prv:e.d,curve:e.curve});if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d===void 0)return(xt=new N).setPublic(e.n,e.e),xt;if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.co!==void 0&&e.qi===void 0)return(xt=new N).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),xt;if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p===void 0)return(xt=new N).setPrivate(e.n,e.e,e.d),xt;if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x===void 0)return(xt=new j).setPublic(e.p,e.q,e.g,e.y),xt;if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x!==void 0)return(xt=new j).setPrivate(e.p,e.q,e.g,e.y,e.x),xt;if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d===void 0)return(xt=new N).setPublic(Bt(e.n),Bt(e.e)),xt;if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.qi!==void 0)return(xt=new N).setPrivateEx(Bt(e.n),Bt(e.e),Bt(e.d),Bt(e.p),Bt(e.q),Bt(e.dp),Bt(e.dq),Bt(e.qi)),xt;if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0)return(xt=new N).setPrivate(Bt(e.n),Bt(e.e),Bt(e.d)),xt;if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d===void 0){var K=(mt=new F({curve:e.crv})).ecparams.keylen/4,J="04"+("0000000000"+Bt(e.x)).slice(-K)+("0000000000"+Bt(e.y)).slice(-K);return mt.setPublicKeyHex(J),mt}if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d!==void 0){K=(mt=new F({curve:e.crv})).ecparams.keylen/4,J="04"+("0000000000"+Bt(e.x)).slice(-K)+("0000000000"+Bt(e.y)).slice(-K);var G=("0000000000"+Bt(e.d)).slice(-K);return mt.setPublicKeyHex(J),mt.setPrivateKeyHex(G),mt}if(r==="pkcs5prv"){var Z,et=e,nt=st;if((Z=o(et,0)).length===9)(xt=new N).readPKCS5PrvKeyHex(et);else if(Z.length===6)(xt=new j).readPKCS5PrvKeyHex(et);else{if(!(Z.length>2&&et.substr(Z[1],2)==="04"))throw"unsupported PKCS#1/5 hexadecimal key";(xt=new F).readPKCS5PrvKeyHex(et)}return xt}if(r==="pkcs8prv")return xt=B.getKeyFromPlainPrivatePKCS8Hex(e);if(r==="pkcs8pub")return B._getKeyFromPublicPKCS8Hex(e);if(r==="x509pub")return oe.getPublicKeyFromCertHex(e);if(e.indexOf("-END CERTIFICATE-",0)!=-1||e.indexOf("-END X509 CERTIFICATE-",0)!=-1||e.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return oe.getPublicKeyFromCertPEM(e);if(e.indexOf("-END PUBLIC KEY-")!=-1){var x=Le(e,"PUBLIC KEY");return B._getKeyFromPublicPKCS8Hex(x)}if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var V=U(e,"RSA PRIVATE KEY");return B.getKey(V,null,"pkcs5prv")}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var W=h(Yt=U(e,"DSA PRIVATE KEY"),0,[1],"02"),z=h(Yt,0,[2],"02"),tt=h(Yt,0,[3],"02"),it=h(Yt,0,[4],"02"),_t=h(Yt,0,[5],"02");return(xt=new j).setPrivate(new M(W,16),new M(z,16),new M(tt,16),new M(it,16),new M(_t,16)),xt}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1)return V=U(e,"EC PRIVATE KEY"),B.getKey(V,null,"pkcs5prv");if(e.indexOf("-END PRIVATE KEY-")!=-1)return B.getKeyFromPlainPrivatePKCS8PEM(e);if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var ut=B.getDecryptedKeyHex(e,t),Ut=new ht;return Ut.readPKCS5PrvKeyHex(ut),Ut}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var mt,xt=h(Yt=B.getDecryptedKeyHex(e,t),0,[1],"04"),Gt=h(Yt,0,[2,0],"06"),Qt=h(Yt,0,[3,0],"03").substr(2);if(O.crypto.OID.oidhex2name[Gt]===void 0)throw"undefined OID(hex) in KJUR.crypto.OID: "+Gt;return(mt=new F({curve:O.crypto.OID.oidhex2name[Gt]})).setPublicKeyHex(Qt),mt.setPrivateKeyHex(xt),mt.isPublic=!1,mt}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var Yt;return W=h(Yt=B.getDecryptedKeyHex(e,t),0,[1],"02"),z=h(Yt,0,[2],"02"),tt=h(Yt,0,[3],"02"),it=h(Yt,0,[4],"02"),_t=h(Yt,0,[5],"02"),(xt=new j).setPrivate(new M(W,16),new M(z,16),new M(tt,16),new M(it,16),new M(_t,16)),xt}if(e.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return B.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},ie.generateKeypair=function(e,t){if(e=="RSA"){var r=t;(F=new ht).generate(r,"10001"),F.isPrivate=!0,F.isPublic=!0;var o=new ht,h=F.n.toString(16),_=F.e.toString(16);return o.setPublic(h,_),o.isPrivate=!1,o.isPublic=!0,(j={}).prvKeyObj=F,j.pubKeyObj=o,j}if(e=="EC"){var F,j,N=t,U=new O.crypto.ECDSA({curve:N}).generateKeyPairHex();return(F=new O.crypto.ECDSA({curve:N})).setPublicKeyHex(U.ecpubhex),F.setPrivateKeyHex(U.ecprvhex),F.isPrivate=!0,F.isPublic=!1,(o=new O.crypto.ECDSA({curve:N})).setPublicKeyHex(U.ecpubhex),o.isPrivate=!1,o.isPublic=!0,(j={}).prvKeyObj=F,j.pubKeyObj=o,j}throw"unknown algorithm: "+e},ie.getPEM=function(e,t,r,o,h,_){var F=O,j=F.asn1,N=j.DERObjectIdentifier,U=j.DERInteger,B=j.ASN1Util.newObject,K=j.x509.SubjectPublicKeyInfo,J=F.crypto,G=J.DSA,Z=J.ECDSA,et=ht;function nt(mt){return B({seq:[{int:0},{int:{bigint:mt.n}},{int:mt.e},{int:{bigint:mt.d}},{int:{bigint:mt.p}},{int:{bigint:mt.q}},{int:{bigint:mt.dmp1}},{int:{bigint:mt.dmq1}},{int:{bigint:mt.coeff}}]})}function x(mt){return B({seq:[{int:1},{octstr:{hex:mt.prvKeyHex}},{tag:["a0",!0,{oid:{name:mt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+mt.pubKeyHex}}]}]})}function V(mt){return B({seq:[{int:0},{int:{bigint:mt.p}},{int:{bigint:mt.q}},{int:{bigint:mt.g}},{int:{bigint:mt.y}},{int:{bigint:mt.x}}]})}if((et!==void 0&&e instanceof et||G!==void 0&&e instanceof G||Z!==void 0&&e instanceof Z)&&e.isPublic==1&&(t===void 0||t=="PKCS8PUB"))return Se(it=new K(e).getEncodedHex(),"PUBLIC KEY");if(t=="PKCS1PRV"&&et!==void 0&&e instanceof et&&(r===void 0||r==null)&&e.isPrivate==1)return Se(it=nt(e).getEncodedHex(),"RSA PRIVATE KEY");if(t=="PKCS1PRV"&&Z!==void 0&&e instanceof Z&&(r===void 0||r==null)&&e.isPrivate==1){var W=new N({name:e.curveName}).getEncodedHex(),z=x(e).getEncodedHex(),tt="";return tt+=Se(W,"EC PARAMETERS"),tt+=Se(z,"EC PRIVATE KEY")}if(t=="PKCS1PRV"&&G!==void 0&&e instanceof G&&(r===void 0||r==null)&&e.isPrivate==1)return Se(it=V(e).getEncodedHex(),"DSA PRIVATE KEY");if(t=="PKCS5PRV"&&et!==void 0&&e instanceof et&&r!==void 0&&r!=null&&e.isPrivate==1){var it=nt(e).getEncodedHex();return o===void 0&&(o="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",it,r,o,_)}if(t=="PKCS5PRV"&&Z!==void 0&&e instanceof Z&&r!==void 0&&r!=null&&e.isPrivate==1)return it=x(e).getEncodedHex(),o===void 0&&(o="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",it,r,o,_);if(t=="PKCS5PRV"&&G!==void 0&&e instanceof G&&r!==void 0&&r!=null&&e.isPrivate==1)return it=V(e).getEncodedHex(),o===void 0&&(o="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",it,r,o,_);var _t=function(xt,Gt){var Qt=ut(xt,Gt);return new B({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Qt.pbkdf2Salt}},{int:Qt.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Qt.encryptionSchemeIV}}]}]}]},{octstr:{hex:Qt.ciphertext}}]}).getEncodedHex()},ut=function(xt,Gt){var Qt=T.lib.WordArray.random(8),Yt=T.lib.WordArray.random(8),we=T.PBKDF2(Gt,Qt,{keySize:6,iterations:100}),pe=T.enc.Hex.parse(xt),ye=T.TripleDES.encrypt(pe,we,{iv:Yt})+"",ne={};return ne.ciphertext=ye,ne.pbkdf2Salt=T.enc.Hex.stringify(Qt),ne.pbkdf2Iter=100,ne.encryptionSchemeAlg="DES-EDE3-CBC",ne.encryptionSchemeIV=T.enc.Hex.stringify(Yt),ne};if(t=="PKCS8PRV"&&et!=null&&e instanceof et&&e.isPrivate==1){var Ut=nt(e).getEncodedHex();return it=B({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Ut}}]}).getEncodedHex(),r===void 0||r==null?Se(it,"PRIVATE KEY"):Se(z=_t(it,r),"ENCRYPTED PRIVATE KEY")}if(t=="PKCS8PRV"&&Z!==void 0&&e instanceof Z&&e.isPrivate==1)return Ut=new B({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),it=B({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:Ut}}]}).getEncodedHex(),r===void 0||r==null?Se(it,"PRIVATE KEY"):Se(z=_t(it,r),"ENCRYPTED PRIVATE KEY");if(t=="PKCS8PRV"&&G!==void 0&&e instanceof G&&e.isPrivate==1)return Ut=new U({bigint:e.x}).getEncodedHex(),it=B({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:Ut}}]}).getEncodedHex(),r===void 0||r==null?Se(it,"PRIVATE KEY"):Se(z=_t(it,r),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},ie.getKeyFromCSRPEM=function(e){var t=Le(e,"CERTIFICATE REQUEST");return ie.getKeyFromCSRHex(t)},ie.getKeyFromCSRHex=function(e){var t=ie.parseCSRHex(e);return ie.getKey(t.p8pubkeyhex,null,"pkcs8pub")},ie.parseCSRHex=function(e){var t=st,r=t.getChildIdx,o=t.getTLV,h={},_=e;if(_.substr(0,2)!="30")throw"malformed CSR(code:001)";var F=r(_,0);if(F.length<1)throw"malformed CSR(code:002)";if(_.substr(F[0],2)!="30")throw"malformed CSR(code:003)";var j=r(_,F[0]);if(j.length<3)throw"malformed CSR(code:004)";return h.p8pubkeyhex=o(_,j[2]),h},ie.getKeyID=function(e){var t=ie,r=st;typeof e=="string"&&e.indexOf("BEGIN ")!=-1&&(e=t.getKey(e));var o=Le(t.getPEM(e)),h=r.getIdxbyList(o,0,[1]),_=r.getV(o,h).substring(2);return O.crypto.Util.hashHex(_,"sha1")},ie.getJWKFromKey=function(e){var t={};if(e instanceof ht&&e.isPrivate)return t.kty="RSA",t.n=Dt(e.n.toString(16)),t.e=Dt(e.e.toString(16)),t.d=Dt(e.d.toString(16)),t.p=Dt(e.p.toString(16)),t.q=Dt(e.q.toString(16)),t.dp=Dt(e.dmp1.toString(16)),t.dq=Dt(e.dmq1.toString(16)),t.qi=Dt(e.coeff.toString(16)),t;if(e instanceof ht&&e.isPublic)return t.kty="RSA",t.n=Dt(e.n.toString(16)),t.e=Dt(e.e.toString(16)),t;if(e instanceof O.crypto.ECDSA&&e.isPrivate){if((o=e.getShortNISTPCurveName())!=="P-256"&&o!=="P-384")throw"unsupported curve name for JWT: "+o;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=o,t.x=Dt(r.x),t.y=Dt(r.y),t.d=Dt(e.prvKeyHex),t}if(e instanceof O.crypto.ECDSA&&e.isPublic){var o;if((o=e.getShortNISTPCurveName())!=="P-256"&&o!=="P-384")throw"unsupported curve name for JWT: "+o;return r=e.getPublicKeyXYHex(),t.kty="EC",t.crv=o,t.x=Dt(r.x),t.y=Dt(r.y),t}throw"not supported key object"},ht.getPosArrayOfChildrenFromHex=function(e){return st.getChildIdx(e,0)},ht.getHexValueArrayOfChildrenFromHex=function(e){var t,r=st.getV,o=r(e,(t=ht.getPosArrayOfChildrenFromHex(e))[0]),h=r(e,t[1]),_=r(e,t[2]),F=r(e,t[3]),j=r(e,t[4]),N=r(e,t[5]),U=r(e,t[6]),B=r(e,t[7]),K=r(e,t[8]);return(t=new Array).push(o,h,_,F,j,N,U,B,K),t},ht.prototype.readPrivateKeyFromPEMString=function(e){var t=Le(e),r=ht.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},ht.prototype.readPKCS5PrvKeyHex=function(e){var t=ht.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ht.prototype.readPKCS8PrvKeyHex=function(e){var t,r,o,h,_,F,j,N,U=st,B=U.getVbyListEx;if(U.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");try{t=B(e,0,[2,0,1],"02"),r=B(e,0,[2,0,2],"02"),o=B(e,0,[2,0,3],"02"),h=B(e,0,[2,0,4],"02"),_=B(e,0,[2,0,5],"02"),F=B(e,0,[2,0,6],"02"),j=B(e,0,[2,0,7],"02"),N=B(e,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,r,o,h,_,F,j,N)},ht.prototype.readPKCS5PubKeyHex=function(e){var t=st,r=t.getV;if(t.isASN1HEX(e)===!1)throw new Error("keyHex is not ASN.1 hex string");var o=t.getChildIdx(e,0);if(o.length!==2||e.substr(o[0],2)!=="02"||e.substr(o[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var h=r(e,o[0]),_=r(e,o[1]);this.setPublic(h,_)},ht.prototype.readPKCS8PubKeyHex=function(e){var t=st;if(t.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");if(t.getTLVbyListEx(e,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var r=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},ht.prototype.readCertPubKeyHex=function(e,t){var r,o;(r=new oe).readCertHex(e),o=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(o)};var Io=new RegExp("[^0-9a-f]","gi");function Yn(e,t){for(var r="",o=t/4-e.length,h=0;h<o;h++)r+="0";return r+e}function Xn(e,t,r){for(var o="",h=0;o.length<t;)o+=le(r(be(e+String.fromCharCode.apply(String,[(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])))),h+=1;return o}function Qn(e){for(var t in O.crypto.Util.DIGESTINFOHEAD){var r=O.crypto.Util.DIGESTINFOHEAD[t],o=r.length;if(e.substring(0,o)==r)return[t,e.substring(o)]}return[]}function oe(e){var t,r=st,o=r.getChildIdx,h=r.getV,_=r.getTLV,F=r.getVbyList,j=r.getVbyListEx,N=r.getTLVbyList,U=r.getTLVbyListEx,B=r.getIdxbyList,K=r.getIdxbyListEx,J=r.getVidx,G=r.oidname,Z=r.hextooidstr,et=oe,nt=Le;try{t=O.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return this.hex===null||this.version!==0?this.version:N(this.hex,0,[0,0])!=="a003020102"?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return j(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var x=U(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(x)},this.getAlgorithmIdentifierName=function(x){for(var V in t)if(x===t[V])return V;return G(j(x,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return N(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return et.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return N(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return et.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var x=F(this.hex,0,[0,4+this.foffset,0]);return x=x.replace(/(..)/g,"%$1"),x=decodeURIComponent(x)},this.getNotAfter=function(){var x=F(this.hex,0,[0,4+this.foffset,1]);return x=x.replace(/(..)/g,"%$1"),x=decodeURIComponent(x)},this.getPublicKeyHex=function(){return r.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return B(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var x=this.getPublicKeyIdx();return B(this.hex,x,[1,0],"30")},this.getPublicKey=function(){return ie.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var x=N(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(x)},this.getSignatureValueHex=function(){return F(this.hex,0,[2],"03",!0)},this.verifySignature=function(x){var V=this.getSignatureAlgorithmField(),W=this.getSignatureValueHex(),z=N(this.hex,0,[0],"30"),tt=new O.crypto.Signature({alg:V});return tt.init(x),tt.updateHex(z),tt.verify(W)},this.parseExt=function(x){var V,W,z;if(x===void 0){if(z=this.hex,this.version!==3)return-1;V=B(z,0,[0,7,0],"30"),W=o(z,V)}else{z=Le(x);var tt=B(z,0,[0,3,0,0],"06");if(h(z,tt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);V=B(z,0,[0,3,0,1,0],"30"),W=o(z,V),this.hex=z}this.aExtInfo=new Array;for(var it=0;it<W.length;it++){var _t={critical:!1},ut=0;o(z,W[it]).length===3&&(_t.critical=!0,ut=1),_t.oid=r.hextooidstr(F(z,W[it],[0],"06"));var Ut=B(z,W[it],[1+ut]);_t.vidx=J(z,Ut),this.aExtInfo.push(_t)}},this.getExtInfo=function(x){var V=this.aExtInfo,W=x;if(x.match(/^[0-9.]+$/)||(W=O.asn1.x509.OID.name2oid(x)),W!==""){for(var z=0;z<V.length;z++)if(V[z].oid===W)return V[z]}},this.getExtBasicConstraints=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("basicConstraints");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"basicConstraints"};if(V&&(z.critical=!0),x==="3000")return z;if(x==="30030101ff")return z.cA=!0,z;if(x.substr(0,12)==="30060101ff02"){var tt=h(x,10),it=parseInt(tt,16);return z.cA=!0,z.pathLen=it,z}throw new Error("hExtV parse error: "+x)},this.getExtKeyUsage=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("keyUsage");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"keyUsage"};return V&&(z.critical=!0),z.names=this.getExtKeyUsageString(x).split(","),z},this.getExtKeyUsageBin=function(x){if(x===void 0){var V=this.getExtInfo("keyUsage");if(V===void 0)return"";x=_(this.hex,V.vidx)}if(x.length!=8&&x.length!=10)throw new Error("malformed key usage value: "+x);var W="000000000000000"+parseInt(x.substr(6),16).toString(2);return x.length==8&&(W=W.slice(-8)),x.length==10&&(W=W.slice(-16)),(W=W.replace(/0+$/,""))==""&&(W="0"),W},this.getExtKeyUsageString=function(x){for(var V=this.getExtKeyUsageBin(x),W=new Array,z=0;z<V.length;z++)V.substr(z,1)=="1"&&W.push(oe.KEYUSAGE_NAME[z]);return W.join(",")},this.getExtSubjectKeyIdentifier=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("subjectKeyIdentifier");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"subjectKeyIdentifier"};V&&(z.critical=!0);var tt=h(x,0);return z.kid={hex:tt},z},this.getExtAuthorityKeyIdentifier=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("authorityKeyIdentifier");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"authorityKeyIdentifier"};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++){var _t=x.substr(tt[it],2);if(_t==="80"&&(z.kid={hex:h(x,tt[it])}),_t==="a1"){var ut=_(x,tt[it]),Ut=this.getGeneralNames(ut);z.issuer=Ut[0].dn}_t==="82"&&(z.sn={hex:h(x,tt[it])})}return z},this.getExtExtKeyUsage=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("extKeyUsage");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"extKeyUsage",array:[]};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++)z.array.push(G(h(x,tt[it])));return z},this.getExtExtKeyUsageName=function(){var x=this.getExtInfo("extKeyUsage");if(x===void 0)return x;var V=new Array,W=_(this.hex,x.vidx);if(W==="")return V;for(var z=o(W,0),tt=0;tt<z.length;tt++)V.push(G(h(W,z[tt])));return V},this.getExtSubjectAltName=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("subjectAltName");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"subjectAltName",array:[]};return V&&(z.critical=!0),z.array=this.getGeneralNames(x),z},this.getExtIssuerAltName=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("issuerAltName");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"issuerAltName",array:[]};return V&&(z.critical=!0),z.array=this.getGeneralNames(x),z},this.getGeneralNames=function(x){for(var V=o(x,0),W=[],z=0;z<V.length;z++){var tt=this.getGeneralName(_(x,V[z]));tt!==void 0&&W.push(tt)}return W},this.getGeneralName=function(x){var V=x.substr(0,2),W=h(x,0),z=le(W);return V=="81"?{rfc822:z}:V=="82"?{dns:z}:V=="86"?{uri:z}:V=="87"?{ip:on(W)}:V=="a4"?{dn:this.getX500Name(W)}:void 0},this.getExtSubjectAltName2=function(){var x,V,W,z=this.getExtInfo("subjectAltName");if(z===void 0)return z;for(var tt=new Array,it=_(this.hex,z.vidx),_t=o(it,0),ut=0;ut<_t.length;ut++)W=it.substr(_t[ut],2),x=h(it,_t[ut]),W==="81"&&(V=re(x),tt.push(["MAIL",V])),W==="82"&&(V=re(x),tt.push(["DNS",V])),W==="84"&&(V=oe.hex2dn(x,0),tt.push(["DN",V])),W==="86"&&(V=re(x),tt.push(["URI",V])),W==="87"&&(V=on(x),tt.push(["IP",V]));return tt},this.getExtCRLDistributionPoints=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("cRLDistributionPoints");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"cRLDistributionPoints",array:[]};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++){var _t=_(x,tt[it]);z.array.push(this.getDistributionPoint(_t))}return z},this.getDistributionPoint=function(x){for(var V={},W=o(x,0),z=0;z<W.length;z++){var tt=x.substr(W[z],2),it=_(x,W[z]);tt=="a0"&&(V.dpname=this.getDistributionPointName(it))}return V},this.getDistributionPointName=function(x){for(var V={},W=o(x,0),z=0;z<W.length;z++){var tt=x.substr(W[z],2),it=_(x,W[z]);tt=="a0"&&(V.full=this.getGeneralNames(it))}return V},this.getExtCRLDistributionPointsURI=function(){var x=this.getExtInfo("cRLDistributionPoints");if(x===void 0)return x;for(var V=new Array,W=o(this.hex,x.vidx),z=0;z<W.length;z++)try{var tt=re(F(this.hex,W[z],[0,0,0],"86"));V.push(tt)}catch{}return V},this.getExtAIAInfo=function(){var x=this.getExtInfo("authorityInfoAccess");if(x===void 0)return x;for(var V={ocsp:[],caissuer:[]},W=o(this.hex,x.vidx),z=0;z<W.length;z++){var tt=F(this.hex,W[z],[0],"06"),it=F(this.hex,W[z],[1],"86");tt==="2b06010505073001"&&V.ocsp.push(re(it)),tt==="2b06010505073002"&&V.caissuer.push(re(it))}return V},this.getExtAuthorityInfoAccess=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("authorityInfoAccess");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"authorityInfoAccess",array:[]};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++){var _t=j(x,tt[it],[0],"06"),ut=re(F(x,tt[it],[1],"86"));if(_t=="2b06010505073001")z.array.push({ocsp:ut});else{if(_t!="2b06010505073002")throw new Error("unknown method: "+_t);z.array.push({caissuer:ut})}}return z},this.getExtCertificatePolicies=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("certificatePolicies");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"certificatePolicies",array:[]};V&&(z.critical=!0);for(var tt=o(x,0),it=0;it<tt.length;it++){var _t=_(x,tt[it]),ut=this.getPolicyInformation(_t);z.array.push(ut)}return z},this.getPolicyInformation=function(x){var V={},W=F(x,0,[0],"06");V.policyoid=G(W);var z=K(x,0,[1],"30");if(z!=-1){V.array=[];for(var tt=o(x,z),it=0;it<tt.length;it++){var _t=_(x,tt[it]),ut=this.getPolicyQualifierInfo(_t);V.array.push(ut)}}return V},this.getPolicyQualifierInfo=function(x){var V={},W=F(x,0,[0],"06");if(W==="2b06010505070201"){var z=j(x,0,[1],"16");V.cps=le(z)}else if(W==="2b06010505070202"){var tt=N(x,0,[1],"30");V.unotice=this.getUserNotice(tt)}return V},this.getUserNotice=function(x){for(var V={},W=o(x,0),z=0;z<W.length;z++){var tt=_(x,W[z]);tt.substr(0,2)!="30"&&(V.exptext=this.getDisplayText(tt))}return V},this.getDisplayText=function(x){var V={};return V.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[x.substr(0,2)],V.str=le(h(x,0)),V},this.getExtCRLNumber=function(x,V){var W={extname:"cRLNumber"};if(V&&(W.critical=!0),x.substr(0,2)=="02")return W.num={hex:h(x,0)},W;throw new Error("hExtV parse error: "+x)},this.getExtCRLReason=function(x,V){var W={extname:"cRLReason"};if(V&&(W.critical=!0),x.substr(0,2)=="0a")return W.code=parseInt(h(x,0),16),W;throw new Error("hExtV parse error: "+x)},this.getExtOcspNonce=function(x,V){var W={extname:"ocspNonce"};V&&(W.critical=!0);var z=h(x,0);return W.hex=z,W},this.getExtOcspNoCheck=function(x,V){var W={extname:"ocspNoCheck"};return V&&(W.critical=!0),W},this.getExtAdobeTimeStamp=function(x,V){if(x===void 0&&V===void 0){var W=this.getExtInfo("adobeTimeStamp");if(W===void 0)return;x=_(this.hex,W.vidx),V=W.critical}var z={extname:"adobeTimeStamp"};V&&(z.critical=!0);var tt=o(x,0);if(tt.length>1){var it=_(x,tt[1]),_t=this.getGeneralName(it);_t.uri!=null&&(z.uri=_t.uri)}if(tt.length>2){var ut=_(x,tt[2]);ut=="0101ff"&&(z.reqauth=!0),ut=="010100"&&(z.reqauth=!1)}return z},this.getX500NameRule=function(x){for(var V=null,W=[],z=0;z<x.length;z++)for(var tt=x[z],it=0;it<tt.length;it++)W.push(tt[it]);for(z=0;z<W.length;z++){var _t=W[z],ut=_t.ds,Ut=_t.value,mt=_t.type;if(ut!="prn"&&ut!="utf8"&&ut!="ia5")return"mixed";if(ut=="ia5"){if(mt!="CN")return"mixed";if(O.lang.String.isMail(Ut))continue;return"mixed"}if(mt=="C"){if(ut=="prn")continue;return"mixed"}if(V==null)V=ut;else if(V!==ut)return"mixed"}return V??"prn"},this.getX500Name=function(x){var V=this.getX500NameArray(x);return{array:V,str:this.dnarraytostr(V)}},this.getX500NameArray=function(x){for(var V=[],W=o(x,0),z=0;z<W.length;z++)V.push(this.getRDN(_(x,W[z])));return V},this.getRDN=function(x){for(var V=[],W=o(x,0),z=0;z<W.length;z++)V.push(this.getAttrTypeAndValue(_(x,W[z])));return V},this.getAttrTypeAndValue=function(x){var V={type:null,value:null,ds:null},W=o(x,0),z=F(x,W[0],[],"06"),tt=F(x,W[1],[]),it=O.asn1.ASN1Util.oidHexToInt(z);return V.type=O.asn1.x509.OID.oid2atype(it),V.value=le(tt),V.ds=this.HEX2STAG[x.substr(W[1],2)],V},this.readCertPEM=function(x){this.readCertHex(nt(x))},this.readCertHex=function(x){this.hex=x,this.getVersion();try{B(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var x={};return x.version=this.getVersion(),x.serial={hex:this.getSerialNumberHex()},x.sigalg=this.getSignatureAlgorithmField(),x.issuer=this.getIssuer(),x.notbefore=this.getNotBefore(),x.notafter=this.getNotAfter(),x.subject=this.getSubject(),x.sbjpubkey=Se(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(x.ext=this.getExtParamArray()),x.sighex=this.getSignatureValueHex(),x},this.getExtParamArray=function(x){x==null&&K(this.hex,0,[0,"[3]"])!=-1&&(x=U(this.hex,0,[0,"[3]",0],"30"));for(var V=[],W=o(x,0),z=0;z<W.length;z++){var tt=_(x,W[z]),it=this.getExtParam(tt);it!=null&&V.push(it)}return V},this.getExtParam=function(x){var V=o(x,0).length;if(V!=2&&V!=3)throw new Error("wrong number elements in Extension: "+V+" "+x);var W=Z(F(x,0,[0],"06")),z=!1;V==3&&N(x,0,[1])=="0101ff"&&(z=!0);var tt=N(x,0,[V-1,0]),it=void 0;if(W=="2.5.29.14"?it=this.getExtSubjectKeyIdentifier(tt,z):W=="2.5.29.15"?it=this.getExtKeyUsage(tt,z):W=="2.5.29.17"?it=this.getExtSubjectAltName(tt,z):W=="2.5.29.18"?it=this.getExtIssuerAltName(tt,z):W=="2.5.29.19"?it=this.getExtBasicConstraints(tt,z):W=="2.5.29.31"?it=this.getExtCRLDistributionPoints(tt,z):W=="2.5.29.32"?it=this.getExtCertificatePolicies(tt,z):W=="2.5.29.35"?it=this.getExtAuthorityKeyIdentifier(tt,z):W=="2.5.29.37"?it=this.getExtExtKeyUsage(tt,z):W=="1.3.6.1.5.5.7.1.1"?it=this.getExtAuthorityInfoAccess(tt,z):W=="2.5.29.20"?it=this.getExtCRLNumber(tt,z):W=="2.5.29.21"?it=this.getExtCRLReason(tt,z):W=="1.3.6.1.5.5.7.48.1.2"?it=this.getExtOcspNonce(tt,z):W=="1.3.6.1.5.5.7.48.1.5"?it=this.getExtOcspNoCheck(tt,z):W=="1.2.840.113583.1.1.9.1"&&(it=this.getExtAdobeTimeStamp(tt,z)),it!=null)return it;var _t={extname:W,extn:tt};return z&&(_t.critical=!0),_t},this.findExt=function(x,V){for(var W=0;W<x.length;W++)if(x[W].extname==V)return x[W];return null},this.updateExtCDPFullURI=function(x,V){var W=this.findExt(x,"cRLDistributionPoints");if(W!=null&&W.array!=null){for(var z=W.array,tt=0;tt<z.length;tt++)if(z[tt].dpname!=null&&z[tt].dpname.full!=null)for(var it=z[tt].dpname.full,_t=0;_t<it.length;_t++){var ut=it[tt];ut.uri!=null&&(ut.uri=V)}}},this.updateExtAIAOCSP=function(x,V){var W=this.findExt(x,"authorityInfoAccess");if(W!=null&&W.array!=null)for(var z=W.array,tt=0;tt<z.length;tt++)z[tt].ocsp!=null&&(z[tt].ocsp=V)},this.updateExtAIACAIssuer=function(x,V){var W=this.findExt(x,"authorityInfoAccess");if(W!=null&&W.array!=null)for(var z=W.array,tt=0;tt<z.length;tt++)z[tt].caissuer!=null&&(z[tt].caissuer=V)},this.dnarraytostr=function(x){return"/"+x.map(function(V){return function(z){return z.map(function(tt){return function(_t){return _t.type+"="+_t.value}(tt)}).join("+")}(V)}).join("/")},this.getInfo=function(){var x,V,W,z=function(we){return JSON.stringify(we.array).replace(/[\[\]\{\}\"]/g,"")},tt=function(we){for(var pe="",ye=we.array,ne=0;ne<ye.length;ne++){var ae=ye[ne];if(pe+="    policy oid: "+ae.policyoid+`
`,ae.array!==void 0)for(var he=0;he<ae.array.length;he++){var _e=ae.array[he];_e.cps!==void 0&&(pe+="    cps: "+_e.cps+`
`)}}return pe},it=function(we){for(var pe="",ye=we.array,ne=0;ne<ye.length;ne++){var ae=ye[ne];try{ae.dpname.full[0].uri!==void 0&&(pe+="    "+ae.dpname.full[0].uri+`
`)}catch{}try{ae.dname.full[0].dn.hex!==void 0&&(pe+="    "+oe.hex2dn(ae.dpname.full[0].dn.hex)+`
`)}catch{}}return pe},_t=function(we){for(var pe="",ye=we.array,ne=0;ne<ye.length;ne++){var ae=ye[ne];ae.caissuer!==void 0&&(pe+="    caissuer: "+ae.caissuer+`
`),ae.ocsp!==void 0&&(pe+="    ocsp: "+ae.ocsp+`
`)}return pe};if(x=`Basic Fields
`,x+="  serial number: "+this.getSerialNumberHex()+`
`,x+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,x+="  issuer: "+this.getIssuerString()+`
`,x+="  notBefore: "+this.getNotBefore()+`
`,x+="  notAfter: "+this.getNotAfter()+`
`,x+="  subject: "+this.getSubjectString()+`
`,x+=`  subject public key info: 
`,x+="    key algorithm: "+(V=this.getPublicKey()).type+`
`,V.type==="RSA"&&(x+="    n="+sn(V.n.toString(16)).substr(0,16)+`...
`,x+="    e="+sn(V.e.toString(16))+`
`),(W=this.aExtInfo)!=null){x+=`X509v3 Extensions:
`;for(var ut=0;ut<W.length;ut++){var Ut=W[ut],mt=O.asn1.x509.OID.oid2name(Ut.oid);mt===""&&(mt=Ut.oid);var xt="";if(Ut.critical===!0&&(xt="CRITICAL"),x+="  "+mt+" "+xt+`:
`,mt==="basicConstraints"){var Gt=this.getExtBasicConstraints();Gt.cA===void 0?x+=`    {}
`:(x+="    cA=true",Gt.pathLen!==void 0&&(x+=", pathLen="+Gt.pathLen),x+=`
`)}else if(mt==="keyUsage")x+="    "+this.getExtKeyUsageString()+`
`;else if(mt==="subjectKeyIdentifier")x+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(mt==="authorityKeyIdentifier"){var Qt=this.getExtAuthorityKeyIdentifier();Qt.kid!==void 0&&(x+="    kid="+Qt.kid.hex+`
`)}else mt==="extKeyUsage"?x+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:mt==="subjectAltName"?x+="    "+z(this.getExtSubjectAltName())+`
`:mt==="cRLDistributionPoints"?x+=it(this.getExtCRLDistributionPoints()):mt==="authorityInfoAccess"?x+=_t(this.getExtAuthorityInfoAccess()):mt==="certificatePolicies"&&(x+=tt(this.getExtCertificatePolicies()))}}return x+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,x+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof e=="string"&&(e.indexOf("-----BEGIN")!=-1?this.readCertPEM(e):O.lang.String.isHex(e)&&this.readCertHex(e))}ht.prototype.sign=function(e,t){var r=function(h){return O.crypto.Util.hashString(h,t)}(e);return this.signWithMessageHash(r,t)},ht.prototype.signWithMessageHash=function(e,t){var r=Lt(O.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return Yn(this.doPrivate(r).toString(16),this.n.bitLength())},ht.prototype.signPSS=function(e,t,r){var o=function(_){return O.crypto.Util.hashHex(_,t)}(be(e));return r===void 0&&(r=-1),this.signWithMessageHashPSS(o,t,r)},ht.prototype.signWithMessageHashPSS=function(e,t,r){var o,h=le(e),_=h.length,F=this.n.bitLength()-1,j=Math.ceil(F/8),N=function(x){return O.crypto.Util.hashHex(x,t)};if(r===-1||r===void 0)r=_;else if(r===-2)r=j-_-2;else if(r<-2)throw new Error("invalid salt length");if(j<_+r+2)throw new Error("data too long");var U="";r>0&&(U=new Array(r),new At().nextBytes(U),U=String.fromCharCode.apply(String,U));var B=le(N(be("\0\0\0\0\0\0\0\0"+h+U))),K=[];for(o=0;o<j-r-_-2;o+=1)K[o]=0;var J=String.fromCharCode.apply(String,K)+""+U,G=Xn(B,J.length,N),Z=[];for(o=0;o<J.length;o+=1)Z[o]=J.charCodeAt(o)^G.charCodeAt(o);var et=65280>>8*j-F&255;for(Z[0]&=~et,o=0;o<_;o++)Z.push(B.charCodeAt(o));return Z.push(188),Yn(this.doPrivate(new M(Z)).toString(16),this.n.bitLength())},ht.prototype.verify=function(e,t){var r=Lt(t=(t=t.replace(Io,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var o=Qn(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(o.length==0)return!1;var h=o[0];return o[1]==function(F){return O.crypto.Util.hashString(F,h)}(e)},ht.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=Lt(t,16);if(r.bitLength()>this.n.bitLength())return 0;var o=Qn(this.doPublic(r).toString(16).replace(/^1f+00/,""));return o.length==0?!1:(o[0],o[1]==e)},ht.prototype.verifyPSS=function(e,t,r,o){var h=function(F){return O.crypto.Util.hashHex(F,r)}(be(e));return o===void 0&&(o=-1),this.verifyWithMessageHashPSS(h,t,r,o)},ht.prototype.verifyWithMessageHashPSS=function(e,t,r,o){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var h,_=new M(t,16),F=function(W){return O.crypto.Util.hashHex(W,r)},j=le(e),N=j.length,U=this.n.bitLength()-1,B=Math.ceil(U/8);if(o===-1||o===void 0)o=N;else if(o===-2)o=B-N-2;else if(o<-2)throw new Error("invalid salt length");if(B<N+o+2)throw new Error("data too long");var K=this.doPublic(_).toByteArray();for(h=0;h<K.length;h+=1)K[h]&=255;for(;K.length<B;)K.unshift(0);if(K[B-1]!==188)throw new Error("encoded message does not end in 0xbc");var J=(K=String.fromCharCode.apply(String,K)).substr(0,B-N-1),G=K.substr(J.length,N),Z=65280>>8*B-U&255;if(J.charCodeAt(0)&Z)throw new Error("bits beyond keysize not zero");var et=Xn(G,J.length,F),nt=[];for(h=0;h<J.length;h+=1)nt[h]=J.charCodeAt(h)^et.charCodeAt(h);nt[0]&=~Z;var x=B-N-o-2;for(h=0;h<x;h+=1)if(nt[h]!==0)throw new Error("leftmost octets not zero");if(nt[x]!==1)throw new Error("0x01 marker not found");return G===le(F(be("\0\0\0\0\0\0\0\0"+j+String.fromCharCode.apply(String,nt.slice(-o)))))},ht.SALT_LEN_HLEN=-1,ht.SALT_LEN_MAX=-2,ht.SALT_LEN_RECOVER=-2,oe.hex2dn=function(e,t){if(t===void 0&&(t=0),e.substr(t,2)!=="30")throw new Error("malformed DN");for(var r=new Array,o=st.getChildIdx(e,t),h=0;h<o.length;h++)r.push(oe.hex2rdn(e,o[h]));return"/"+(r=r.map(function(_){return _.replace("/","\\/")})).join("/")},oe.hex2rdn=function(e,t){if(t===void 0&&(t=0),e.substr(t,2)!=="31")throw new Error("malformed RDN");for(var r=new Array,o=st.getChildIdx(e,t),h=0;h<o.length;h++)r.push(oe.hex2attrTypeValue(e,o[h]));return(r=r.map(function(_){return _.replace("+","\\+")})).join("+")},oe.hex2attrTypeValue=function(e,t){var r=st,o=r.getV;if(t===void 0&&(t=0),e.substr(t,2)!=="30")throw new Error("malformed attribute type and value");var h=r.getChildIdx(e,t);h.length!==2||e.substr(h[0],2);var _=o(e,h[0]),F=O.asn1.ASN1Util.oidHexToInt(_);return O.asn1.x509.OID.oid2atype(F)+"="+le(o(e,h[1]))},oe.getPublicKeyFromCertHex=function(e){var t=new oe;return t.readCertHex(e),t.getPublicKey()},oe.getPublicKeyFromCertPEM=function(e){var t=new oe;return t.readCertPEM(e),t.getPublicKey()},oe.getPublicKeyInfoPropOfCertPEM=function(e){var t,r,o=st.getVbyList,h={};return h.algparam=null,(t=new oe).readCertPEM(e),r=t.getPublicKeyHex(),h.keyhex=o(r,0,[1],"03").substr(2),h.algoid=o(r,0,[0,0],"06"),h.algoid==="2a8648ce3d0201"&&(h.algparam=o(r,0,[0,1],"06")),h},oe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],O!==void 0&&O||(a.KJUR=O={}),O.jws!==void 0&&O.jws||(O.jws={}),O.jws.JWS=function(){var e=O.jws.JWS.isSafeJSONString;this.parseJWS=function(t,r){if(this.parsedJWS===void 0||!r&&this.parsedJWS.sigvalH===void 0){var o=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(o==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var h=o[1],_=o[2],F=o[3],j=h+"."+_;if(this.parsedJWS={},this.parsedJWS.headB64U=h,this.parsedJWS.payloadB64U=_,this.parsedJWS.sigvalB64U=F,this.parsedJWS.si=j,!r){var N=Bt(F),U=Lt(N,16);this.parsedJWS.sigvalH=N,this.parsedJWS.sigvalBI=U}var B=ge(h),K=ge(_);if(this.parsedJWS.headS=B,this.parsedJWS.payloadS=K,!e(B,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+B}}},O.jws.JWS.sign=function(e,t,r,o,h){var _,F,j,N=O,U=N.jws.JWS,B=U.readSafeJSONString,K=U.isSafeJSONString,J=N.crypto,G=(J.ECDSA,J.Mac),Z=J.Signature,et=JSON;if(typeof t!="string"&&(t===void 0?"undefined":i(t))!="object")throw"spHeader must be JSON string or object: "+t;if((t===void 0?"undefined":i(t))=="object"&&(F=t,_=et.stringify(F)),typeof t=="string"){if(!K(_=t))throw"JWS Head is not safe JSON string: "+_;F=B(_)}if(j=r,(r===void 0?"undefined":i(r))=="object"&&(j=et.stringify(r)),e!=""&&e!=null||F.alg===void 0||(e=F.alg),e!=""&&e!=null&&F.alg===void 0&&(F.alg=e,_=et.stringify(F)),e!==F.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+F.alg;var nt=null;if(U.jwsalg2sigalg[e]===void 0)throw"unsupported alg name: "+e;nt=U.jwsalg2sigalg[e];var x=Ae(_)+"."+Ae(j),V="";if(nt.substr(0,4)=="Hmac"){if(o===void 0)throw"mac key shall be specified for HS* alg";var W=new G({alg:nt,prov:"cryptojs",pass:o});W.updateString(x),V=W.doFinal()}else if(nt.indexOf("withECDSA")!=-1){(tt=new Z({alg:nt})).init(o,h),tt.updateString(x);var z=tt.sign();V=O.crypto.ECDSA.asn1SigToConcatSig(z)}else{var tt;nt!="none"&&((tt=new Z({alg:nt})).init(o,h),tt.updateString(x),V=tt.sign())}return x+"."+Dt(V)},O.jws.JWS.verify=function(e,t,r){var o,h=O,_=h.jws.JWS,F=_.readSafeJSONString,j=h.crypto,N=j.ECDSA,U=j.Mac,B=j.Signature;i(ht)!==void 0&&(o=ht);var K=e.split(".");if(K.length!==3)return!1;var J=K[0]+"."+K[1],G=Bt(K[2]),Z=F(ge(K[0])),et=null,nt=null;if(Z.alg===void 0)throw"algorithm not specified in header";if(nt=(et=Z.alg).substr(0,2),r!=null&&Object.prototype.toString.call(r)==="[object Array]"&&r.length>0&&(":"+r.join(":")+":").indexOf(":"+et+":")==-1)throw"algorithm '"+et+"' not accepted in the list";if(et!="none"&&t===null)throw"key shall be specified to verify.";if(typeof t=="string"&&t.indexOf("-----BEGIN ")!=-1&&(t=ie.getKey(t)),!(nt!="RS"&&nt!="PS"||t instanceof o))throw"key shall be a RSAKey obj for RS* and PS* algs";if(nt=="ES"&&!(t instanceof N))throw"key shall be a ECDSA obj for ES* algs";var x=null;if(_.jwsalg2sigalg[Z.alg]===void 0)throw"unsupported alg name: "+et;if((x=_.jwsalg2sigalg[et])=="none")throw"not supported";if(x.substr(0,4)=="Hmac"){if(t===void 0)throw"hexadecimal key shall be specified for HMAC";var V=new U({alg:x,pass:t});return V.updateString(J),G==V.doFinal()}if(x.indexOf("withECDSA")!=-1){var W,z=null;try{z=N.concatSigToASN1Sig(G)}catch{return!1}return(W=new B({alg:x})).init(t),W.updateString(J),W.verify(z)}return(W=new B({alg:x})).init(t),W.updateString(J),W.verify(G)},O.jws.JWS.parse=function(e){var t,r,o,h=e.split("."),_={};if(h.length!=2&&h.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return t=h[0],r=h[1],h.length==3&&(o=h[2]),_.headerObj=O.jws.JWS.readSafeJSONString(ge(t)),_.payloadObj=O.jws.JWS.readSafeJSONString(ge(r)),_.headerPP=JSON.stringify(_.headerObj,null,"  "),_.payloadObj==null?_.payloadPP=ge(r):_.payloadPP=JSON.stringify(_.payloadObj,null,"  "),o!==void 0&&(_.sigHex=Bt(o)),_},O.jws.JWS.verifyJWT=function(e,t,r){var o=O.jws,h=o.JWS,_=h.readSafeJSONString,F=h.inArray,j=h.includedArray,N=e.split("."),U=N[0],B=N[1],K=(Bt(N[2]),_(ge(U))),J=_(ge(B));if(K.alg===void 0)return!1;if(r.alg===void 0)throw"acceptField.alg shall be specified";if(!F(K.alg,r.alg)||J.iss!==void 0&&i(r.iss)==="object"&&!F(J.iss,r.iss)||J.sub!==void 0&&i(r.sub)==="object"&&!F(J.sub,r.sub))return!1;if(J.aud!==void 0&&i(r.aud)==="object"){if(typeof J.aud=="string"){if(!F(J.aud,r.aud))return!1}else if(i(J.aud)=="object"&&!j(J.aud,r.aud))return!1}var G=o.IntDate.getNow();return r.verifyAt!==void 0&&typeof r.verifyAt=="number"&&(G=r.verifyAt),r.gracePeriod!==void 0&&typeof r.gracePeriod=="number"||(r.gracePeriod=0),!(J.exp!==void 0&&typeof J.exp=="number"&&J.exp+r.gracePeriod<G)&&!(J.nbf!==void 0&&typeof J.nbf=="number"&&G<J.nbf-r.gracePeriod)&&!(J.iat!==void 0&&typeof J.iat=="number"&&G<J.iat-r.gracePeriod)&&(J.jti===void 0||r.jti===void 0||J.jti===r.jti)&&!!h.verify(e,t,r.alg)},O.jws.JWS.includedArray=function(e,t){var r=O.jws.JWS.inArray;if(e===null||(e===void 0?"undefined":i(e))!=="object"||typeof e.length!="number")return!1;for(var o=0;o<e.length;o++)if(!r(e[o],t))return!1;return!0},O.jws.JWS.inArray=function(e,t){if(t===null||(t===void 0?"undefined":i(t))!=="object"||typeof t.length!="number")return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},O.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},O.jws.JWS.isSafeJSONString=function(e,t,r){var o=null;try{return((o=me(e))===void 0?"undefined":i(o))!="object"||o.constructor===Array?0:(t&&(t[r]=o),1)}catch{return 0}},O.jws.JWS.readSafeJSONString=function(e){var t=null;try{return((t=me(e))===void 0?"undefined":i(t))!="object"||t.constructor===Array?null:t}catch{return null}},O.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(t==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},O.jws.JWS.getJWKthumbprint=function(e){if(e.kty!=="RSA"&&e.kty!=="EC"&&e.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var t="{";if(e.kty==="RSA"){if(typeof e.n!="string"||typeof e.e!="string")throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if(e.kty==="EC"){if(typeof e.crv!="string"||typeof e.x!="string"||typeof e.y!="string")throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if(e.kty==="oct"){if(typeof e.k!="string")throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=be(t);return Dt(O.crypto.Util.hashHex(r,"sha256"))},O.jws.IntDate={},O.jws.IntDate.get=function(e){var t=O.jws.IntDate,r=t.getNow,o=t.getZulu;if(e=="now")return r();if(e=="now + 1hour")return r()+3600;if(e=="now + 1day")return r()+86400;if(e=="now + 1month")return r()+2592e3;if(e=="now + 1year")return r()+31536e3;if(e.match(/Z$/))return o(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},O.jws.IntDate.getZulu=function(e){return Wn(e)},O.jws.IntDate.getNow=function(){return~~(new Date/1e3)},O.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},O.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},a.SecureRandom=At,a.rng_seed_time=Y,a.BigInteger=M,a.RSAKey=ht;var Oo=O.crypto.EDSA;a.EDSA=Oo;var Lo=O.crypto.DSA;a.DSA=Lo;var No=O.crypto.Signature;a.Signature=No;var Do=O.crypto.MessageDigest;a.MessageDigest=Do;var Uo=O.crypto.Mac;a.Mac=Uo;var jo=O.crypto.Cipher;a.Cipher=jo,a.KEYUTIL=ie,a.ASN1HEX=st,a.X509=oe,a.CryptoJS=T,a.b64tohex=Q,a.b64toBA=rt,a.stoBA=qt,a.BAtos=Wt,a.BAtohex=zt,a.stohex=Ft,a.stob64=function(t){return X(Ft(t))},a.stob64u=function(t){return Ht(X(Ft(t)))},a.b64utos=function(t){return Wt(rt(Kt(t)))},a.b64tob64u=Ht,a.b64utob64=Kt,a.hex2b64=X,a.hextob64u=Dt,a.b64utohex=Bt,a.utf8tob64u=Ae,a.b64utoutf8=ge,a.utf8tob64=function(t){return X(Pr(Cr(t)))},a.b64toutf8=function(t){return decodeURIComponent(kr(Q(t)))},a.utf8tohex=Oe,a.hextoutf8=re,a.hextorstr=le,a.rstrtohex=be,a.hextob64=Ye,a.hextob64nl=rn,a.b64nltohex=qn,a.hextopem=Se,a.pemtohex=Le,a.hextoArrayBuffer=function(t){if(t.length%2!=0)throw"input is not even length";if(t.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var r=new ArrayBuffer(t.length/2),o=new DataView(r),h=0;h<t.length/2;h++)o.setUint8(h,parseInt(t.substr(2*h,2),16));return r},a.ArrayBuffertohex=function(t){for(var r="",o=new DataView(t),h=0;h<t.byteLength;h++)r+=("00"+o.getUint8(h).toString(16)).slice(-2);return r},a.zulutomsec=nn,a.zulutosec=Wn,a.zulutodate=function(t){return new Date(nn(t))},a.datetozulu=function(t,r,o){var h,_=t.getUTCFullYear();if(r){if(_<1950||2049<_)throw"not proper year for UTCTime: "+_;h=(""+_).slice(-2)}else h=("000"+_).slice(-4);if(h+=("0"+(t.getUTCMonth()+1)).slice(-2),h+=("0"+t.getUTCDate()).slice(-2),h+=("0"+t.getUTCHours()).slice(-2),h+=("0"+t.getUTCMinutes()).slice(-2),h+=("0"+t.getUTCSeconds()).slice(-2),o){var F=t.getUTCMilliseconds();F!==0&&(h+="."+(F=(F=("00"+F).slice(-3)).replace(/0+$/g,"")))}return h+="Z"},a.uricmptohex=Pr,a.hextouricmp=kr,a.ipv6tohex=Jn,a.hextoipv6=zn,a.hextoip=on,a.iptohex=function(t){var r="malformed IP address";if(!(t=t.toLowerCase(t)).match(/^[0-9.]+$/)){if(t.match(/^[0-9a-f:]+$/)&&t.indexOf(":")!==-1)return Jn(t);throw r}var o=t.split(".");if(o.length!==4)throw r;var h="";try{for(var _=0;_<4;_++)h+=("0"+parseInt(o[_]).toString(16)).slice(-2);return h}catch{throw r}},a.encodeURIComponentAll=Cr,a.newline_toUnix=function(t){return t=t.replace(/\r\n/gm,`
`)},a.newline_toDos=function(t){return t=(t=t.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},a.hextoposhex=sn,a.intarystrtohex=function(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map(function(r,o,h){var _=parseInt(r);if(_<0||255<_)throw"integer not in range 0-255";return("00"+_.toString(16)).slice(-2)}).join("")}catch(r){throw"malformed integer array string: "+r}},a.strdiffidx=function(t,r){var o=t.length;t.length>r.length&&(o=r.length);for(var h=0;h<o;h++)if(t.charCodeAt(h)!=r.charCodeAt(h))return h;return t.length!=r.length?o:-1},a.KJUR=O;var Mo=O.crypto;a.crypto=Mo;var Bo=O.asn1;a.asn1=Bo;var Ho=O.jws;a.jws=Ho;var Vo=O.lang;a.lang=Vo}).call(this,f(28).Buffer)},function(p,a,f){(function(d){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var i=f(30),v=f(31),g=f(32);function u(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(q,b){if(u()<b)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(q=new Uint8Array(b)).__proto__=c.prototype:(q===null&&(q=new c(b)),q.length=b),q}function c(q,b,m){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(q,b,m);if(typeof q=="number"){if(typeof b=="string")throw new Error("If encoding is specified then the first argument must be a string");return w(this,q)}return y(this,q,b,m)}function y(q,b,m,A){if(typeof b=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&b instanceof ArrayBuffer?function($,Y,at,ft){if(Y.byteLength,at<0||Y.byteLength<at)throw new RangeError("'offset' is out of bounds");if(Y.byteLength<at+(ft||0))throw new RangeError("'length' is out of bounds");return Y=at===void 0&&ft===void 0?new Uint8Array(Y):ft===void 0?new Uint8Array(Y,at):new Uint8Array(Y,at,ft),c.TYPED_ARRAY_SUPPORT?($=Y).__proto__=c.prototype:$=R($,Y),$}(q,b,m,A):typeof b=="string"?function($,Y,at){if(typeof at=="string"&&at!==""||(at="utf8"),!c.isEncoding(at))throw new TypeError('"encoding" must be a valid string encoding');var ft=0|C(Y,at),gt=($=l($,ft)).write(Y,at);return gt!==ft&&($=$.slice(0,gt)),$}(q,b,m):function($,Y){if(c.isBuffer(Y)){var at=0|P(Y.length);return($=l($,at)).length===0||Y.copy($,0,0,at),$}if(Y){if(typeof ArrayBuffer<"u"&&Y.buffer instanceof ArrayBuffer||"length"in Y)return typeof Y.length!="number"||function(gt){return gt!=gt}(Y.length)?l($,0):R($,Y);if(Y.type==="Buffer"&&g(Y.data))return R($,Y.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(q,b)}function S(q){if(typeof q!="number")throw new TypeError('"size" argument must be a number');if(q<0)throw new RangeError('"size" argument must not be negative')}function w(q,b){if(S(b),q=l(q,b<0?0:0|P(b)),!c.TYPED_ARRAY_SUPPORT)for(var m=0;m<b;++m)q[m]=0;return q}function R(q,b){var m=b.length<0?0:0|P(b.length);q=l(q,m);for(var A=0;A<m;A+=1)q[A]=255&b[A];return q}function P(q){if(q>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|q}function C(q,b){if(c.isBuffer(q))return q.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(q)||q instanceof ArrayBuffer))return q.byteLength;typeof q!="string"&&(q=""+q);var m=q.length;if(m===0)return 0;for(var A=!1;;)switch(b){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":case void 0:return Et(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return St(q).length;default:if(A)return Et(q).length;b=(""+b).toLowerCase(),A=!0}}function E(q,b,m){var A=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(b>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return wt(this,b,m);case"utf8":case"utf-8":return ct(this,b,m);case"ascii":return kt(this,b,m);case"latin1":case"binary":return pt(this,b,m);case"base64":return ot(this,b,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,b,m);default:if(A)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),A=!0}}function k(q,b,m){var A=q[b];q[b]=q[m],q[m]=A}function H(q,b,m,A,D){if(q.length===0)return-1;if(typeof m=="string"?(A=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,isNaN(m)&&(m=D?0:q.length-1),m<0&&(m=q.length+m),m>=q.length){if(D)return-1;m=q.length-1}else if(m<0){if(!D)return-1;m=0}if(typeof b=="string"&&(b=c.from(b,A)),c.isBuffer(b))return b.length===0?-1:T(q,b,m,A,D);if(typeof b=="number")return b&=255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(q,b,m):Uint8Array.prototype.lastIndexOf.call(q,b,m):T(q,[b],m,A,D);throw new TypeError("val must be string, number or Buffer")}function T(q,b,m,A,D){var $,Y=1,at=q.length,ft=b.length;if(A!==void 0&&((A=String(A).toLowerCase())==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(q.length<2||b.length<2)return-1;Y=2,at/=2,ft/=2,m/=2}function gt(Lt,Nt){return Y===1?Lt[Nt]:Lt.readUInt16BE(Nt*Y)}if(D){var dt=-1;for($=m;$<at;$++)if(gt(q,$)===gt(b,dt===-1?0:$-dt)){if(dt===-1&&(dt=$),$-dt+1===ft)return dt*Y}else dt!==-1&&($-=$-dt),dt=-1}else for(m+ft>at&&(m=at-ft),$=m;$>=0;$--){for(var vt=!0,At=0;At<ft;At++)if(gt(q,$+At)!==gt(b,At)){vt=!1;break}if(vt)return $}return-1}function I(q,b,m,A){m=Number(m)||0;var D=q.length-m;A?(A=Number(A))>D&&(A=D):A=D;var $=b.length;if($%2!=0)throw new TypeError("Invalid hex string");A>$/2&&(A=$/2);for(var Y=0;Y<A;++Y){var at=parseInt(b.substr(2*Y,2),16);if(isNaN(at))return Y;q[m+Y]=at}return Y}function L(q,b,m,A){return Rt(Et(b,q.length-m),q,m,A)}function X(q,b,m,A){return Rt(function($){for(var Y=[],at=0;at<$.length;++at)Y.push(255&$.charCodeAt(at));return Y}(b),q,m,A)}function Q(q,b,m,A){return X(q,b,m,A)}function rt(q,b,m,A){return Rt(St(b),q,m,A)}function M(q,b,m,A){return Rt(function($,Y){for(var at,ft,gt,dt=[],vt=0;vt<$.length&&!((Y-=2)<0);++vt)ft=(at=$.charCodeAt(vt))>>8,gt=at%256,dt.push(gt),dt.push(ft);return dt}(b,q.length-m),q,m,A)}function ot(q,b,m){return b===0&&m===q.length?i.fromByteArray(q):i.fromByteArray(q.slice(b,m))}function ct(q,b,m){m=Math.min(q.length,m);for(var A=[],D=b;D<m;){var $,Y,at,ft,gt=q[D],dt=null,vt=gt>239?4:gt>223?3:gt>191?2:1;if(D+vt<=m)switch(vt){case 1:gt<128&&(dt=gt);break;case 2:(192&($=q[D+1]))==128&&(ft=(31&gt)<<6|63&$)>127&&(dt=ft);break;case 3:$=q[D+1],Y=q[D+2],(192&$)==128&&(192&Y)==128&&(ft=(15&gt)<<12|(63&$)<<6|63&Y)>2047&&(ft<55296||ft>57343)&&(dt=ft);break;case 4:$=q[D+1],Y=q[D+2],at=q[D+3],(192&$)==128&&(192&Y)==128&&(192&at)==128&&(ft=(15&gt)<<18|(63&$)<<12|(63&Y)<<6|63&at)>65535&&ft<1114112&&(dt=ft)}dt===null?(dt=65533,vt=1):dt>65535&&(dt-=65536,A.push(dt>>>10&1023|55296),dt=56320|1023&dt),A.push(dt),D+=vt}return function(Lt){var Nt=Lt.length;if(Nt<=bt)return String.fromCharCode.apply(String,Lt);for(var ht="",It=0;It<Nt;)ht+=String.fromCharCode.apply(String,Lt.slice(It,It+=bt));return ht}(A)}a.Buffer=c,a.SlowBuffer=function(b){return+b!=b&&(b=0),c.alloc(+b)},a.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=d.TYPED_ARRAY_SUPPORT!==void 0?d.TYPED_ARRAY_SUPPORT:function(){try{var b=new Uint8Array(1);return b.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},b.foo()===42&&typeof b.subarray=="function"&&b.subarray(1,1).byteLength===0}catch{return!1}}(),a.kMaxLength=u(),c.poolSize=8192,c._augment=function(q){return q.__proto__=c.prototype,q},c.from=function(q,b,m){return y(null,q,b,m)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(q,b,m){return function(D,$,Y,at){return S($),$<=0?l(D,$):Y!==void 0?typeof at=="string"?l(D,$).fill(Y,at):l(D,$).fill(Y):l(D,$)}(null,q,b,m)},c.allocUnsafe=function(q){return w(null,q)},c.allocUnsafeSlow=function(q){return w(null,q)},c.isBuffer=function(b){return!(b==null||!b._isBuffer)},c.compare=function(b,m){if(!c.isBuffer(b)||!c.isBuffer(m))throw new TypeError("Arguments must be Buffers");if(b===m)return 0;for(var A=b.length,D=m.length,$=0,Y=Math.min(A,D);$<Y;++$)if(b[$]!==m[$]){A=b[$],D=m[$];break}return A<D?-1:D<A?1:0},c.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(b,m){if(!g(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return c.alloc(0);var A;if(m===void 0)for(m=0,A=0;A<b.length;++A)m+=b[A].length;var D=c.allocUnsafe(m),$=0;for(A=0;A<b.length;++A){var Y=b[A];if(!c.isBuffer(Y))throw new TypeError('"list" argument must be an Array of Buffers');Y.copy(D,$),$+=Y.length}return D},c.byteLength=C,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var b=this.length;if(b%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<b;m+=2)k(this,m,m+1);return this},c.prototype.swap32=function(){var b=this.length;if(b%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<b;m+=4)k(this,m,m+3),k(this,m+1,m+2);return this},c.prototype.swap64=function(){var b=this.length;if(b%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<b;m+=8)k(this,m,m+7),k(this,m+1,m+6),k(this,m+2,m+5),k(this,m+3,m+4);return this},c.prototype.toString=function(){var b=0|this.length;return b===0?"":arguments.length===0?ct(this,0,b):E.apply(this,arguments)},c.prototype.equals=function(b){if(!c.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||c.compare(this,b)===0},c.prototype.inspect=function(){var b="",m=a.INSPECT_MAX_BYTES;return this.length>0&&(b=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(b+=" ... ")),"<Buffer "+b+">"},c.prototype.compare=function(b,m,A,D,$){if(!c.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),A===void 0&&(A=b?b.length:0),D===void 0&&(D=0),$===void 0&&($=this.length),m<0||A>b.length||D<0||$>this.length)throw new RangeError("out of range index");if(D>=$&&m>=A)return 0;if(D>=$)return-1;if(m>=A)return 1;if(this===b)return 0;for(var Y=($>>>=0)-(D>>>=0),at=(A>>>=0)-(m>>>=0),ft=Math.min(Y,at),gt=this.slice(D,$),dt=b.slice(m,A),vt=0;vt<ft;++vt)if(gt[vt]!==dt[vt]){Y=gt[vt],at=dt[vt];break}return Y<at?-1:at<Y?1:0},c.prototype.includes=function(b,m,A){return this.indexOf(b,m,A)!==-1},c.prototype.indexOf=function(b,m,A){return H(this,b,m,A,!0)},c.prototype.lastIndexOf=function(b,m,A){return H(this,b,m,A,!1)},c.prototype.write=function(b,m,A,D){if(m===void 0)D="utf8",A=this.length,m=0;else if(A===void 0&&typeof m=="string")D=m,A=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(A)?(A|=0,D===void 0&&(D="utf8")):(D=A,A=void 0)}var $=this.length-m;if((A===void 0||A>$)&&(A=$),b.length>0&&(A<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");for(var Y=!1;;)switch(D){case"hex":return I(this,b,m,A);case"utf8":case"utf-8":return L(this,b,m,A);case"ascii":return X(this,b,m,A);case"latin1":case"binary":return Q(this,b,m,A);case"base64":return rt(this,b,m,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,b,m,A);default:if(Y)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),Y=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var bt=4096;function kt(q,b,m){var A="";m=Math.min(q.length,m);for(var D=b;D<m;++D)A+=String.fromCharCode(127&q[D]);return A}function pt(q,b,m){var A="";m=Math.min(q.length,m);for(var D=b;D<m;++D)A+=String.fromCharCode(q[D]);return A}function wt(q,b,m){var A=q.length;(!b||b<0)&&(b=0),(!m||m<0||m>A)&&(m=A);for(var D="",$=b;$<m;++$)D+=lt(q[$]);return D}function yt(q,b,m){for(var A=q.slice(b,m),D="",$=0;$<A.length;$+=2)D+=String.fromCharCode(A[$]+256*A[$+1]);return D}function Ct(q,b,m){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+b>m)throw new RangeError("Trying to access beyond buffer length")}function Tt(q,b,m,A,D,$){if(!c.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>D||b<$)throw new RangeError('"value" argument is out of bounds');if(m+A>q.length)throw new RangeError("Index out of range")}function jt(q,b,m,A){b<0&&(b=65535+b+1);for(var D=0,$=Math.min(q.length-m,2);D<$;++D)q[m+D]=(b&255<<8*(A?D:1-D))>>>8*(A?D:1-D)}function Ot(q,b,m,A){b<0&&(b=4294967295+b+1);for(var D=0,$=Math.min(q.length-m,4);D<$;++D)q[m+D]=b>>>8*(A?D:3-D)&255}function Mt(q,b,m,A,D,$){if(m+A>q.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Jt(q,b,m,A,D){return D||Mt(q,0,m,4),v.write(q,b,m,A,23,4),m+4}function ee(q,b,m,A,D){return D||Mt(q,0,m,8),v.write(q,b,m,A,52,8),m+8}c.prototype.slice=function(b,m){var A,D=this.length;if((b=~~b)<0?(b+=D)<0&&(b=0):b>D&&(b=D),(m=m===void 0?D:~~m)<0?(m+=D)<0&&(m=0):m>D&&(m=D),m<b&&(m=b),c.TYPED_ARRAY_SUPPORT)(A=this.subarray(b,m)).__proto__=c.prototype;else{var $=m-b;A=new c($,void 0);for(var Y=0;Y<$;++Y)A[Y]=this[Y+b]}return A},c.prototype.readUIntLE=function(b,m,A){b|=0,m|=0,A||Ct(b,m,this.length);for(var D=this[b],$=1,Y=0;++Y<m&&($*=256);)D+=this[b+Y]*$;return D},c.prototype.readUIntBE=function(b,m,A){b|=0,m|=0,A||Ct(b,m,this.length);for(var D=this[b+--m],$=1;m>0&&($*=256);)D+=this[b+--m]*$;return D},c.prototype.readUInt8=function(b,m){return m||Ct(b,1,this.length),this[b]},c.prototype.readUInt16LE=function(b,m){return m||Ct(b,2,this.length),this[b]|this[b+1]<<8},c.prototype.readUInt16BE=function(b,m){return m||Ct(b,2,this.length),this[b]<<8|this[b+1]},c.prototype.readUInt32LE=function(b,m){return m||Ct(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]},c.prototype.readUInt32BE=function(b,m){return m||Ct(b,4,this.length),16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])},c.prototype.readIntLE=function(b,m,A){b|=0,m|=0,A||Ct(b,m,this.length);for(var D=this[b],$=1,Y=0;++Y<m&&($*=256);)D+=this[b+Y]*$;return D>=($*=128)&&(D-=Math.pow(2,8*m)),D},c.prototype.readIntBE=function(b,m,A){b|=0,m|=0,A||Ct(b,m,this.length);for(var D=m,$=1,Y=this[b+--D];D>0&&($*=256);)Y+=this[b+--D]*$;return Y>=($*=128)&&(Y-=Math.pow(2,8*m)),Y},c.prototype.readInt8=function(b,m){return m||Ct(b,1,this.length),128&this[b]?-1*(255-this[b]+1):this[b]},c.prototype.readInt16LE=function(b,m){m||Ct(b,2,this.length);var A=this[b]|this[b+1]<<8;return 32768&A?4294901760|A:A},c.prototype.readInt16BE=function(b,m){m||Ct(b,2,this.length);var A=this[b+1]|this[b]<<8;return 32768&A?4294901760|A:A},c.prototype.readInt32LE=function(b,m){return m||Ct(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},c.prototype.readInt32BE=function(b,m){return m||Ct(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},c.prototype.readFloatLE=function(b,m){return m||Ct(b,4,this.length),v.read(this,b,!0,23,4)},c.prototype.readFloatBE=function(b,m){return m||Ct(b,4,this.length),v.read(this,b,!1,23,4)},c.prototype.readDoubleLE=function(b,m){return m||Ct(b,8,this.length),v.read(this,b,!0,52,8)},c.prototype.readDoubleBE=function(b,m){return m||Ct(b,8,this.length),v.read(this,b,!1,52,8)},c.prototype.writeUIntLE=function(b,m,A,D){b=+b,m|=0,A|=0,D||Tt(this,b,m,A,Math.pow(2,8*A)-1,0);var $=1,Y=0;for(this[m]=255&b;++Y<A&&($*=256);)this[m+Y]=b/$&255;return m+A},c.prototype.writeUIntBE=function(b,m,A,D){b=+b,m|=0,A|=0,D||Tt(this,b,m,A,Math.pow(2,8*A)-1,0);var $=A-1,Y=1;for(this[m+$]=255&b;--$>=0&&(Y*=256);)this[m+$]=b/Y&255;return m+A},c.prototype.writeUInt8=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,1,255,0),c.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),this[m]=255&b,m+1},c.prototype.writeUInt16LE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[m]=255&b,this[m+1]=b>>>8):jt(this,b,m,!0),m+2},c.prototype.writeUInt16BE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[m]=b>>>8,this[m+1]=255&b):jt(this,b,m,!1),m+2},c.prototype.writeUInt32LE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[m+3]=b>>>24,this[m+2]=b>>>16,this[m+1]=b>>>8,this[m]=255&b):Ot(this,b,m,!0),m+4},c.prototype.writeUInt32BE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[m]=b>>>24,this[m+1]=b>>>16,this[m+2]=b>>>8,this[m+3]=255&b):Ot(this,b,m,!1),m+4},c.prototype.writeIntLE=function(b,m,A,D){if(b=+b,m|=0,!D){var $=Math.pow(2,8*A-1);Tt(this,b,m,A,$-1,-$)}var Y=0,at=1,ft=0;for(this[m]=255&b;++Y<A&&(at*=256);)b<0&&ft===0&&this[m+Y-1]!==0&&(ft=1),this[m+Y]=(b/at>>0)-ft&255;return m+A},c.prototype.writeIntBE=function(b,m,A,D){if(b=+b,m|=0,!D){var $=Math.pow(2,8*A-1);Tt(this,b,m,A,$-1,-$)}var Y=A-1,at=1,ft=0;for(this[m+Y]=255&b;--Y>=0&&(at*=256);)b<0&&ft===0&&this[m+Y+1]!==0&&(ft=1),this[m+Y]=(b/at>>0)-ft&255;return m+A},c.prototype.writeInt8=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,1,127,-128),c.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),b<0&&(b=255+b+1),this[m]=255&b,m+1},c.prototype.writeInt16LE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[m]=255&b,this[m+1]=b>>>8):jt(this,b,m,!0),m+2},c.prototype.writeInt16BE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[m]=b>>>8,this[m+1]=255&b):jt(this,b,m,!1),m+2},c.prototype.writeInt32LE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[m]=255&b,this[m+1]=b>>>8,this[m+2]=b>>>16,this[m+3]=b>>>24):Ot(this,b,m,!0),m+4},c.prototype.writeInt32BE=function(b,m,A){return b=+b,m|=0,A||Tt(this,b,m,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),c.TYPED_ARRAY_SUPPORT?(this[m]=b>>>24,this[m+1]=b>>>16,this[m+2]=b>>>8,this[m+3]=255&b):Ot(this,b,m,!1),m+4},c.prototype.writeFloatLE=function(b,m,A){return Jt(this,b,m,!0,A)},c.prototype.writeFloatBE=function(b,m,A){return Jt(this,b,m,!1,A)},c.prototype.writeDoubleLE=function(b,m,A){return ee(this,b,m,!0,A)},c.prototype.writeDoubleBE=function(b,m,A){return ee(this,b,m,!1,A)},c.prototype.copy=function(b,m,A,D){if(A||(A=0),D||D===0||(D=this.length),m>=b.length&&(m=b.length),m||(m=0),D>0&&D<A&&(D=A),D===A||b.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),b.length-m<D-A&&(D=b.length-m+A);var $,Y=D-A;if(this===b&&A<m&&m<D)for($=Y-1;$>=0;--$)b[$+m]=this[$+A];else if(Y<1e3||!c.TYPED_ARRAY_SUPPORT)for($=0;$<Y;++$)b[$+m]=this[$+A];else Uint8Array.prototype.set.call(b,this.subarray(A,A+Y),m);return Y},c.prototype.fill=function(b,m,A,D){if(typeof b=="string"){if(typeof m=="string"?(D=m,m=0,A=this.length):typeof A=="string"&&(D=A,A=this.length),b.length===1){var $=b.charCodeAt(0);$<256&&(b=$)}if(D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!c.isEncoding(D))throw new TypeError("Unknown encoding: "+D)}else typeof b=="number"&&(b&=255);if(m<0||this.length<m||this.length<A)throw new RangeError("Out of range index");if(A<=m)return this;var Y;if(m>>>=0,A=A===void 0?this.length:A>>>0,b||(b=0),typeof b=="number")for(Y=m;Y<A;++Y)this[Y]=b;else{var at=c.isBuffer(b)?b:Et(new c(b,D).toString()),ft=at.length;for(Y=0;Y<A-m;++Y)this[Y+m]=at[Y%ft]}return this};var $t=/[^+\/0-9A-Za-z-_]/g;function lt(q){return q<16?"0"+q.toString(16):q.toString(16)}function Et(q,b){var m;b=b||1/0;for(var A=q.length,D=null,$=[],Y=0;Y<A;++Y){if((m=q.charCodeAt(Y))>55295&&m<57344){if(!D){if(m>56319){(b-=3)>-1&&$.push(239,191,189);continue}if(Y+1===A){(b-=3)>-1&&$.push(239,191,189);continue}D=m;continue}if(m<56320){(b-=3)>-1&&$.push(239,191,189),D=m;continue}m=65536+(D-55296<<10|m-56320)}else D&&(b-=3)>-1&&$.push(239,191,189);if(D=null,m<128){if((b-=1)<0)break;$.push(m)}else if(m<2048){if((b-=2)<0)break;$.push(m>>6|192,63&m|128)}else if(m<65536){if((b-=3)<0)break;$.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;$.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return $}function St(q){return i.toByteArray(function(m){if((m=function(D){return D.trim?D.trim():D.replace(/^\s+|\s+$/g,"")}(m).replace($t,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(q))}function Rt(q,b,m,A){for(var D=0;D<A&&!(D+m>=b.length||D>=q.length);++D)b[D+m]=q[D];return D}}).call(this,f(29))},function(p,a){var f;f=function(){return this}();try{f=f||new Function("return this")()}catch{typeof window=="object"&&(f=window)}p.exports=f},function(p,a,f){a.byteLength=function(w){var R=c(w),P=R[0],C=R[1];return 3*(P+C)/4-C},a.toByteArray=function(w){var R,P,C=c(w),E=C[0],k=C[1],H=new v(function(X,Q,rt){return 3*(Q+rt)/4-rt}(0,E,k)),T=0,I=k>0?E-4:E;for(P=0;P<I;P+=4)R=i[w.charCodeAt(P)]<<18|i[w.charCodeAt(P+1)]<<12|i[w.charCodeAt(P+2)]<<6|i[w.charCodeAt(P+3)],H[T++]=R>>16&255,H[T++]=R>>8&255,H[T++]=255&R;return k===2&&(R=i[w.charCodeAt(P)]<<2|i[w.charCodeAt(P+1)]>>4,H[T++]=255&R),k===1&&(R=i[w.charCodeAt(P)]<<10|i[w.charCodeAt(P+1)]<<4|i[w.charCodeAt(P+2)]>>2,H[T++]=R>>8&255,H[T++]=255&R),H},a.fromByteArray=function(w){for(var R,P=w.length,C=P%3,E=[],k=16383,H=0,T=P-C;H<T;H+=k)E.push(y(w,H,H+k>T?T:H+k));return C===1?(R=w[P-1],E.push(d[R>>2]+d[R<<4&63]+"==")):C===2&&(R=(w[P-2]<<8)+w[P-1],E.push(d[R>>10]+d[R>>4&63]+d[R<<2&63]+"=")),E.join("")};for(var d=[],i=[],v=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=g.length;u<l;++u)d[u]=g[u],i[g.charCodeAt(u)]=u;function c(S){var w=S.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=S.indexOf("=");return R===-1&&(R=w),[R,R===w?0:4-R%4]}function y(S,w,R){for(var P,C,E=[],k=w;k<R;k+=3)P=(S[k]<<16&16711680)+(S[k+1]<<8&65280)+(255&S[k+2]),E.push(d[(C=P)>>18&63]+d[C>>12&63]+d[C>>6&63]+d[63&C]);return E.join("")}i[45]=62,i[95]=63},function(p,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(f,d,i,v,g){var u,l,c=8*g-v-1,y=(1<<c)-1,S=y>>1,w=-7,R=i?g-1:0,P=i?-1:1,C=f[d+R];for(R+=P,u=C&(1<<-w)-1,C>>=-w,w+=c;w>0;u=256*u+f[d+R],R+=P,w-=8);for(l=u&(1<<-w)-1,u>>=-w,w+=v;w>0;l=256*l+f[d+R],R+=P,w-=8);if(u===0)u=1-S;else{if(u===y)return l?NaN:1/0*(C?-1:1);l+=Math.pow(2,v),u-=S}return(C?-1:1)*l*Math.pow(2,u-v)},a.write=function(f,d,i,v,g,u){var l,c,y,S=8*u-g-1,w=(1<<S)-1,R=w>>1,P=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=v?0:u-1,E=v?1:-1,k=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(c=isNaN(d)?1:0,l=w):(l=Math.floor(Math.log(d)/Math.LN2),d*(y=Math.pow(2,-l))<1&&(l--,y*=2),(d+=l+R>=1?P/y:P*Math.pow(2,1-R))*y>=2&&(l++,y/=2),l+R>=w?(c=0,l=w):l+R>=1?(c=(d*y-1)*Math.pow(2,g),l+=R):(c=d*Math.pow(2,R-1)*Math.pow(2,g),l=0));g>=8;f[i+C]=255&c,C+=E,c/=256,g-=8);for(l=l<<g|c,S+=g;S>0;f[i+C]=255&l,C+=E,l/=256,S-=8);f[i+C-E]|=128*k}},function(p,a){var f={}.toString;p.exports=Array.isArray||function(d){return f.call(d)=="[object Array]"}},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(v){var g=v.jws,u=v.KeyUtil,l=v.X509,c=v.crypto,y=v.hextob64u,S=v.b64tohex,w=v.AllowedSigningAlgs;return function(){function R(){(function(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")})(this,R)}return R.parseJwt=function(C){d.Log.debug("JoseUtil.parseJwt");try{var E=g.JWS.parse(C);return{header:E.headerObj,payload:E.payloadObj}}catch(k){d.Log.error(k)}},R.validateJwt=function(C,E,k,H,T,I,L){d.Log.debug("JoseUtil.validateJwt");try{if(E.kty==="RSA")if(E.e&&E.n)E=u.getKey(E);else{if(!E.x5c||!E.x5c.length)return d.Log.error("JoseUtil.validateJwt: RSA key missing key material",E),Promise.reject(new Error("RSA key missing key material"));var X=S(E.x5c[0]);E=l.getPublicKeyFromCertHex(X)}else{if(E.kty!=="EC")return d.Log.error("JoseUtil.validateJwt: Unsupported key type",E&&E.kty),Promise.reject(new Error(E.kty));if(!(E.crv&&E.x&&E.y))return d.Log.error("JoseUtil.validateJwt: EC key missing key material",E),Promise.reject(new Error("EC key missing key material"));E=u.getKey(E)}return R._validateJwt(C,E,k,H,T,I,L)}catch(Q){return d.Log.error(Q&&Q.message||Q),Promise.reject("JWT validation failed")}},R.validateJwtAttributes=function(C,E,k,H,T,I){H||(H=0),T||(T=parseInt(Date.now()/1e3));var L=R.parseJwt(C).payload;if(!L.iss)return d.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(L.iss!==E)return d.Log.error("JoseUtil._validateJwt: Invalid issuer in token",L.iss),Promise.reject(new Error("Invalid issuer in token: "+L.iss));if(!L.aud)return d.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(L.aud===k||Array.isArray(L.aud)&&L.aud.indexOf(k)>=0))return d.Log.error("JoseUtil._validateJwt: Invalid audience in token",L.aud),Promise.reject(new Error("Invalid audience in token: "+L.aud));if(L.azp&&L.azp!==k)return d.Log.error("JoseUtil._validateJwt: Invalid azp in token",L.azp),Promise.reject(new Error("Invalid azp in token: "+L.azp));if(!I){var X=T+H,Q=T-H;if(!L.iat)return d.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(X<L.iat)return d.Log.error("JoseUtil._validateJwt: iat is in the future",L.iat),Promise.reject(new Error("iat is in the future: "+L.iat));if(L.nbf&&X<L.nbf)return d.Log.error("JoseUtil._validateJwt: nbf is in the future",L.nbf),Promise.reject(new Error("nbf is in the future: "+L.nbf));if(!L.exp)return d.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(L.exp<Q)return d.Log.error("JoseUtil._validateJwt: exp is in the past",L.exp),Promise.reject(new Error("exp is in the past:"+L.exp))}return Promise.resolve(L)},R._validateJwt=function(C,E,k,H,T,I,L){return R.validateJwtAttributes(C,k,H,T,I,L).then(function(X){try{return g.JWS.verify(C,E,w)?X:(d.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Q){return d.Log.error(Q&&Q.message||Q),Promise.reject(new Error("signature validation failed"))}})},R.hashString=function(C,E){try{return c.Util.hashString(C,E)}catch(k){d.Log.error(k)}},R.hexToBase64Url=function(C){try{return y(C)}catch(E){d.Log.error(E)}},R}()};var d=f(0);p.exports=a.default},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SigninResponse=void 0;var d=function(){function g(u,l){for(var c=0;c<l.length;c++){var y=l[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}return function(u,l,c){return l&&g(u.prototype,l),c&&g(u,c),u}}(),i=f(3);function v(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}a.SigninResponse=function(){function g(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";v(this,g);var c=i.UrlUtility.parseUrlFragment(u,l);this.error=c.error,this.error_description=c.error_description,this.error_uri=c.error_uri,this.code=c.code,this.state=c.state,this.id_token=c.id_token,this.session_state=c.session_state,this.access_token=c.access_token,this.token_type=c.token_type,this.scope=c.scope,this.profile=void 0,this.expires_in=c.expires_in}return d(g,[{key:"expires_in",get:function(){if(this.expires_at){var l=parseInt(Date.now()/1e3);return this.expires_at-l}},set:function(l){var c=parseInt(l);if(typeof c=="number"&&c>0){var y=parseInt(Date.now()/1e3);this.expires_at=y+c}}},{key:"expired",get:function(){var l=this.expires_in;if(l!==void 0)return l<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SignoutRequest=void 0;var d=f(0),i=f(3),v=f(9);a.SignoutRequest=function g(u){var l=u.url,c=u.id_token_hint,y=u.post_logout_redirect_uri,S=u.data,w=u.extraQueryParams,R=u.request_type;if(function(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}(this,g),!l)throw d.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var P in c&&(l=i.UrlUtility.addQueryParam(l,"id_token_hint",c)),y&&(l=i.UrlUtility.addQueryParam(l,"post_logout_redirect_uri",y),S&&(this.state=new v.State({data:S,request_type:R}),l=i.UrlUtility.addQueryParam(l,"state",this.state.id))),w)l=i.UrlUtility.addQueryParam(l,P,w[P]);this.url=l}},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SignoutResponse=void 0;var d=f(3);a.SignoutResponse=function i(v){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i);var g=d.UrlUtility.parseUrlFragment(v,"?");this.error=g.error,this.error_description=g.error_description,this.error_uri=g.error_uri,this.state=g.state}},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.InMemoryWebStorage=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.InMemoryWebStorage=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v),this._data={}}return v.prototype.getItem=function(u){return i.Log.debug("InMemoryWebStorage.getItem",u),this._data[u]},v.prototype.setItem=function(u,l){i.Log.debug("InMemoryWebStorage.setItem",u),this._data[u]=l},v.prototype.removeItem=function(u){i.Log.debug("InMemoryWebStorage.removeItem",u),delete this._data[u]},v.prototype.key=function(u){return Object.getOwnPropertyNames(this._data)[u]},d(v,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UserManager=void 0;var d=function(){function k(H,T){for(var I=0;I<T.length;I++){var L=T[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(H,L.key,L)}}return function(H,T,I){return T&&k(H.prototype,T),I&&k(H,I),H}}(),i=f(0),v=f(10),g=f(39),u=f(15),l=f(45),c=f(47),y=f(18),S=f(8),w=f(20),R=f(11),P=f(4);function C(k,H){if(!(k instanceof H))throw new TypeError("Cannot call a class as a function")}function E(k,H){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||typeof H!="object"&&typeof H!="function"?k:H}a.UserManager=function(k){function H(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.SilentRenewService,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.SessionMonitor,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w.TokenRevocationClient,Q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:R.TokenClient,rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:P.JoseUtil;C(this,H),T instanceof g.UserManagerSettings||(T=new g.UserManagerSettings(T));var M=E(this,k.call(this,T));return M._events=new l.UserManagerEvents(T),M._silentRenewService=new I(M),M.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),M.startSilentRenew()),M.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),M._sessionMonitor=new L(M)),M._tokenRevocationClient=new X(M._settings),M._tokenClient=new Q(M._settings),M._joseUtil=rt,M}return function(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}(H,k),H.prototype.getUser=function(){var I=this;return this._loadUser().then(function(L){return L?(i.Log.info("UserManager.getUser: user loaded"),I._events.load(L,!1),L):(i.Log.info("UserManager.getUser: user not found in storage"),null)})},H.prototype.removeUser=function(){var I=this;return this.storeUser(null).then(function(){i.Log.info("UserManager.removeUser: user removed from storage"),I._events.unload()})},H.prototype.signinRedirect=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="si:r";var L={useReplaceToNavigate:I.useReplaceToNavigate};return this._signinStart(I,this._redirectNavigator,L).then(function(){i.Log.info("UserManager.signinRedirect: successful")})},H.prototype.signinRedirectCallback=function(I){return this._signinEnd(I||this._redirectNavigator.url).then(function(L){return L.profile&&L.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",L.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),L})},H.prototype.signinPopup=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="si:p";var L=I.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return L?(I.redirect_uri=L,I.display="popup",this._signin(I,this._popupNavigator,{startUrl:L,popupWindowFeatures:I.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:I.popupWindowTarget||this.settings.popupWindowTarget}).then(function(X){return X&&(X.profile&&X.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",X.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),X})):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},H.prototype.signinPopupCallback=function(I){return this._signinCallback(I,this._popupNavigator).then(function(L){return L&&(L.profile&&L.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",L.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),L}).catch(function(L){i.Log.error(L.message)})},H.prototype.signinSilent=function(){var I=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return L=Object.assign({},L),this._loadUser().then(function(X){return X&&X.refresh_token?(L.refresh_token=X.refresh_token,I._useRefreshToken(L)):(L.request_type="si:s",L.id_token_hint=L.id_token_hint||I.settings.includeIdTokenInSilentRenew&&X&&X.id_token,X&&I._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",X.profile.sub),L.current_sub=X.profile.sub),I._signinSilentIframe(L))})},H.prototype._useRefreshToken=function(){var I=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(L).then(function(X){return X?X.access_token?I._loadUser().then(function(Q){if(Q){var rt=Promise.resolve();return X.id_token&&(rt=I._validateIdTokenFromTokenRefreshToken(Q.profile,X.id_token)),rt.then(function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),Q.id_token=X.id_token||Q.id_token,Q.access_token=X.access_token,Q.refresh_token=X.refresh_token||Q.refresh_token,Q.expires_in=X.expires_in,I.storeUser(Q).then(function(){return I._events.load(Q),Q})})}return null}):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},H.prototype._validateIdTokenFromTokenRefreshToken=function(I,L){var X=this;return this._metadataService.getIssuer().then(function(Q){return X.settings.getEpochTime().then(function(rt){return X._joseUtil.validateJwtAttributes(L,Q,X._settings.client_id,X._settings.clockSkew,rt).then(function(M){return M?M.sub!==I.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):M.auth_time&&M.auth_time!==I.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):M.azp&&M.azp!==I.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!M.azp&&I.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},H.prototype._signinSilentIframe=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=I.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return L?(I.redirect_uri=L,I.prompt=I.prompt||"none",this._signin(I,this._iframeNavigator,{startUrl:L,silentRequestTimeout:I.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(X){return X&&(X.profile&&X.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",X.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),X})):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},H.prototype.signinSilentCallback=function(I){return this._signinCallback(I,this._iframeNavigator).then(function(L){return L&&(L.profile&&L.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",L.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),L})},H.prototype.signinCallback=function(I){var L=this;return this.readSigninResponseState(I).then(function(X){var Q=X.state;return X.response,Q.request_type==="si:r"?L.signinRedirectCallback(I):Q.request_type==="si:p"?L.signinPopupCallback(I):Q.request_type==="si:s"?L.signinSilentCallback(I):Promise.reject(new Error("invalid response_type in state"))})},H.prototype.signoutCallback=function(I,L){var X=this;return this.readSignoutResponseState(I).then(function(Q){var rt=Q.state,M=Q.response;return rt?rt.request_type==="so:r"?X.signoutRedirectCallback(I):rt.request_type==="so:p"?X.signoutPopupCallback(I,L):Promise.reject(new Error("invalid response_type in state")):M})},H.prototype.querySessionStatus=function(){var I=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(L=Object.assign({},L)).request_type="si:s";var X=L.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return X?(L.redirect_uri=X,L.prompt="none",L.response_type=L.response_type||this.settings.query_status_response_type,L.scope=L.scope||"openid",L.skipUserInfo=!0,this._signinStart(L,this._iframeNavigator,{startUrl:X,silentRequestTimeout:L.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return I.processSigninResponse(Q.url).then(function(rt){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),rt.session_state&&rt.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",rt.profile.sub),{session_state:rt.session_state,sub:rt.profile.sub,sid:rt.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(rt){if(rt.session_state&&I.settings.monitorAnonymousSession&&(rt.message=="login_required"||rt.message=="consent_required"||rt.message=="interaction_required"||rt.message=="account_selection_required"))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:rt.session_state};throw rt})})):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},H.prototype._signin=function(I,L){var X=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(I,L,Q).then(function(rt){return X._signinEnd(rt.url,I)})},H.prototype._signinStart=function(I,L){var X=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L.prepare(Q).then(function(rt){return i.Log.debug("UserManager._signinStart: got navigator window handle"),X.createSigninRequest(I).then(function(M){return i.Log.debug("UserManager._signinStart: got signin request"),Q.url=M.url,Q.id=M.state.id,rt.navigate(Q)}).catch(function(M){throw rt.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),rt.close()),M})})},H.prototype._signinEnd=function(I){var L=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(I).then(function(Q){i.Log.debug("UserManager._signinEnd: got signin response");var rt=new u.User(Q);if(X.current_sub){if(X.current_sub!==rt.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",rt.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return L.storeUser(rt).then(function(){return i.Log.debug("UserManager._signinEnd: user stored"),L._events.load(rt),rt})})},H.prototype._signinCallback=function(I,L){i.Log.debug("UserManager._signinCallback");var X=this._settings.response_mode==="query"||!this._settings.response_mode&&S.SigninRequest.isCode(this._settings.response_type)?"?":"#";return L.callback(I,void 0,X)},H.prototype.signoutRedirect=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="so:r";var L=I.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;L&&(I.post_logout_redirect_uri=L);var X={useReplaceToNavigate:I.useReplaceToNavigate};return this._signoutStart(I,this._redirectNavigator,X).then(function(){i.Log.info("UserManager.signoutRedirect: successful")})},H.prototype.signoutRedirectCallback=function(I){return this._signoutEnd(I||this._redirectNavigator.url).then(function(L){return i.Log.info("UserManager.signoutRedirectCallback: successful"),L})},H.prototype.signoutPopup=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="so:p";var L=I.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return I.post_logout_redirect_uri=L,I.display="popup",I.post_logout_redirect_uri&&(I.state=I.state||{}),this._signout(I,this._popupNavigator,{startUrl:L,popupWindowFeatures:I.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:I.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){i.Log.info("UserManager.signoutPopup: successful")})},H.prototype.signoutPopupCallback=function(I,L){return L===void 0&&typeof I=="boolean"&&(L=I,I=null),this._popupNavigator.callback(I,L,"?").then(function(){i.Log.info("UserManager.signoutPopupCallback: successful")})},H.prototype._signout=function(I,L){var X=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(I,L,Q).then(function(rt){return X._signoutEnd(rt.url)})},H.prototype._signoutStart=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=this,X=arguments[1],Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return X.prepare(Q).then(function(rt){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),L._loadUser().then(function(M){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(L._settings.revokeAccessTokenOnSignout?L._revokeInternal(M):Promise.resolve()).then(function(){var ot=I.id_token_hint||M&&M.id_token;return ot&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),I.id_token_hint=ot),L.removeUser().then(function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),L.createSignoutRequest(I).then(function(ct){return i.Log.debug("UserManager._signoutStart: got signout request"),Q.url=ct.url,ct.state&&(Q.id=ct.state.id),rt.navigate(Q)})})})}).catch(function(M){throw rt.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),rt.close()),M})})},H.prototype._signoutEnd=function(I){return this.processSignoutResponse(I).then(function(L){return i.Log.debug("UserManager._signoutEnd: got signout response"),L})},H.prototype.revokeAccessToken=function(){var I=this;return this._loadUser().then(function(L){return I._revokeInternal(L,!0).then(function(X){if(X)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),L.access_token=null,L.refresh_token=null,L.expires_at=null,L.token_type=null,I.storeUser(L).then(function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),I._events.load(L)})})}).then(function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},H.prototype._revokeInternal=function(I,L){var X=this;if(I){var Q=I.access_token,rt=I.refresh_token;return this._revokeAccessTokenInternal(Q,L).then(function(M){return X._revokeRefreshTokenInternal(rt,L).then(function(ot){return M||ot||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),M||ot})})}return Promise.resolve(!1)},H.prototype._revokeAccessTokenInternal=function(I,L){return!I||I.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(I,L).then(function(){return!0})},H.prototype._revokeRefreshTokenInternal=function(I,L){return I?this._tokenRevocationClient.revoke(I,L,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},H.prototype.startSilentRenew=function(){this._silentRenewService.start()},H.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},H.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(I){return I?(i.Log.debug("UserManager._loadUser: user storageString loaded"),u.User.fromStorageString(I)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)})},H.prototype.storeUser=function(I){if(I){i.Log.debug("UserManager.storeUser: storing user");var L=I.toStorageString();return this._userStore.set(this._userStoreKey,L)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},d(H,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),H}(v.OidcClient)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UserManagerSettings=void 0;var d=function(){function R(P,C){for(var E=0;E<C.length;E++){var k=C[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,k.key,k)}}return function(P,C,E){return C&&R(P.prototype,C),E&&R(P,E),P}}(),i=(f(0),f(5)),v=f(40),g=f(41),u=f(43),l=f(6),c=f(1),y=f(8);function S(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function w(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?R:P}a.UserManagerSettings=function(R){function P(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=C.popup_redirect_uri,k=C.popup_post_logout_redirect_uri,H=C.popupWindowFeatures,T=C.popupWindowTarget,I=C.silent_redirect_uri,L=C.silentRequestTimeout,X=C.automaticSilentRenew,Q=X!==void 0&&X,rt=C.validateSubOnSilentRenew,M=rt!==void 0&&rt,ot=C.includeIdTokenInSilentRenew,ct=ot===void 0||ot,bt=C.monitorSession,kt=bt===void 0||bt,pt=C.monitorAnonymousSession,wt=pt!==void 0&&pt,yt=C.checkSessionInterval,Ct=yt===void 0?2e3:yt,Tt=C.stopCheckSessionOnError,jt=Tt===void 0||Tt,Ot=C.query_status_response_type,Mt=C.revokeAccessTokenOnSignout,Jt=Mt!==void 0&&Mt,ee=C.accessTokenExpiringNotificationTime,$t=ee===void 0?60:ee,lt=C.redirectNavigator,Et=lt===void 0?new v.RedirectNavigator:lt,St=C.popupNavigator,Rt=St===void 0?new g.PopupNavigator:St,q=C.iframeNavigator,b=q===void 0?new u.IFrameNavigator:q,m=C.userStore,A=m===void 0?new l.WebStorageStateStore({store:c.Global.sessionStorage}):m;S(this,P);var D=w(this,R.call(this,arguments[0]));return D._popup_redirect_uri=E,D._popup_post_logout_redirect_uri=k,D._popupWindowFeatures=H,D._popupWindowTarget=T,D._silent_redirect_uri=I,D._silentRequestTimeout=L,D._automaticSilentRenew=Q,D._validateSubOnSilentRenew=M,D._includeIdTokenInSilentRenew=ct,D._accessTokenExpiringNotificationTime=$t,D._monitorSession=kt,D._monitorAnonymousSession=wt,D._checkSessionInterval=Ct,D._stopCheckSessionOnError=jt,Ot?D._query_status_response_type=Ot:arguments[0]&&arguments[0].response_type?D._query_status_response_type=y.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":D._query_status_response_type="id_token",D._revokeAccessTokenOnSignout=Jt,D._redirectNavigator=Et,D._popupNavigator=Rt,D._iframeNavigator=b,D._userStore=A,D}return function(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}(P,R),d(P,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),P}(i.OidcClientSettings)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.RedirectNavigator=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.RedirectNavigator=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return v.prototype.prepare=function(){return Promise.resolve(this)},v.prototype.navigate=function(u){return u&&u.url?(u.useReplaceToNavigate?window.location.replace(u.url):window.location=u.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},d(v,[{key:"url",get:function(){return window.location.href}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.PopupNavigator=void 0;var d=f(0),i=f(42);a.PopupNavigator=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return v.prototype.prepare=function(u){var l=new i.PopupWindow(u);return Promise.resolve(l)},v.prototype.callback=function(u,l,c){d.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(u,l,c),Promise.resolve()}catch(y){return Promise.reject(y)}},v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.PopupWindow=void 0;var d=function(){function g(u,l){for(var c=0;c<l.length;c++){var y=l[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}return function(u,l,c){return l&&g(u.prototype,l),c&&g(u,c),u}}(),i=f(0),v=f(3);a.PopupWindow=function(){function g(u){var l=this;(function(w,R){if(!(w instanceof R))throw new TypeError("Cannot call a class as a function")})(this,g),this._promise=new Promise(function(S,w){l._resolve=S,l._reject=w});var c=u.popupWindowTarget||"_blank",y=u.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",c,y),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return g.prototype.navigate=function(l){return this._popup?l&&l.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=l.id,this._id&&(window["popupCallback_"+l.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=l.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},g.prototype._success=function(l){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(l)},g.prototype._error=function(l){i.Log.error("PopupWindow.error: ",l),this._cleanup(),this._reject(new Error(l))},g.prototype.close=function(){this._cleanup(!1)},g.prototype._cleanup=function(l){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!l&&this._popup.close(),this._popup=null},g.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},g.prototype._callback=function(l,c){this._cleanup(c),l?(i.Log.debug("PopupWindow.callback success"),this._success({url:l})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},g.notifyOpener=function(l,c,y){if(window.opener){if(l=l||window.location.href){var S=v.UrlUtility.parseUrlFragment(l,y);if(S.state){var w="popupCallback_"+S.state,R=window.opener[w];R?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),R(l,c)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},d(g,[{key:"promise",get:function(){return this._promise}}]),g}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.IFrameNavigator=void 0;var d=f(0),i=f(44);a.IFrameNavigator=function(){function v(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,v)}return v.prototype.prepare=function(u){var l=new i.IFrameWindow(u);return Promise.resolve(l)},v.prototype.callback=function(u){d.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(u),Promise.resolve()}catch(l){return Promise.reject(l)}},v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.IFrameWindow=void 0;var d=function(){function v(g,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}return function(g,u,l){return u&&v(g.prototype,u),l&&v(g,l),g}}(),i=f(0);a.IFrameWindow=function(){function v(g){var u=this;(function(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v),this._promise=new Promise(function(l,c){u._resolve=l,u._reject=c}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return v.prototype.navigate=function(u){if(u&&u.url){var l=u.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",l),this._timer=window.setTimeout(this._timeout.bind(this),l),this._frame.src=u.url}else this._error("No url provided");return this.promise},v.prototype._success=function(u){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(u)},v.prototype._error=function(u){this._cleanup(),i.Log.error(u),this._reject(new Error(u))},v.prototype.close=function(){this._cleanup()},v.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},v.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},v.prototype._message=function(u){if(i.Log.debug("IFrameWindow.message"),this._timer&&u.origin===this._origin&&u.source===this._frame.contentWindow&&typeof u.data=="string"&&(u.data.startsWith("http://")||u.data.startsWith("https://"))){var l=u.data;l?this._success({url:l}):this._error("Invalid response from frame")}},v.notifyParent=function(u){i.Log.debug("IFrameWindow.notifyParent"),(u=u||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(u,location.protocol+"//"+location.host))},d(v,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),v}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.UserManagerEvents=void 0;var d=f(0),i=f(16),v=f(17);a.UserManagerEvents=function(g){function u(l){(function(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u);var c=function(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?S:w}(this,g.call(this,l));return c._userLoaded=new v.Event("User loaded"),c._userUnloaded=new v.Event("User unloaded"),c._silentRenewError=new v.Event("Silent renew error"),c._userSignedIn=new v.Event("User signed in"),c._userSignedOut=new v.Event("User signed out"),c._userSessionChanged=new v.Event("User session changed"),c}return function(c,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(c,y):c.__proto__=y)}(u,g),u.prototype.load=function(c){var y=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];d.Log.debug("UserManagerEvents.load"),g.prototype.load.call(this,c),y&&this._userLoaded.raise(c)},u.prototype.unload=function(){d.Log.debug("UserManagerEvents.unload"),g.prototype.unload.call(this),this._userUnloaded.raise()},u.prototype.addUserLoaded=function(c){this._userLoaded.addHandler(c)},u.prototype.removeUserLoaded=function(c){this._userLoaded.removeHandler(c)},u.prototype.addUserUnloaded=function(c){this._userUnloaded.addHandler(c)},u.prototype.removeUserUnloaded=function(c){this._userUnloaded.removeHandler(c)},u.prototype.addSilentRenewError=function(c){this._silentRenewError.addHandler(c)},u.prototype.removeSilentRenewError=function(c){this._silentRenewError.removeHandler(c)},u.prototype._raiseSilentRenewError=function(c){d.Log.debug("UserManagerEvents._raiseSilentRenewError",c.message),this._silentRenewError.raise(c)},u.prototype.addUserSignedIn=function(c){this._userSignedIn.addHandler(c)},u.prototype.removeUserSignedIn=function(c){this._userSignedIn.removeHandler(c)},u.prototype._raiseUserSignedIn=function(){d.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},u.prototype.addUserSignedOut=function(c){this._userSignedOut.addHandler(c)},u.prototype.removeUserSignedOut=function(c){this._userSignedOut.removeHandler(c)},u.prototype._raiseUserSignedOut=function(){d.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},u.prototype.addUserSessionChanged=function(c){this._userSessionChanged.addHandler(c)},u.prototype.removeUserSessionChanged=function(c){this._userSessionChanged.removeHandler(c)},u.prototype._raiseUserSessionChanged=function(){d.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},u}(i.AccessTokenEvents)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.Timer=void 0;var d=function(){function c(y,S){for(var w=0;w<S.length;w++){var R=S[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(y,R.key,R)}}return function(y,S,w){return S&&c(y.prototype,S),w&&c(y,w),y}}(),i=f(0),v=f(1),g=f(17);function u(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}function l(c,y){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?c:y}a.Timer=function(c){function y(S){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.Global.timer,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;u(this,y);var P=l(this,c.call(this,S));return P._timer=w,P._nowFunc=R||function(){return Date.now()/1e3},P}return function(w,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);w.prototype=Object.create(R&&R.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(w,R):w.__proto__=R)}(y,c),y.prototype.init=function(w){w<=0&&(w=1),w=parseInt(w);var R=this.now+w;if(this.expiration===R&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",w),this._expiration=R;var P=5;w<P&&(P=w),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*P)}},y.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},y.prototype._callback=function(){var w=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",w),this._expiration<=this.now&&(this.cancel(),c.prototype.raise.call(this))},d(y,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),y}(g.Event)},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.SilentRenewService=void 0;var d=f(0);a.SilentRenewService=function(){function i(v){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),this._userManager=v}return i.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(g){}).catch(function(g){d.Log.error("SilentRenewService.start: Error from getUser:",g.message)}))},i.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},i.prototype._tokenExpiring=function(){var g=this;this._userManager.signinSilent().then(function(u){d.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(u){d.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",u.message),g._userManager.events._raiseSilentRenewError(u)})},i}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.CordovaPopupNavigator=void 0;var d=f(21);a.CordovaPopupNavigator=function(){function i(){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,i)}return i.prototype.prepare=function(g){var u=new d.CordovaPopupWindow(g);return Promise.resolve(u)},i}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.CordovaIFrameNavigator=void 0;var d=f(21);a.CordovaIFrameNavigator=function(){function i(){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,i)}return i.prototype.prepare=function(g){g.popupWindowFeatures="hidden=yes";var u=new d.CordovaPopupWindow(g);return Promise.resolve(u)},i}()},function(p,a,f){Object.defineProperty(a,"__esModule",{value:!0}),a.Version="1.11.5"}])})})(h0);const dr=f0({projectResourceID:"249118459256900146",client_id:"249118590152804914@vue_example",issuer:"http://localhost:8080/"});dr.events.addAccessTokenExpiring(function(){console.log("access token expiring")});dr.events.addAccessTokenExpired(function(){console.log("access token expired")});dr.events.addSilentRenewError(function(n){console.error("silent renew error",n)});dr.events.addUserLoaded(function(n){console.log("user loaded",n)});dr.events.addUserUnloaded(function(){console.log("user unloaded")});dr.events.addUserSignedOut(function(){console.log("user signed out")});dr.events.addUserSessionChanged(function(){console.log("user session changed")});const Sl=zg({history:fg("/"),routes:[{path:"/",name:"home",component:a0},{path:"/about",name:"about",component:()=>zi(()=>import("./AboutView-PgtAla6k.js"),__vite__mapDeps([0,1]))},{path:"/login",name:"login",meta:{authName:dr.authName},component:()=>zi(()=>import("./Login-rkdDkLhX.js"),__vite__mapDeps([2,3]))},{path:"/admin",name:"admin",component:()=>dr.hasRole("admin")?zi(()=>import("./Admin-bKtawvy6.js"),__vite__mapDeps([4,5])):zi(()=>import("./NoAccess-J6DWHCXe.js"),__vite__mapDeps([6,5]))}]});dr.useRouter(Sl);dr.startup().then(n=>{if(n){const s=ol(op);s.use(Sl),s.config.globalProperties.$zitadel=dr,s.mount("#app")}else console.error("Startup was not ok")}).catch(console.error);export{je as F,en as _,fe as a,ce as b,hr as c,Ur as d,qe as o,th as r,Su as t};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AboutView-PgtAla6k.js","assets/AboutView-ug8e6cRs.css","assets/Login-rkdDkLhX.js","assets/Login-bMz_4BmZ.css","assets/Admin-bKtawvy6.js","assets/Admin-wsnl_bPI.css","assets/NoAccess-J6DWHCXe.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
